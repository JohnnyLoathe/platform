!function(definition){"function"==typeof define?define(definition):"function"==typeof YUI?YUI.add("es5",definition):definition()}(function(){function Empty(){}function toInteger(n){return n=+n,n!==n?n=0:0!==n&&n!==1/0&&n!==-(1/0)&&(n=(n>0||-1)*Math.floor(Math.abs(n))),n}function isPrimitive(input){var type=typeof input;return null===input||"undefined"===type||"boolean"===type||"number"===type||"string"===type}function toPrimitive(input){var val,valueOf,toString;if(isPrimitive(input))return input;if(valueOf=input.valueOf,"function"==typeof valueOf&&(val=valueOf.call(input),isPrimitive(val)))return val;if(toString=input.toString,"function"==typeof toString&&(val=toString.call(input),isPrimitive(val)))return val;throw new TypeError}Function.prototype.bind||(Function.prototype.bind=function(that){var target=this;if("function"!=typeof target)throw new TypeError("Function.prototype.bind called on incompatible "+target);var args=_Array_slice_.call(arguments,1),bound=function(){if(this instanceof bound){var result=target.apply(this,args.concat(_Array_slice_.call(arguments)));return Object(result)===result?result:this}return target.apply(that,args.concat(_Array_slice_.call(arguments)))};return target.prototype&&(Empty.prototype=target.prototype,bound.prototype=new Empty,Empty.prototype=null),bound});var defineGetter,defineSetter,lookupGetter,lookupSetter,supportsAccessors,call=Function.prototype.call,prototypeOfArray=Array.prototype,prototypeOfObject=Object.prototype,_Array_slice_=prototypeOfArray.slice,_toString=call.bind(prototypeOfObject.toString),owns=call.bind(prototypeOfObject.hasOwnProperty);if((supportsAccessors=owns(prototypeOfObject,"__defineGetter__"))&&(defineGetter=call.bind(prototypeOfObject.__defineGetter__),defineSetter=call.bind(prototypeOfObject.__defineSetter__),lookupGetter=call.bind(prototypeOfObject.__lookupGetter__),lookupSetter=call.bind(prototypeOfObject.__lookupSetter__)),2!=[1,2].splice(0).length){var array_splice=Array.prototype.splice;Array.prototype.splice=function(){function makeArray(l){for(var a=[];l--;)a.unshift(l);return a}var lengthBefore,array=[];return array.splice.bind(array,0,0).apply(null,makeArray(20)),array.splice.bind(array,0,0).apply(null,makeArray(26)),lengthBefore=array.length,array.splice(5,0,"XXX"),lengthBefore+1==array.length?!0:void 0}()?function(start,deleteCount){return arguments.length?array_splice.apply(this,[void 0===start?0:start,void 0===deleteCount?this.length-start:deleteCount].concat(_Array_slice_.call(arguments,2))):[]}:function(start,deleteCount){var result,args=_Array_slice_.call(arguments,2),addElementsCount=args.length;if(!arguments.length)return[];if(void 0===start&&(start=0),void 0===deleteCount&&(deleteCount=this.length-start),addElementsCount>0){if(0>=deleteCount){if(start==this.length)return this.push.apply(this,args),[];if(0==start)return this.unshift.apply(this,args),[]}return result=_Array_slice_.call(this,start,start+deleteCount),args.push.apply(args,_Array_slice_.call(this,start+deleteCount,this.length)),args.unshift.apply(args,_Array_slice_.call(this,0,start)),args.unshift(0,this.length),array_splice.apply(this,args),result}return array_splice.call(this,start,deleteCount)}}if(1!=[].unshift(0)){var array_unshift=Array.prototype.unshift;Array.prototype.unshift=function(){return array_unshift.apply(this,arguments),this.length}}Array.isArray||(Array.isArray=function(obj){return"[object Array]"==_toString(obj)});var boxedString=Object("a"),splitString="a"!=boxedString[0]||!(0 in boxedString);if(Array.prototype.forEach||(Array.prototype.forEach=function(fun){var object=toObject(this),self=splitString&&"[object String]"==_toString(this)?this.split(""):object,thisp=arguments[1],i=-1,length=self.length>>>0;if("[object Function]"!=_toString(fun))throw new TypeError;for(;++i<length;)i in self&&fun.call(thisp,self[i],i,object)}),Array.prototype.map||(Array.prototype.map=function(fun){var object=toObject(this),self=splitString&&"[object String]"==_toString(this)?this.split(""):object,length=self.length>>>0,result=Array(length),thisp=arguments[1];if("[object Function]"!=_toString(fun))throw new TypeError(fun+" is not a function");for(var i=0;length>i;i++)i in self&&(result[i]=fun.call(thisp,self[i],i,object));return result}),Array.prototype.filter||(Array.prototype.filter=function(fun){var value,object=toObject(this),self=splitString&&"[object String]"==_toString(this)?this.split(""):object,length=self.length>>>0,result=[],thisp=arguments[1];if("[object Function]"!=_toString(fun))throw new TypeError(fun+" is not a function");for(var i=0;length>i;i++)i in self&&(value=self[i],fun.call(thisp,value,i,object)&&result.push(value));return result}),Array.prototype.every||(Array.prototype.every=function(fun){var object=toObject(this),self=splitString&&"[object String]"==_toString(this)?this.split(""):object,length=self.length>>>0,thisp=arguments[1];if("[object Function]"!=_toString(fun))throw new TypeError(fun+" is not a function");for(var i=0;length>i;i++)if(i in self&&!fun.call(thisp,self[i],i,object))return!1;return!0}),Array.prototype.some||(Array.prototype.some=function(fun){var object=toObject(this),self=splitString&&"[object String]"==_toString(this)?this.split(""):object,length=self.length>>>0,thisp=arguments[1];if("[object Function]"!=_toString(fun))throw new TypeError(fun+" is not a function");for(var i=0;length>i;i++)if(i in self&&fun.call(thisp,self[i],i,object))return!0;return!1}),Array.prototype.reduce||(Array.prototype.reduce=function(fun){var object=toObject(this),self=splitString&&"[object String]"==_toString(this)?this.split(""):object,length=self.length>>>0;if("[object Function]"!=_toString(fun))throw new TypeError(fun+" is not a function");if(!length&&1==arguments.length)throw new TypeError("reduce of empty array with no initial value");var result,i=0;if(arguments.length>=2)result=arguments[1];else for(;;){if(i in self){result=self[i++];break}if(++i>=length)throw new TypeError("reduce of empty array with no initial value")}for(;length>i;i++)i in self&&(result=fun.call(void 0,result,self[i],i,object));return result}),Array.prototype.reduceRight||(Array.prototype.reduceRight=function(fun){var object=toObject(this),self=splitString&&"[object String]"==_toString(this)?this.split(""):object,length=self.length>>>0;if("[object Function]"!=_toString(fun))throw new TypeError(fun+" is not a function");if(!length&&1==arguments.length)throw new TypeError("reduceRight of empty array with no initial value");var result,i=length-1;if(arguments.length>=2)result=arguments[1];else for(;;){if(i in self){result=self[i--];break}if(--i<0)throw new TypeError("reduceRight of empty array with no initial value")}if(0>i)return result;do i in this&&(result=fun.call(void 0,result,self[i],i,object));while(i--);return result}),Array.prototype.indexOf&&-1==[0,1].indexOf(1,2)||(Array.prototype.indexOf=function(sought){var self=splitString&&"[object String]"==_toString(this)?this.split(""):toObject(this),length=self.length>>>0;if(!length)return-1;var i=0;for(arguments.length>1&&(i=toInteger(arguments[1])),i=i>=0?i:Math.max(0,length+i);length>i;i++)if(i in self&&self[i]===sought)return i;return-1}),Array.prototype.lastIndexOf&&-1==[0,1].lastIndexOf(0,-3)||(Array.prototype.lastIndexOf=function(sought){var self=splitString&&"[object String]"==_toString(this)?this.split(""):toObject(this),length=self.length>>>0;if(!length)return-1;var i=length-1;for(arguments.length>1&&(i=Math.min(i,toInteger(arguments[1]))),i=i>=0?i:length-Math.abs(i);i>=0;i--)if(i in self&&sought===self[i])return i;return-1}),!Object.keys){var hasDontEnumBug=!0,dontEnums=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],dontEnumsLength=dontEnums.length;for(var key in{toString:null})hasDontEnumBug=!1;Object.keys=function keys(object){if("object"!=typeof object&&"function"!=typeof object||null===object)throw new TypeError("Object.keys called on a non-object");var keys=[];for(var name in object)owns(object,name)&&keys.push(name);if(hasDontEnumBug)for(var i=0,ii=dontEnumsLength;ii>i;i++){var dontEnum=dontEnums[i];owns(object,dontEnum)&&keys.push(dontEnum)}return keys}}var negativeDate=-621987552e5,negativeYearString="-000001";Date.prototype.toISOString&&-1!==new Date(negativeDate).toISOString().indexOf(negativeYearString)||(Date.prototype.toISOString=function(){var result,length,value,year,month;if(!isFinite(this))throw new RangeError("Date.prototype.toISOString called on non-finite value.");for(year=this.getUTCFullYear(),month=this.getUTCMonth(),year+=Math.floor(month/12),month=(month%12+12)%12,result=[month+1,this.getUTCDate(),this.getUTCHours(),this.getUTCMinutes(),this.getUTCSeconds()],year=(0>year?"-":year>9999?"+":"")+("00000"+Math.abs(year)).slice(year>=0&&9999>=year?-4:-6),length=result.length;length--;)value=result[length],10>value&&(result[length]="0"+value);return year+"-"+result.slice(0,2).join("-")+"T"+result.slice(2).join(":")+"."+("000"+this.getUTCMilliseconds()).slice(-3)+"Z"});var dateToJSONIsSupported=!1;try{dateToJSONIsSupported=Date.prototype.toJSON&&null===new Date(0/0).toJSON()&&-1!==new Date(negativeDate).toJSON().indexOf(negativeYearString)&&Date.prototype.toJSON.call({toISOString:function(){return!0}})}catch(e){}dateToJSONIsSupported||(Date.prototype.toJSON=function(){var toISO,o=Object(this),tv=toPrimitive(o);if("number"==typeof tv&&!isFinite(tv))return null;if(toISO=o.toISOString,"function"!=typeof toISO)throw new TypeError("toISOString property is not callable");return toISO.call(o)}),Date=function(NativeDate){function Date(Y,M,D,h,m,s,ms){var length=arguments.length;if(this instanceof NativeDate){var date=1==length&&String(Y)===Y?new NativeDate(Date.parse(Y)):length>=7?new NativeDate(Y,M,D,h,m,s,ms):length>=6?new NativeDate(Y,M,D,h,m,s):length>=5?new NativeDate(Y,M,D,h,m):length>=4?new NativeDate(Y,M,D,h):length>=3?new NativeDate(Y,M,D):length>=2?new NativeDate(Y,M):length>=1?new NativeDate(Y):new NativeDate;return date.constructor=Date,date}return NativeDate.apply(this,arguments)}function dayFromMonth(year,month){var t=month>1?1:0;return months[month]+Math.floor((year-1969+t)/4)-Math.floor((year-1901+t)/100)+Math.floor((year-1601+t)/400)+365*(year-1970)}var isoDateExpression=new RegExp("^(\\d{4}|[+-]\\d{6})(?:-(\\d{2})(?:-(\\d{2})(?:T(\\d{2}):(\\d{2})(?::(\\d{2})(?:(\\.\\d{1,}))?)?(Z|(?:([-+])(\\d{2}):(\\d{2})))?)?)?)?$"),months=[0,31,59,90,120,151,181,212,243,273,304,334,365];for(var key in NativeDate)Date[key]=NativeDate[key];return Date.now=NativeDate.now,Date.UTC=NativeDate.UTC,Date.prototype=NativeDate.prototype,Date.prototype.constructor=Date,Date.parse=function(string){var match=isoDateExpression.exec(string);if(match){var result,year=Number(match[1]),month=Number(match[2]||1)-1,day=Number(match[3]||1)-1,hour=Number(match[4]||0),minute=Number(match[5]||0),second=Number(match[6]||0),millisecond=Math.floor(1e3*Number(match[7]||0)),offset=!match[4]||match[8]?0:Number(new NativeDate(1970,0)),signOffset="-"===match[9]?1:-1,hourOffset=Number(match[10]||0),minuteOffset=Number(match[11]||0);return(minute>0||second>0||millisecond>0?24:25)>hour&&60>minute&&60>second&&1e3>millisecond&&month>-1&&12>month&&24>hourOffset&&60>minuteOffset&&day>-1&&day<dayFromMonth(year,month+1)-dayFromMonth(year,month)&&(result=60*(24*(dayFromMonth(year,month)+day)+hour+hourOffset*signOffset),result=1e3*(60*(result+minute+minuteOffset*signOffset)+second)+millisecond+offset,result>=-864e13&&864e13>=result)?result:0/0}return NativeDate.parse.apply(this,arguments)},Date}(Date),Date.now||(Date.now=function(){return(new Date).getTime()}),Number.prototype.toFixed&&"0.000"===8e-5.toFixed(3)&&"0"!==.9.toFixed(0)&&"1.25"===1.255.toFixed(2)&&"1000000000000000128"===0xde0b6b3a7640080.toFixed(0)||!function(){function multiply(n,c){for(var i=-1;++i<size;)c+=n*data[i],data[i]=c%base,c=Math.floor(c/base)}function divide(n){for(var i=size,c=0;--i>=0;)c+=data[i],data[i]=Math.floor(c/n),c=c%n*base}function toString(){for(var i=size,s="";--i>=0;)if(""!==s||0===i||0!==data[i]){var t=String(data[i]);""===s?s=t:s+="0000000".slice(0,7-t.length)+t}return s}function pow(x,n,acc){return 0===n?acc:n%2===1?pow(x,n-1,acc*x):pow(x*x,n/2,acc)}function log(x){for(var n=0;x>=4096;)n+=12,x/=4096;for(;x>=2;)n+=1,x/=2;return n}var base,size,data;base=1e7,size=6,data=[0,0,0,0,0,0],Number.prototype.toFixed=function(fractionDigits){var f,x,s,m,e,z,j,k;if(f=Number(fractionDigits),f=f!==f?0:Math.floor(f),0>f||f>20)throw new RangeError("Number.toFixed called with invalid number of decimals");if(x=Number(this),x!==x)return"NaN";if(-1e21>=x||x>=1e21)return String(x);if(s="",0>x&&(s="-",x=-x),m="0",x>1e-21)if(e=log(x*pow(2,69,1))-69,z=0>e?x*pow(2,-e,1):x/pow(2,e,1),z*=4503599627370496,e=52-e,e>0){for(multiply(0,z),j=f;j>=7;)multiply(1e7,0),j-=7;for(multiply(pow(10,j,1),0),j=e-1;j>=23;)divide(1<<23),j-=23;divide(1<<j),multiply(1,1),divide(2),m=toString()}else multiply(0,z),multiply(1<<-e,0),m=toString()+"0.00000000000000000000".slice(2,2+f);return f>0?(k=m.length,m=f>=k?s+"0.0000000000000000000".slice(0,f-k+2)+m:s+m.slice(0,k-f)+"."+m.slice(k-f)):m=s+m,m}}();var string_split=String.prototype.split;if(2!=="ab".split(/(?:ab)*/).length||4!==".".split(/(.?)(.?)/).length||"t"==="tesst".split(/(s)*/)[1]||0==="".split(/.?/).length||".".split(/()()/).length>1?!function(){var compliantExecNpcg=void 0===/()??/.exec("")[1];String.prototype.split=function(separator,limit){var string=this;if(void 0===separator&&0===limit)return[];if("[object RegExp]"!==Object.prototype.toString.call(separator))return string_split.apply(this,arguments);var separator2,match,lastIndex,lastLength,output=[],flags=(separator.ignoreCase?"i":"")+(separator.multiline?"m":"")+(separator.extended?"x":"")+(separator.sticky?"y":""),lastLastIndex=0,separator=new RegExp(separator.source,flags+"g");for(string+="",compliantExecNpcg||(separator2=new RegExp("^"+separator.source+"$(?!\\s)",flags)),limit=void 0===limit?-1>>>0:limit>>>0;(match=separator.exec(string))&&(lastIndex=match.index+match[0].length,!(lastIndex>lastLastIndex&&(output.push(string.slice(lastLastIndex,match.index)),!compliantExecNpcg&&match.length>1&&match[0].replace(separator2,function(){for(var i=1;i<arguments.length-2;i++)void 0===arguments[i]&&(match[i]=void 0)}),match.length>1&&match.index<string.length&&Array.prototype.push.apply(output,match.slice(1)),lastLength=match[0].length,lastLastIndex=lastIndex,output.length>=limit)));)separator.lastIndex===match.index&&separator.lastIndex++;return lastLastIndex===string.length?(lastLength||!separator.test(""))&&output.push(""):output.push(string.slice(lastLastIndex)),output.length>limit?output.slice(0,limit):output}}():"0".split(void 0,0).length&&(String.prototype.split=function(separator,limit){return void 0===separator&&0===limit?[]:string_split.apply(this,arguments)}),"".substr&&"b"!=="0b".substr(-1)){var string_substr=String.prototype.substr;String.prototype.substr=function(start,length){return string_substr.call(this,0>start?(start=this.length+start)<0?0:start:start,length)}}var ws="	\n\f\r   ᠎             　\u2028\u2029﻿";if(!String.prototype.trim||ws.trim()){ws="["+ws+"]";var trimBeginRegexp=new RegExp("^"+ws+ws+"*"),trimEndRegexp=new RegExp(ws+ws+"*$");String.prototype.trim=function(){if(void 0===this||null===this)throw new TypeError("can't convert "+this+" to object");return String(this).replace(trimBeginRegexp,"").replace(trimEndRegexp,"")}}var toObject=function(o){if(null==o)throw new TypeError("can't convert "+o+" to object");return Object(o)}}),function(definition){"function"==typeof define?define(definition):"function"==typeof YUI?YUI.add("es5-sham",definition):definition()}(function(){function doesGetOwnPropertyDescriptorWork(object){try{return object.sentinel=0,0===Object.getOwnPropertyDescriptor(object,"sentinel").value}catch(exception){}}function doesDefinePropertyWork(object){try{return Object.defineProperty(object,"sentinel",{}),"sentinel"in object}catch(exception){}}var defineGetter,defineSetter,lookupGetter,lookupSetter,supportsAccessors,call=Function.prototype.call,prototypeOfObject=Object.prototype,owns=call.bind(prototypeOfObject.hasOwnProperty);if((supportsAccessors=owns(prototypeOfObject,"__defineGetter__"))&&(defineGetter=call.bind(prototypeOfObject.__defineGetter__),defineSetter=call.bind(prototypeOfObject.__defineSetter__),lookupGetter=call.bind(prototypeOfObject.__lookupGetter__),lookupSetter=call.bind(prototypeOfObject.__lookupSetter__)),Object.getPrototypeOf||(Object.getPrototypeOf=function(object){return object.__proto__||(object.constructor?object.constructor.prototype:prototypeOfObject)}),Object.defineProperty){var getOwnPropertyDescriptorWorksOnObject=doesGetOwnPropertyDescriptorWork({}),getOwnPropertyDescriptorWorksOnDom="undefined"==typeof document||doesGetOwnPropertyDescriptorWork(document.createElement("div"));if(!getOwnPropertyDescriptorWorksOnDom||!getOwnPropertyDescriptorWorksOnObject)var getOwnPropertyDescriptorFallback=Object.getOwnPropertyDescriptor}if(!Object.getOwnPropertyDescriptor||getOwnPropertyDescriptorFallback){var ERR_NON_OBJECT="Object.getOwnPropertyDescriptor called on a non-object: ";Object.getOwnPropertyDescriptor=function(object,property){if("object"!=typeof object&&"function"!=typeof object||null===object)throw new TypeError(ERR_NON_OBJECT+object);if(getOwnPropertyDescriptorFallback)try{return getOwnPropertyDescriptorFallback.call(Object,object,property)}catch(exception){}if(owns(object,property)){var descriptor={enumerable:!0,configurable:!0};if(supportsAccessors){var prototype=object.__proto__;object.__proto__=prototypeOfObject;var getter=lookupGetter(object,property),setter=lookupSetter(object,property);if(object.__proto__=prototype,getter||setter)return getter&&(descriptor.get=getter),setter&&(descriptor.set=setter),descriptor}return descriptor.value=object[property],descriptor.writable=!0,descriptor}}}if(Object.getOwnPropertyNames||(Object.getOwnPropertyNames=function(object){return Object.keys(object)}),!Object.create){var createEmpty,supportsProto=null===Object.prototype.__proto__;createEmpty=supportsProto||"undefined"==typeof document?function(){return{__proto__:null}}:function(){function Empty(){}var iframe=document.createElement("iframe"),parent=document.body||document.documentElement;iframe.style.display="none",parent.appendChild(iframe),iframe.src="javascript:";var empty=iframe.contentWindow.Object.prototype;return parent.removeChild(iframe),iframe=null,delete empty.constructor,delete empty.hasOwnProperty,delete empty.propertyIsEnumerable,delete empty.isPrototypeOf,delete empty.toLocaleString,delete empty.toString,delete empty.valueOf,empty.__proto__=null,Empty.prototype=empty,createEmpty=function(){return new Empty},new Empty},Object.create=function(prototype,properties){function Type(){}var object;if(null===prototype)object=createEmpty();else{if("object"!=typeof prototype&&"function"!=typeof prototype)throw new TypeError("Object prototype may only be an Object or null");Type.prototype=prototype,object=new Type,object.__proto__=prototype}return void 0!==properties&&Object.defineProperties(object,properties),object}}if(Object.defineProperty){var definePropertyWorksOnObject=doesDefinePropertyWork({}),definePropertyWorksOnDom="undefined"==typeof document||doesDefinePropertyWork(document.createElement("div"));if(!definePropertyWorksOnObject||!definePropertyWorksOnDom)var definePropertyFallback=Object.defineProperty,definePropertiesFallback=Object.defineProperties}if(!Object.defineProperty||definePropertyFallback){var ERR_NON_OBJECT_DESCRIPTOR="Property description must be an object: ",ERR_NON_OBJECT_TARGET="Object.defineProperty called on non-object: ",ERR_ACCESSORS_NOT_SUPPORTED="getters & setters can not be defined on this javascript engine";Object.defineProperty=function(object,property,descriptor){if("object"!=typeof object&&"function"!=typeof object||null===object)throw new TypeError(ERR_NON_OBJECT_TARGET+object);if("object"!=typeof descriptor&&"function"!=typeof descriptor||null===descriptor)throw new TypeError(ERR_NON_OBJECT_DESCRIPTOR+descriptor);if(definePropertyFallback)try{return definePropertyFallback.call(Object,object,property,descriptor)}catch(exception){}if(owns(descriptor,"value"))if(supportsAccessors&&(lookupGetter(object,property)||lookupSetter(object,property))){var prototype=object.__proto__;object.__proto__=prototypeOfObject,delete object[property],object[property]=descriptor.value,object.__proto__=prototype}else object[property]=descriptor.value;else{if(!supportsAccessors)throw new TypeError(ERR_ACCESSORS_NOT_SUPPORTED);owns(descriptor,"get")&&defineGetter(object,property,descriptor.get),owns(descriptor,"set")&&defineSetter(object,property,descriptor.set)}return object}}(!Object.defineProperties||definePropertiesFallback)&&(Object.defineProperties=function(object,properties){if(definePropertiesFallback)try{return definePropertiesFallback.call(Object,object,properties)}catch(exception){}for(var property in properties)owns(properties,property)&&"__proto__"!=property&&Object.defineProperty(object,property,properties[property]);return object}),Object.seal||(Object.seal=function(object){return object}),Object.freeze||(Object.freeze=function(object){return object});try{Object.freeze(function(){})}catch(exception){Object.freeze=function(freezeObject){return function(object){return"function"==typeof object?object:freezeObject(object)}}(Object.freeze)}Object.preventExtensions||(Object.preventExtensions=function(object){return object}),Object.isSealed||(Object.isSealed=function(){return!1}),Object.isFrozen||(Object.isFrozen=function(){return!1}),Object.isExtensible||(Object.isExtensible=function(object){if(Object(object)!==object)throw new TypeError;for(var name="";owns(object,name);)name+="?";object[name]=!0;var returnValue=owns(object,name);return delete object[name],returnValue})}),/*!
 * jQuery JavaScript Library v1.11.0
 * http://jquery.com/
 *
 * Includes Sizzle.js
 * http://sizzlejs.com/
 *
 * Copyright 2005, 2014 jQuery Foundation, Inc. and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 *
 * Date: 2014-01-23T21:02Z
 */
function(global,factory){"object"==typeof module&&"object"==typeof module.exports?module.exports=global.document?factory(global,!0):function(w){if(!w.document)throw new Error("jQuery requires a window with a document");return factory(w)}:factory(global)}("undefined"!=typeof window?window:this,function(window,noGlobal){function isArraylike(obj){var length=obj.length,type=jQuery.type(obj);return"function"===type||jQuery.isWindow(obj)?!1:1===obj.nodeType&&length?!0:"array"===type||0===length||"number"==typeof length&&length>0&&length-1 in obj}function winnow(elements,qualifier,not){if(jQuery.isFunction(qualifier))return jQuery.grep(elements,function(elem,i){return!!qualifier.call(elem,i,elem)!==not});if(qualifier.nodeType)return jQuery.grep(elements,function(elem){return elem===qualifier!==not});if("string"==typeof qualifier){if(risSimple.test(qualifier))return jQuery.filter(qualifier,elements,not);qualifier=jQuery.filter(qualifier,elements)}return jQuery.grep(elements,function(elem){return jQuery.inArray(elem,qualifier)>=0!==not})}function sibling(cur,dir){do cur=cur[dir];while(cur&&1!==cur.nodeType);return cur}function createOptions(options){var object=optionsCache[options]={};return jQuery.each(options.match(rnotwhite)||[],function(_,flag){object[flag]=!0}),object}function detach(){document.addEventListener?(document.removeEventListener("DOMContentLoaded",completed,!1),window.removeEventListener("load",completed,!1)):(document.detachEvent("onreadystatechange",completed),window.detachEvent("onload",completed))}function completed(){(document.addEventListener||"load"===event.type||"complete"===document.readyState)&&(detach(),jQuery.ready())}function dataAttr(elem,key,data){if(void 0===data&&1===elem.nodeType){var name="data-"+key.replace(rmultiDash,"-$1").toLowerCase();if(data=elem.getAttribute(name),"string"==typeof data){try{data="true"===data?!0:"false"===data?!1:"null"===data?null:+data+""===data?+data:rbrace.test(data)?jQuery.parseJSON(data):data}catch(e){}jQuery.data(elem,key,data)}else data=void 0}return data}function isEmptyDataObject(obj){var name;for(name in obj)if(("data"!==name||!jQuery.isEmptyObject(obj[name]))&&"toJSON"!==name)return!1;return!0}function internalData(elem,name,data,pvt){if(jQuery.acceptData(elem)){var ret,thisCache,internalKey=jQuery.expando,isNode=elem.nodeType,cache=isNode?jQuery.cache:elem,id=isNode?elem[internalKey]:elem[internalKey]&&internalKey;if(id&&cache[id]&&(pvt||cache[id].data)||void 0!==data||"string"!=typeof name)return id||(id=isNode?elem[internalKey]=deletedIds.pop()||jQuery.guid++:internalKey),cache[id]||(cache[id]=isNode?{}:{toJSON:jQuery.noop}),("object"==typeof name||"function"==typeof name)&&(pvt?cache[id]=jQuery.extend(cache[id],name):cache[id].data=jQuery.extend(cache[id].data,name)),thisCache=cache[id],pvt||(thisCache.data||(thisCache.data={}),thisCache=thisCache.data),void 0!==data&&(thisCache[jQuery.camelCase(name)]=data),"string"==typeof name?(ret=thisCache[name],null==ret&&(ret=thisCache[jQuery.camelCase(name)])):ret=thisCache,ret}}function internalRemoveData(elem,name,pvt){if(jQuery.acceptData(elem)){var thisCache,i,isNode=elem.nodeType,cache=isNode?jQuery.cache:elem,id=isNode?elem[jQuery.expando]:jQuery.expando;if(cache[id]){if(name&&(thisCache=pvt?cache[id]:cache[id].data)){jQuery.isArray(name)?name=name.concat(jQuery.map(name,jQuery.camelCase)):name in thisCache?name=[name]:(name=jQuery.camelCase(name),name=name in thisCache?[name]:name.split(" ")),i=name.length;for(;i--;)delete thisCache[name[i]];if(pvt?!isEmptyDataObject(thisCache):!jQuery.isEmptyObject(thisCache))return}(pvt||(delete cache[id].data,isEmptyDataObject(cache[id])))&&(isNode?jQuery.cleanData([elem],!0):support.deleteExpando||cache!=cache.window?delete cache[id]:cache[id]=null)}}}function returnTrue(){return!0}function returnFalse(){return!1}function safeActiveElement(){try{return document.activeElement}catch(err){}}function createSafeFragment(document){var list=nodeNames.split("|"),safeFrag=document.createDocumentFragment();if(safeFrag.createElement)for(;list.length;)safeFrag.createElement(list.pop());return safeFrag}function getAll(context,tag){var elems,elem,i=0,found=typeof context.getElementsByTagName!==strundefined?context.getElementsByTagName(tag||"*"):typeof context.querySelectorAll!==strundefined?context.querySelectorAll(tag||"*"):void 0;if(!found)for(found=[],elems=context.childNodes||context;null!=(elem=elems[i]);i++)!tag||jQuery.nodeName(elem,tag)?found.push(elem):jQuery.merge(found,getAll(elem,tag));return void 0===tag||tag&&jQuery.nodeName(context,tag)?jQuery.merge([context],found):found}function fixDefaultChecked(elem){rcheckableType.test(elem.type)&&(elem.defaultChecked=elem.checked)}function manipulationTarget(elem,content){return jQuery.nodeName(elem,"table")&&jQuery.nodeName(11!==content.nodeType?content:content.firstChild,"tr")?elem.getElementsByTagName("tbody")[0]||elem.appendChild(elem.ownerDocument.createElement("tbody")):elem}function disableScript(elem){return elem.type=(null!==jQuery.find.attr(elem,"type"))+"/"+elem.type,elem}function restoreScript(elem){var match=rscriptTypeMasked.exec(elem.type);return match?elem.type=match[1]:elem.removeAttribute("type"),elem}function setGlobalEval(elems,refElements){for(var elem,i=0;null!=(elem=elems[i]);i++)jQuery._data(elem,"globalEval",!refElements||jQuery._data(refElements[i],"globalEval"))}function cloneCopyEvent(src,dest){if(1===dest.nodeType&&jQuery.hasData(src)){var type,i,l,oldData=jQuery._data(src),curData=jQuery._data(dest,oldData),events=oldData.events;if(events){delete curData.handle,curData.events={};for(type in events)for(i=0,l=events[type].length;l>i;i++)jQuery.event.add(dest,type,events[type][i])}curData.data&&(curData.data=jQuery.extend({},curData.data))}}function fixCloneNodeIssues(src,dest){var nodeName,e,data;if(1===dest.nodeType){if(nodeName=dest.nodeName.toLowerCase(),!support.noCloneEvent&&dest[jQuery.expando]){data=jQuery._data(dest);for(e in data.events)jQuery.removeEvent(dest,e,data.handle);dest.removeAttribute(jQuery.expando)}"script"===nodeName&&dest.text!==src.text?(disableScript(dest).text=src.text,restoreScript(dest)):"object"===nodeName?(dest.parentNode&&(dest.outerHTML=src.outerHTML),support.html5Clone&&src.innerHTML&&!jQuery.trim(dest.innerHTML)&&(dest.innerHTML=src.innerHTML)):"input"===nodeName&&rcheckableType.test(src.type)?(dest.defaultChecked=dest.checked=src.checked,dest.value!==src.value&&(dest.value=src.value)):"option"===nodeName?dest.defaultSelected=dest.selected=src.defaultSelected:("input"===nodeName||"textarea"===nodeName)&&(dest.defaultValue=src.defaultValue)}}function actualDisplay(name,doc){var elem=jQuery(doc.createElement(name)).appendTo(doc.body),display=window.getDefaultComputedStyle?window.getDefaultComputedStyle(elem[0]).display:jQuery.css(elem[0],"display");return elem.detach(),display}function defaultDisplay(nodeName){var doc=document,display=elemdisplay[nodeName];return display||(display=actualDisplay(nodeName,doc),"none"!==display&&display||(iframe=(iframe||jQuery("<iframe frameborder='0' width='0' height='0'/>")).appendTo(doc.documentElement),doc=(iframe[0].contentWindow||iframe[0].contentDocument).document,doc.write(),doc.close(),display=actualDisplay(nodeName,doc),iframe.detach()),elemdisplay[nodeName]=display),display}function addGetHookIf(conditionFn,hookFn){return{get:function(){var condition=conditionFn();if(null!=condition)return condition?(delete this.get,void 0):(this.get=hookFn).apply(this,arguments)}}}function vendorPropName(style,name){if(name in style)return name;for(var capName=name.charAt(0).toUpperCase()+name.slice(1),origName=name,i=cssPrefixes.length;i--;)if(name=cssPrefixes[i]+capName,name in style)return name;return origName}function showHide(elements,show){for(var display,elem,hidden,values=[],index=0,length=elements.length;length>index;index++)elem=elements[index],elem.style&&(values[index]=jQuery._data(elem,"olddisplay"),display=elem.style.display,show?(values[index]||"none"!==display||(elem.style.display=""),""===elem.style.display&&isHidden(elem)&&(values[index]=jQuery._data(elem,"olddisplay",defaultDisplay(elem.nodeName)))):values[index]||(hidden=isHidden(elem),(display&&"none"!==display||!hidden)&&jQuery._data(elem,"olddisplay",hidden?display:jQuery.css(elem,"display"))));for(index=0;length>index;index++)elem=elements[index],elem.style&&(show&&"none"!==elem.style.display&&""!==elem.style.display||(elem.style.display=show?values[index]||"":"none"));return elements}function setPositiveNumber(elem,value,subtract){var matches=rnumsplit.exec(value);return matches?Math.max(0,matches[1]-(subtract||0))+(matches[2]||"px"):value}function augmentWidthOrHeight(elem,name,extra,isBorderBox,styles){for(var i=extra===(isBorderBox?"border":"content")?4:"width"===name?1:0,val=0;4>i;i+=2)"margin"===extra&&(val+=jQuery.css(elem,extra+cssExpand[i],!0,styles)),isBorderBox?("content"===extra&&(val-=jQuery.css(elem,"padding"+cssExpand[i],!0,styles)),"margin"!==extra&&(val-=jQuery.css(elem,"border"+cssExpand[i]+"Width",!0,styles))):(val+=jQuery.css(elem,"padding"+cssExpand[i],!0,styles),"padding"!==extra&&(val+=jQuery.css(elem,"border"+cssExpand[i]+"Width",!0,styles)));return val}function getWidthOrHeight(elem,name,extra){var valueIsBorderBox=!0,val="width"===name?elem.offsetWidth:elem.offsetHeight,styles=getStyles(elem),isBorderBox=support.boxSizing()&&"border-box"===jQuery.css(elem,"boxSizing",!1,styles);if(0>=val||null==val){if(val=curCSS(elem,name,styles),(0>val||null==val)&&(val=elem.style[name]),rnumnonpx.test(val))return val;valueIsBorderBox=isBorderBox&&(support.boxSizingReliable()||val===elem.style[name]),val=parseFloat(val)||0}return val+augmentWidthOrHeight(elem,name,extra||(isBorderBox?"border":"content"),valueIsBorderBox,styles)+"px"}function Tween(elem,options,prop,end,easing){return new Tween.prototype.init(elem,options,prop,end,easing)}function createFxNow(){return setTimeout(function(){fxNow=void 0}),fxNow=jQuery.now()}function genFx(type,includeWidth){var which,attrs={height:type},i=0;for(includeWidth=includeWidth?1:0;4>i;i+=2-includeWidth)which=cssExpand[i],attrs["margin"+which]=attrs["padding"+which]=type;return includeWidth&&(attrs.opacity=attrs.width=type),attrs}function createTween(value,prop,animation){for(var tween,collection=(tweeners[prop]||[]).concat(tweeners["*"]),index=0,length=collection.length;length>index;index++)if(tween=collection[index].call(animation,prop,value))return tween}function defaultPrefilter(elem,props,opts){var prop,value,toggle,tween,hooks,oldfire,display,dDisplay,anim=this,orig={},style=elem.style,hidden=elem.nodeType&&isHidden(elem),dataShow=jQuery._data(elem,"fxshow");opts.queue||(hooks=jQuery._queueHooks(elem,"fx"),null==hooks.unqueued&&(hooks.unqueued=0,oldfire=hooks.empty.fire,hooks.empty.fire=function(){hooks.unqueued||oldfire()}),hooks.unqueued++,anim.always(function(){anim.always(function(){hooks.unqueued--,jQuery.queue(elem,"fx").length||hooks.empty.fire()})})),1===elem.nodeType&&("height"in props||"width"in props)&&(opts.overflow=[style.overflow,style.overflowX,style.overflowY],display=jQuery.css(elem,"display"),dDisplay=defaultDisplay(elem.nodeName),"none"===display&&(display=dDisplay),"inline"===display&&"none"===jQuery.css(elem,"float")&&(support.inlineBlockNeedsLayout&&"inline"!==dDisplay?style.zoom=1:style.display="inline-block")),opts.overflow&&(style.overflow="hidden",support.shrinkWrapBlocks()||anim.always(function(){style.overflow=opts.overflow[0],style.overflowX=opts.overflow[1],style.overflowY=opts.overflow[2]}));for(prop in props)if(value=props[prop],rfxtypes.exec(value)){if(delete props[prop],toggle=toggle||"toggle"===value,value===(hidden?"hide":"show")){if("show"!==value||!dataShow||void 0===dataShow[prop])continue;hidden=!0}orig[prop]=dataShow&&dataShow[prop]||jQuery.style(elem,prop)}if(!jQuery.isEmptyObject(orig)){dataShow?"hidden"in dataShow&&(hidden=dataShow.hidden):dataShow=jQuery._data(elem,"fxshow",{}),toggle&&(dataShow.hidden=!hidden),hidden?jQuery(elem).show():anim.done(function(){jQuery(elem).hide()}),anim.done(function(){var prop;jQuery._removeData(elem,"fxshow");for(prop in orig)jQuery.style(elem,prop,orig[prop])});for(prop in orig)tween=createTween(hidden?dataShow[prop]:0,prop,anim),prop in dataShow||(dataShow[prop]=tween.start,hidden&&(tween.end=tween.start,tween.start="width"===prop||"height"===prop?1:0))}}function propFilter(props,specialEasing){var index,name,easing,value,hooks;for(index in props)if(name=jQuery.camelCase(index),easing=specialEasing[name],value=props[index],jQuery.isArray(value)&&(easing=value[1],value=props[index]=value[0]),index!==name&&(props[name]=value,delete props[index]),hooks=jQuery.cssHooks[name],hooks&&"expand"in hooks){value=hooks.expand(value),delete props[name];for(index in value)index in props||(props[index]=value[index],specialEasing[index]=easing)}else specialEasing[name]=easing}function Animation(elem,properties,options){var result,stopped,index=0,length=animationPrefilters.length,deferred=jQuery.Deferred().always(function(){delete tick.elem}),tick=function(){if(stopped)return!1;for(var currentTime=fxNow||createFxNow(),remaining=Math.max(0,animation.startTime+animation.duration-currentTime),temp=remaining/animation.duration||0,percent=1-temp,index=0,length=animation.tweens.length;length>index;index++)animation.tweens[index].run(percent);return deferred.notifyWith(elem,[animation,percent,remaining]),1>percent&&length?remaining:(deferred.resolveWith(elem,[animation]),!1)},animation=deferred.promise({elem:elem,props:jQuery.extend({},properties),opts:jQuery.extend(!0,{specialEasing:{}},options),originalProperties:properties,originalOptions:options,startTime:fxNow||createFxNow(),duration:options.duration,tweens:[],createTween:function(prop,end){var tween=jQuery.Tween(elem,animation.opts,prop,end,animation.opts.specialEasing[prop]||animation.opts.easing);return animation.tweens.push(tween),tween},stop:function(gotoEnd){var index=0,length=gotoEnd?animation.tweens.length:0;if(stopped)return this;for(stopped=!0;length>index;index++)animation.tweens[index].run(1);return gotoEnd?deferred.resolveWith(elem,[animation,gotoEnd]):deferred.rejectWith(elem,[animation,gotoEnd]),this}}),props=animation.props;for(propFilter(props,animation.opts.specialEasing);length>index;index++)if(result=animationPrefilters[index].call(animation,elem,props,animation.opts))return result;return jQuery.map(props,createTween,animation),jQuery.isFunction(animation.opts.start)&&animation.opts.start.call(elem,animation),jQuery.fx.timer(jQuery.extend(tick,{elem:elem,anim:animation,queue:animation.opts.queue})),animation.progress(animation.opts.progress).done(animation.opts.done,animation.opts.complete).fail(animation.opts.fail).always(animation.opts.always)}function addToPrefiltersOrTransports(structure){return function(dataTypeExpression,func){"string"!=typeof dataTypeExpression&&(func=dataTypeExpression,dataTypeExpression="*");var dataType,i=0,dataTypes=dataTypeExpression.toLowerCase().match(rnotwhite)||[];if(jQuery.isFunction(func))for(;dataType=dataTypes[i++];)"+"===dataType.charAt(0)?(dataType=dataType.slice(1)||"*",(structure[dataType]=structure[dataType]||[]).unshift(func)):(structure[dataType]=structure[dataType]||[]).push(func)}}function inspectPrefiltersOrTransports(structure,options,originalOptions,jqXHR){function inspect(dataType){var selected;return inspected[dataType]=!0,jQuery.each(structure[dataType]||[],function(_,prefilterOrFactory){var dataTypeOrTransport=prefilterOrFactory(options,originalOptions,jqXHR);return"string"!=typeof dataTypeOrTransport||seekingTransport||inspected[dataTypeOrTransport]?seekingTransport?!(selected=dataTypeOrTransport):void 0:(options.dataTypes.unshift(dataTypeOrTransport),inspect(dataTypeOrTransport),!1)}),selected}var inspected={},seekingTransport=structure===transports;return inspect(options.dataTypes[0])||!inspected["*"]&&inspect("*")}function ajaxExtend(target,src){var deep,key,flatOptions=jQuery.ajaxSettings.flatOptions||{};for(key in src)void 0!==src[key]&&((flatOptions[key]?target:deep||(deep={}))[key]=src[key]);return deep&&jQuery.extend(!0,target,deep),target}function ajaxHandleResponses(s,jqXHR,responses){for(var firstDataType,ct,finalDataType,type,contents=s.contents,dataTypes=s.dataTypes;"*"===dataTypes[0];)dataTypes.shift(),void 0===ct&&(ct=s.mimeType||jqXHR.getResponseHeader("Content-Type"));if(ct)for(type in contents)if(contents[type]&&contents[type].test(ct)){dataTypes.unshift(type);break}if(dataTypes[0]in responses)finalDataType=dataTypes[0];else{for(type in responses){if(!dataTypes[0]||s.converters[type+" "+dataTypes[0]]){finalDataType=type;break}firstDataType||(firstDataType=type)}finalDataType=finalDataType||firstDataType}return finalDataType?(finalDataType!==dataTypes[0]&&dataTypes.unshift(finalDataType),responses[finalDataType]):void 0}function ajaxConvert(s,response,jqXHR,isSuccess){var conv2,current,conv,tmp,prev,converters={},dataTypes=s.dataTypes.slice();if(dataTypes[1])for(conv in s.converters)converters[conv.toLowerCase()]=s.converters[conv];for(current=dataTypes.shift();current;)if(s.responseFields[current]&&(jqXHR[s.responseFields[current]]=response),!prev&&isSuccess&&s.dataFilter&&(response=s.dataFilter(response,s.dataType)),prev=current,current=dataTypes.shift())if("*"===current)current=prev;else if("*"!==prev&&prev!==current){if(conv=converters[prev+" "+current]||converters["* "+current],!conv)for(conv2 in converters)if(tmp=conv2.split(" "),tmp[1]===current&&(conv=converters[prev+" "+tmp[0]]||converters["* "+tmp[0]])){conv===!0?conv=converters[conv2]:converters[conv2]!==!0&&(current=tmp[0],dataTypes.unshift(tmp[1]));break}if(conv!==!0)if(conv&&s["throws"])response=conv(response);else try{response=conv(response)}catch(e){return{state:"parsererror",error:conv?e:"No conversion from "+prev+" to "+current}}}return{state:"success",data:response}}function buildParams(prefix,obj,traditional,add){var name;if(jQuery.isArray(obj))jQuery.each(obj,function(i,v){traditional||rbracket.test(prefix)?add(prefix,v):buildParams(prefix+"["+("object"==typeof v?i:"")+"]",v,traditional,add)});else if(traditional||"object"!==jQuery.type(obj))add(prefix,obj);else for(name in obj)buildParams(prefix+"["+name+"]",obj[name],traditional,add)}function createStandardXHR(){try{return new window.XMLHttpRequest}catch(e){}}function createActiveXHR(){try{return new window.ActiveXObject("Microsoft.XMLHTTP")}catch(e){}}function getWindow(elem){return jQuery.isWindow(elem)?elem:9===elem.nodeType?elem.defaultView||elem.parentWindow:!1}var deletedIds=[],slice=deletedIds.slice,concat=deletedIds.concat,push=deletedIds.push,indexOf=deletedIds.indexOf,class2type={},toString=class2type.toString,hasOwn=class2type.hasOwnProperty,trim="".trim,support={},version="1.11.0",jQuery=function(selector,context){return new jQuery.fn.init(selector,context)},rtrim=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,rmsPrefix=/^-ms-/,rdashAlpha=/-([\da-z])/gi,fcamelCase=function(all,letter){return letter.toUpperCase()};jQuery.fn=jQuery.prototype={jquery:version,constructor:jQuery,selector:"",length:0,toArray:function(){return slice.call(this)},get:function(num){return null!=num?0>num?this[num+this.length]:this[num]:slice.call(this)},pushStack:function(elems){var ret=jQuery.merge(this.constructor(),elems);return ret.prevObject=this,ret.context=this.context,ret},each:function(callback,args){return jQuery.each(this,callback,args)},map:function(callback){return this.pushStack(jQuery.map(this,function(elem,i){return callback.call(elem,i,elem)}))},slice:function(){return this.pushStack(slice.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(i){var len=this.length,j=+i+(0>i?len:0);return this.pushStack(j>=0&&len>j?[this[j]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:push,sort:deletedIds.sort,splice:deletedIds.splice},jQuery.extend=jQuery.fn.extend=function(){var src,copyIsArray,copy,name,options,clone,target=arguments[0]||{},i=1,length=arguments.length,deep=!1;for("boolean"==typeof target&&(deep=target,target=arguments[i]||{},i++),"object"==typeof target||jQuery.isFunction(target)||(target={}),i===length&&(target=this,i--);length>i;i++)if(null!=(options=arguments[i]))for(name in options)src=target[name],copy=options[name],target!==copy&&(deep&&copy&&(jQuery.isPlainObject(copy)||(copyIsArray=jQuery.isArray(copy)))?(copyIsArray?(copyIsArray=!1,clone=src&&jQuery.isArray(src)?src:[]):clone=src&&jQuery.isPlainObject(src)?src:{},target[name]=jQuery.extend(deep,clone,copy)):void 0!==copy&&(target[name]=copy));return target},jQuery.extend({expando:"jQuery"+(version+Math.random()).replace(/\D/g,""),isReady:!0,error:function(msg){throw new Error(msg)},noop:function(){},isFunction:function(obj){return"function"===jQuery.type(obj)},isArray:Array.isArray||function(obj){return"array"===jQuery.type(obj)},isWindow:function(obj){return null!=obj&&obj==obj.window},isNumeric:function(obj){return obj-parseFloat(obj)>=0},isEmptyObject:function(obj){var name;for(name in obj)return!1;return!0},isPlainObject:function(obj){var key;if(!obj||"object"!==jQuery.type(obj)||obj.nodeType||jQuery.isWindow(obj))return!1;try{if(obj.constructor&&!hasOwn.call(obj,"constructor")&&!hasOwn.call(obj.constructor.prototype,"isPrototypeOf"))return!1}catch(e){return!1}if(support.ownLast)for(key in obj)return hasOwn.call(obj,key);for(key in obj);return void 0===key||hasOwn.call(obj,key)},type:function(obj){return null==obj?obj+"":"object"==typeof obj||"function"==typeof obj?class2type[toString.call(obj)]||"object":typeof obj},globalEval:function(data){data&&jQuery.trim(data)&&(window.execScript||function(data){window.eval.call(window,data)})(data)},camelCase:function(string){return string.replace(rmsPrefix,"ms-").replace(rdashAlpha,fcamelCase)},nodeName:function(elem,name){return elem.nodeName&&elem.nodeName.toLowerCase()===name.toLowerCase()},each:function(obj,callback,args){var value,i=0,length=obj.length,isArray=isArraylike(obj);if(args){if(isArray)for(;length>i&&(value=callback.apply(obj[i],args),value!==!1);i++);else for(i in obj)if(value=callback.apply(obj[i],args),value===!1)break}else if(isArray)for(;length>i&&(value=callback.call(obj[i],i,obj[i]),value!==!1);i++);else for(i in obj)if(value=callback.call(obj[i],i,obj[i]),value===!1)break;return obj},trim:trim&&!trim.call("﻿ ")?function(text){return null==text?"":trim.call(text)}:function(text){return null==text?"":(text+"").replace(rtrim,"")},makeArray:function(arr,results){var ret=results||[];return null!=arr&&(isArraylike(Object(arr))?jQuery.merge(ret,"string"==typeof arr?[arr]:arr):push.call(ret,arr)),ret},inArray:function(elem,arr,i){var len;if(arr){if(indexOf)return indexOf.call(arr,elem,i);for(len=arr.length,i=i?0>i?Math.max(0,len+i):i:0;len>i;i++)if(i in arr&&arr[i]===elem)return i}return-1},merge:function(first,second){for(var len=+second.length,j=0,i=first.length;len>j;)first[i++]=second[j++];if(len!==len)for(;void 0!==second[j];)first[i++]=second[j++];return first.length=i,first},grep:function(elems,callback,invert){for(var callbackInverse,matches=[],i=0,length=elems.length,callbackExpect=!invert;length>i;i++)callbackInverse=!callback(elems[i],i),callbackInverse!==callbackExpect&&matches.push(elems[i]);return matches},map:function(elems,callback,arg){var value,i=0,length=elems.length,isArray=isArraylike(elems),ret=[];if(isArray)for(;length>i;i++)value=callback(elems[i],i,arg),null!=value&&ret.push(value);else for(i in elems)value=callback(elems[i],i,arg),null!=value&&ret.push(value);return concat.apply([],ret)},guid:1,proxy:function(fn,context){var args,proxy,tmp;return"string"==typeof context&&(tmp=fn[context],context=fn,fn=tmp),jQuery.isFunction(fn)?(args=slice.call(arguments,2),proxy=function(){return fn.apply(context||this,args.concat(slice.call(arguments)))},proxy.guid=fn.guid=fn.guid||jQuery.guid++,proxy):void 0},now:function(){return+new Date},support:support}),jQuery.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(i,name){class2type["[object "+name+"]"]=name.toLowerCase()});var Sizzle=/*!
 * Sizzle CSS Selector Engine v1.10.16
 * http://sizzlejs.com/
 *
 * Copyright 2013 jQuery Foundation, Inc. and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 *
 * Date: 2014-01-13
 */
function(window){function Sizzle(selector,context,results,seed){var match,elem,m,nodeType,i,groups,old,nid,newContext,newSelector;if((context?context.ownerDocument||context:preferredDoc)!==document&&setDocument(context),context=context||document,results=results||[],!selector||"string"!=typeof selector)return results;if(1!==(nodeType=context.nodeType)&&9!==nodeType)return[];if(documentIsHTML&&!seed){if(match=rquickExpr.exec(selector))if(m=match[1]){if(9===nodeType){if(elem=context.getElementById(m),!elem||!elem.parentNode)return results;if(elem.id===m)return results.push(elem),results}else if(context.ownerDocument&&(elem=context.ownerDocument.getElementById(m))&&contains(context,elem)&&elem.id===m)return results.push(elem),results}else{if(match[2])return push.apply(results,context.getElementsByTagName(selector)),results;if((m=match[3])&&support.getElementsByClassName&&context.getElementsByClassName)return push.apply(results,context.getElementsByClassName(m)),results}if(support.qsa&&(!rbuggyQSA||!rbuggyQSA.test(selector))){if(nid=old=expando,newContext=context,newSelector=9===nodeType&&selector,1===nodeType&&"object"!==context.nodeName.toLowerCase()){for(groups=tokenize(selector),(old=context.getAttribute("id"))?nid=old.replace(rescape,"\\$&"):context.setAttribute("id",nid),nid="[id='"+nid+"'] ",i=groups.length;i--;)groups[i]=nid+toSelector(groups[i]);newContext=rsibling.test(selector)&&testContext(context.parentNode)||context,newSelector=groups.join(",")}if(newSelector)try{return push.apply(results,newContext.querySelectorAll(newSelector)),results}catch(qsaError){}finally{old||context.removeAttribute("id")}}}return select(selector.replace(rtrim,"$1"),context,results,seed)}function createCache(){function cache(key,value){return keys.push(key+" ")>Expr.cacheLength&&delete cache[keys.shift()],cache[key+" "]=value}var keys=[];return cache}function markFunction(fn){return fn[expando]=!0,fn}function assert(fn){var div=document.createElement("div");try{return!!fn(div)}catch(e){return!1}finally{div.parentNode&&div.parentNode.removeChild(div),div=null}}function addHandle(attrs,handler){for(var arr=attrs.split("|"),i=attrs.length;i--;)Expr.attrHandle[arr[i]]=handler}function siblingCheck(a,b){var cur=b&&a,diff=cur&&1===a.nodeType&&1===b.nodeType&&(~b.sourceIndex||MAX_NEGATIVE)-(~a.sourceIndex||MAX_NEGATIVE);if(diff)return diff;if(cur)for(;cur=cur.nextSibling;)if(cur===b)return-1;return a?1:-1}function createInputPseudo(type){return function(elem){var name=elem.nodeName.toLowerCase();return"input"===name&&elem.type===type}}function createButtonPseudo(type){return function(elem){var name=elem.nodeName.toLowerCase();return("input"===name||"button"===name)&&elem.type===type}}function createPositionalPseudo(fn){return markFunction(function(argument){return argument=+argument,markFunction(function(seed,matches){for(var j,matchIndexes=fn([],seed.length,argument),i=matchIndexes.length;i--;)seed[j=matchIndexes[i]]&&(seed[j]=!(matches[j]=seed[j]))})})}function testContext(context){return context&&typeof context.getElementsByTagName!==strundefined&&context}function setFilters(){}function tokenize(selector,parseOnly){var matched,match,tokens,type,soFar,groups,preFilters,cached=tokenCache[selector+" "];if(cached)return parseOnly?0:cached.slice(0);for(soFar=selector,groups=[],preFilters=Expr.preFilter;soFar;){(!matched||(match=rcomma.exec(soFar)))&&(match&&(soFar=soFar.slice(match[0].length)||soFar),groups.push(tokens=[])),matched=!1,(match=rcombinators.exec(soFar))&&(matched=match.shift(),tokens.push({value:matched,type:match[0].replace(rtrim," ")}),soFar=soFar.slice(matched.length));for(type in Expr.filter)!(match=matchExpr[type].exec(soFar))||preFilters[type]&&!(match=preFilters[type](match))||(matched=match.shift(),tokens.push({value:matched,type:type,matches:match}),soFar=soFar.slice(matched.length));if(!matched)break}return parseOnly?soFar.length:soFar?Sizzle.error(selector):tokenCache(selector,groups).slice(0)}function toSelector(tokens){for(var i=0,len=tokens.length,selector="";len>i;i++)selector+=tokens[i].value;return selector}function addCombinator(matcher,combinator,base){var dir=combinator.dir,checkNonElements=base&&"parentNode"===dir,doneName=done++;return combinator.first?function(elem,context,xml){for(;elem=elem[dir];)if(1===elem.nodeType||checkNonElements)return matcher(elem,context,xml)}:function(elem,context,xml){var oldCache,outerCache,newCache=[dirruns,doneName];if(xml){for(;elem=elem[dir];)if((1===elem.nodeType||checkNonElements)&&matcher(elem,context,xml))return!0}else for(;elem=elem[dir];)if(1===elem.nodeType||checkNonElements){if(outerCache=elem[expando]||(elem[expando]={}),(oldCache=outerCache[dir])&&oldCache[0]===dirruns&&oldCache[1]===doneName)return newCache[2]=oldCache[2];if(outerCache[dir]=newCache,newCache[2]=matcher(elem,context,xml))return!0}}}function elementMatcher(matchers){return matchers.length>1?function(elem,context,xml){for(var i=matchers.length;i--;)if(!matchers[i](elem,context,xml))return!1;return!0}:matchers[0]}function condense(unmatched,map,filter,context,xml){for(var elem,newUnmatched=[],i=0,len=unmatched.length,mapped=null!=map;len>i;i++)(elem=unmatched[i])&&(!filter||filter(elem,context,xml))&&(newUnmatched.push(elem),mapped&&map.push(i));return newUnmatched}function setMatcher(preFilter,selector,matcher,postFilter,postFinder,postSelector){return postFilter&&!postFilter[expando]&&(postFilter=setMatcher(postFilter)),postFinder&&!postFinder[expando]&&(postFinder=setMatcher(postFinder,postSelector)),markFunction(function(seed,results,context,xml){var temp,i,elem,preMap=[],postMap=[],preexisting=results.length,elems=seed||multipleContexts(selector||"*",context.nodeType?[context]:context,[]),matcherIn=!preFilter||!seed&&selector?elems:condense(elems,preMap,preFilter,context,xml),matcherOut=matcher?postFinder||(seed?preFilter:preexisting||postFilter)?[]:results:matcherIn;if(matcher&&matcher(matcherIn,matcherOut,context,xml),postFilter)for(temp=condense(matcherOut,postMap),postFilter(temp,[],context,xml),i=temp.length;i--;)(elem=temp[i])&&(matcherOut[postMap[i]]=!(matcherIn[postMap[i]]=elem));if(seed){if(postFinder||preFilter){if(postFinder){for(temp=[],i=matcherOut.length;i--;)(elem=matcherOut[i])&&temp.push(matcherIn[i]=elem);postFinder(null,matcherOut=[],temp,xml)}for(i=matcherOut.length;i--;)(elem=matcherOut[i])&&(temp=postFinder?indexOf.call(seed,elem):preMap[i])>-1&&(seed[temp]=!(results[temp]=elem))}}else matcherOut=condense(matcherOut===results?matcherOut.splice(preexisting,matcherOut.length):matcherOut),postFinder?postFinder(null,results,matcherOut,xml):push.apply(results,matcherOut)})}function matcherFromTokens(tokens){for(var checkContext,matcher,j,len=tokens.length,leadingRelative=Expr.relative[tokens[0].type],implicitRelative=leadingRelative||Expr.relative[" "],i=leadingRelative?1:0,matchContext=addCombinator(function(elem){return elem===checkContext},implicitRelative,!0),matchAnyContext=addCombinator(function(elem){return indexOf.call(checkContext,elem)>-1},implicitRelative,!0),matchers=[function(elem,context,xml){return!leadingRelative&&(xml||context!==outermostContext)||((checkContext=context).nodeType?matchContext(elem,context,xml):matchAnyContext(elem,context,xml))}];len>i;i++)if(matcher=Expr.relative[tokens[i].type])matchers=[addCombinator(elementMatcher(matchers),matcher)];else{if(matcher=Expr.filter[tokens[i].type].apply(null,tokens[i].matches),matcher[expando]){for(j=++i;len>j&&!Expr.relative[tokens[j].type];j++);return setMatcher(i>1&&elementMatcher(matchers),i>1&&toSelector(tokens.slice(0,i-1).concat({value:" "===tokens[i-2].type?"*":""})).replace(rtrim,"$1"),matcher,j>i&&matcherFromTokens(tokens.slice(i,j)),len>j&&matcherFromTokens(tokens=tokens.slice(j)),len>j&&toSelector(tokens))}matchers.push(matcher)}return elementMatcher(matchers)}function matcherFromGroupMatchers(elementMatchers,setMatchers){var bySet=setMatchers.length>0,byElement=elementMatchers.length>0,superMatcher=function(seed,context,xml,results,outermost){var elem,j,matcher,matchedCount=0,i="0",unmatched=seed&&[],setMatched=[],contextBackup=outermostContext,elems=seed||byElement&&Expr.find.TAG("*",outermost),dirrunsUnique=dirruns+=null==contextBackup?1:Math.random()||.1,len=elems.length;for(outermost&&(outermostContext=context!==document&&context);i!==len&&null!=(elem=elems[i]);i++){if(byElement&&elem){for(j=0;matcher=elementMatchers[j++];)if(matcher(elem,context,xml)){results.push(elem);break}outermost&&(dirruns=dirrunsUnique)}bySet&&((elem=!matcher&&elem)&&matchedCount--,seed&&unmatched.push(elem))}if(matchedCount+=i,bySet&&i!==matchedCount){for(j=0;matcher=setMatchers[j++];)matcher(unmatched,setMatched,context,xml);if(seed){if(matchedCount>0)for(;i--;)unmatched[i]||setMatched[i]||(setMatched[i]=pop.call(results));setMatched=condense(setMatched)}push.apply(results,setMatched),outermost&&!seed&&setMatched.length>0&&matchedCount+setMatchers.length>1&&Sizzle.uniqueSort(results)}return outermost&&(dirruns=dirrunsUnique,outermostContext=contextBackup),unmatched};return bySet?markFunction(superMatcher):superMatcher}function multipleContexts(selector,contexts,results){for(var i=0,len=contexts.length;len>i;i++)Sizzle(selector,contexts[i],results);return results}function select(selector,context,results,seed){var i,tokens,token,type,find,match=tokenize(selector);if(!seed&&1===match.length){if(tokens=match[0]=match[0].slice(0),tokens.length>2&&"ID"===(token=tokens[0]).type&&support.getById&&9===context.nodeType&&documentIsHTML&&Expr.relative[tokens[1].type]){if(context=(Expr.find.ID(token.matches[0].replace(runescape,funescape),context)||[])[0],!context)return results;selector=selector.slice(tokens.shift().value.length)}for(i=matchExpr.needsContext.test(selector)?0:tokens.length;i--&&(token=tokens[i],!Expr.relative[type=token.type]);)if((find=Expr.find[type])&&(seed=find(token.matches[0].replace(runescape,funescape),rsibling.test(tokens[0].type)&&testContext(context.parentNode)||context))){if(tokens.splice(i,1),selector=seed.length&&toSelector(tokens),!selector)return push.apply(results,seed),results;break}}return compile(selector,match)(seed,context,!documentIsHTML,results,rsibling.test(selector)&&testContext(context.parentNode)||context),results}var i,support,Expr,getText,isXML,compile,outermostContext,sortInput,hasDuplicate,setDocument,document,docElem,documentIsHTML,rbuggyQSA,rbuggyMatches,matches,contains,expando="sizzle"+-new Date,preferredDoc=window.document,dirruns=0,done=0,classCache=createCache(),tokenCache=createCache(),compilerCache=createCache(),sortOrder=function(a,b){return a===b&&(hasDuplicate=!0),0},strundefined="undefined",MAX_NEGATIVE=1<<31,hasOwn={}.hasOwnProperty,arr=[],pop=arr.pop,push_native=arr.push,push=arr.push,slice=arr.slice,indexOf=arr.indexOf||function(elem){for(var i=0,len=this.length;len>i;i++)if(this[i]===elem)return i;return-1},booleans="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",whitespace="[\\x20\\t\\r\\n\\f]",characterEncoding="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",identifier=characterEncoding.replace("w","w#"),attributes="\\["+whitespace+"*("+characterEncoding+")"+whitespace+"*(?:([*^$|!~]?=)"+whitespace+"*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+identifier+")|)|)"+whitespace+"*\\]",pseudos=":("+characterEncoding+")(?:\\(((['\"])((?:\\\\.|[^\\\\])*?)\\3|((?:\\\\.|[^\\\\()[\\]]|"+attributes.replace(3,8)+")*)|.*)\\)|)",rtrim=new RegExp("^"+whitespace+"+|((?:^|[^\\\\])(?:\\\\.)*)"+whitespace+"+$","g"),rcomma=new RegExp("^"+whitespace+"*,"+whitespace+"*"),rcombinators=new RegExp("^"+whitespace+"*([>+~]|"+whitespace+")"+whitespace+"*"),rattributeQuotes=new RegExp("="+whitespace+"*([^\\]'\"]*?)"+whitespace+"*\\]","g"),rpseudo=new RegExp(pseudos),ridentifier=new RegExp("^"+identifier+"$"),matchExpr={ID:new RegExp("^#("+characterEncoding+")"),CLASS:new RegExp("^\\.("+characterEncoding+")"),TAG:new RegExp("^("+characterEncoding.replace("w","w*")+")"),ATTR:new RegExp("^"+attributes),PSEUDO:new RegExp("^"+pseudos),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+whitespace+"*(even|odd|(([+-]|)(\\d*)n|)"+whitespace+"*(?:([+-]|)"+whitespace+"*(\\d+)|))"+whitespace+"*\\)|)","i"),bool:new RegExp("^(?:"+booleans+")$","i"),needsContext:new RegExp("^"+whitespace+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+whitespace+"*((?:-\\d)?\\d*)"+whitespace+"*\\)|)(?=[^-]|$)","i")},rinputs=/^(?:input|select|textarea|button)$/i,rheader=/^h\d$/i,rnative=/^[^{]+\{\s*\[native \w/,rquickExpr=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,rsibling=/[+~]/,rescape=/'|\\/g,runescape=new RegExp("\\\\([\\da-f]{1,6}"+whitespace+"?|("+whitespace+")|.)","ig"),funescape=function(_,escaped,escapedWhitespace){var high="0x"+escaped-65536;return high!==high||escapedWhitespace?escaped:0>high?String.fromCharCode(high+65536):String.fromCharCode(high>>10|55296,1023&high|56320)};try{push.apply(arr=slice.call(preferredDoc.childNodes),preferredDoc.childNodes),arr[preferredDoc.childNodes.length].nodeType}catch(e){push={apply:arr.length?function(target,els){push_native.apply(target,slice.call(els))}:function(target,els){for(var j=target.length,i=0;target[j++]=els[i++];);target.length=j-1}}}support=Sizzle.support={},isXML=Sizzle.isXML=function(elem){var documentElement=elem&&(elem.ownerDocument||elem).documentElement;return documentElement?"HTML"!==documentElement.nodeName:!1},setDocument=Sizzle.setDocument=function(node){var hasCompare,doc=node?node.ownerDocument||node:preferredDoc,parent=doc.defaultView;return doc!==document&&9===doc.nodeType&&doc.documentElement?(document=doc,docElem=doc.documentElement,documentIsHTML=!isXML(doc),parent&&parent!==parent.top&&(parent.addEventListener?parent.addEventListener("unload",function(){setDocument()},!1):parent.attachEvent&&parent.attachEvent("onunload",function(){setDocument()})),support.attributes=assert(function(div){return div.className="i",!div.getAttribute("className")}),support.getElementsByTagName=assert(function(div){return div.appendChild(doc.createComment("")),!div.getElementsByTagName("*").length}),support.getElementsByClassName=rnative.test(doc.getElementsByClassName)&&assert(function(div){return div.innerHTML="<div class='a'></div><div class='a i'></div>",div.firstChild.className="i",2===div.getElementsByClassName("i").length}),support.getById=assert(function(div){return docElem.appendChild(div).id=expando,!doc.getElementsByName||!doc.getElementsByName(expando).length}),support.getById?(Expr.find.ID=function(id,context){if(typeof context.getElementById!==strundefined&&documentIsHTML){var m=context.getElementById(id);return m&&m.parentNode?[m]:[]}},Expr.filter.ID=function(id){var attrId=id.replace(runescape,funescape);return function(elem){return elem.getAttribute("id")===attrId}}):(delete Expr.find.ID,Expr.filter.ID=function(id){var attrId=id.replace(runescape,funescape);return function(elem){var node=typeof elem.getAttributeNode!==strundefined&&elem.getAttributeNode("id");return node&&node.value===attrId}}),Expr.find.TAG=support.getElementsByTagName?function(tag,context){return typeof context.getElementsByTagName!==strundefined?context.getElementsByTagName(tag):void 0}:function(tag,context){var elem,tmp=[],i=0,results=context.getElementsByTagName(tag);if("*"===tag){for(;elem=results[i++];)1===elem.nodeType&&tmp.push(elem);return tmp}return results},Expr.find.CLASS=support.getElementsByClassName&&function(className,context){return typeof context.getElementsByClassName!==strundefined&&documentIsHTML?context.getElementsByClassName(className):void 0},rbuggyMatches=[],rbuggyQSA=[],(support.qsa=rnative.test(doc.querySelectorAll))&&(assert(function(div){div.innerHTML="<select t=''><option selected=''></option></select>",div.querySelectorAll("[t^='']").length&&rbuggyQSA.push("[*^$]="+whitespace+"*(?:''|\"\")"),div.querySelectorAll("[selected]").length||rbuggyQSA.push("\\["+whitespace+"*(?:value|"+booleans+")"),div.querySelectorAll(":checked").length||rbuggyQSA.push(":checked")}),assert(function(div){var input=doc.createElement("input");input.setAttribute("type","hidden"),div.appendChild(input).setAttribute("name","D"),div.querySelectorAll("[name=d]").length&&rbuggyQSA.push("name"+whitespace+"*[*^$|!~]?="),div.querySelectorAll(":enabled").length||rbuggyQSA.push(":enabled",":disabled"),div.querySelectorAll("*,:x"),rbuggyQSA.push(",.*:")})),(support.matchesSelector=rnative.test(matches=docElem.webkitMatchesSelector||docElem.mozMatchesSelector||docElem.oMatchesSelector||docElem.msMatchesSelector))&&assert(function(div){support.disconnectedMatch=matches.call(div,"div"),matches.call(div,"[s!='']:x"),rbuggyMatches.push("!=",pseudos)}),rbuggyQSA=rbuggyQSA.length&&new RegExp(rbuggyQSA.join("|")),rbuggyMatches=rbuggyMatches.length&&new RegExp(rbuggyMatches.join("|")),hasCompare=rnative.test(docElem.compareDocumentPosition),contains=hasCompare||rnative.test(docElem.contains)?function(a,b){var adown=9===a.nodeType?a.documentElement:a,bup=b&&b.parentNode;return a===bup||!(!bup||1!==bup.nodeType||!(adown.contains?adown.contains(bup):a.compareDocumentPosition&&16&a.compareDocumentPosition(bup)))}:function(a,b){if(b)for(;b=b.parentNode;)if(b===a)return!0;return!1},sortOrder=hasCompare?function(a,b){if(a===b)return hasDuplicate=!0,0;var compare=!a.compareDocumentPosition-!b.compareDocumentPosition;return compare?compare:(compare=(a.ownerDocument||a)===(b.ownerDocument||b)?a.compareDocumentPosition(b):1,1&compare||!support.sortDetached&&b.compareDocumentPosition(a)===compare?a===doc||a.ownerDocument===preferredDoc&&contains(preferredDoc,a)?-1:b===doc||b.ownerDocument===preferredDoc&&contains(preferredDoc,b)?1:sortInput?indexOf.call(sortInput,a)-indexOf.call(sortInput,b):0:4&compare?-1:1)}:function(a,b){if(a===b)return hasDuplicate=!0,0;var cur,i=0,aup=a.parentNode,bup=b.parentNode,ap=[a],bp=[b];if(!aup||!bup)return a===doc?-1:b===doc?1:aup?-1:bup?1:sortInput?indexOf.call(sortInput,a)-indexOf.call(sortInput,b):0;if(aup===bup)return siblingCheck(a,b);for(cur=a;cur=cur.parentNode;)ap.unshift(cur);for(cur=b;cur=cur.parentNode;)bp.unshift(cur);for(;ap[i]===bp[i];)i++;return i?siblingCheck(ap[i],bp[i]):ap[i]===preferredDoc?-1:bp[i]===preferredDoc?1:0},doc):document},Sizzle.matches=function(expr,elements){return Sizzle(expr,null,null,elements)},Sizzle.matchesSelector=function(elem,expr){if((elem.ownerDocument||elem)!==document&&setDocument(elem),expr=expr.replace(rattributeQuotes,"='$1']"),!(!support.matchesSelector||!documentIsHTML||rbuggyMatches&&rbuggyMatches.test(expr)||rbuggyQSA&&rbuggyQSA.test(expr)))try{var ret=matches.call(elem,expr);if(ret||support.disconnectedMatch||elem.document&&11!==elem.document.nodeType)return ret}catch(e){}return Sizzle(expr,document,null,[elem]).length>0},Sizzle.contains=function(context,elem){return(context.ownerDocument||context)!==document&&setDocument(context),contains(context,elem)},Sizzle.attr=function(elem,name){(elem.ownerDocument||elem)!==document&&setDocument(elem);var fn=Expr.attrHandle[name.toLowerCase()],val=fn&&hasOwn.call(Expr.attrHandle,name.toLowerCase())?fn(elem,name,!documentIsHTML):void 0;return void 0!==val?val:support.attributes||!documentIsHTML?elem.getAttribute(name):(val=elem.getAttributeNode(name))&&val.specified?val.value:null},Sizzle.error=function(msg){throw new Error("Syntax error, unrecognized expression: "+msg)},Sizzle.uniqueSort=function(results){var elem,duplicates=[],j=0,i=0;if(hasDuplicate=!support.detectDuplicates,sortInput=!support.sortStable&&results.slice(0),results.sort(sortOrder),hasDuplicate){for(;elem=results[i++];)elem===results[i]&&(j=duplicates.push(i));for(;j--;)results.splice(duplicates[j],1)}return sortInput=null,results},getText=Sizzle.getText=function(elem){var node,ret="",i=0,nodeType=elem.nodeType;if(nodeType){if(1===nodeType||9===nodeType||11===nodeType){if("string"==typeof elem.textContent)return elem.textContent;for(elem=elem.firstChild;elem;elem=elem.nextSibling)ret+=getText(elem)}else if(3===nodeType||4===nodeType)return elem.nodeValue}else for(;node=elem[i++];)ret+=getText(node);return ret},Expr=Sizzle.selectors={cacheLength:50,createPseudo:markFunction,match:matchExpr,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(match){return match[1]=match[1].replace(runescape,funescape),match[3]=(match[4]||match[5]||"").replace(runescape,funescape),"~="===match[2]&&(match[3]=" "+match[3]+" "),match.slice(0,4)},CHILD:function(match){return match[1]=match[1].toLowerCase(),"nth"===match[1].slice(0,3)?(match[3]||Sizzle.error(match[0]),match[4]=+(match[4]?match[5]+(match[6]||1):2*("even"===match[3]||"odd"===match[3])),match[5]=+(match[7]+match[8]||"odd"===match[3])):match[3]&&Sizzle.error(match[0]),match},PSEUDO:function(match){var excess,unquoted=!match[5]&&match[2];return matchExpr.CHILD.test(match[0])?null:(match[3]&&void 0!==match[4]?match[2]=match[4]:unquoted&&rpseudo.test(unquoted)&&(excess=tokenize(unquoted,!0))&&(excess=unquoted.indexOf(")",unquoted.length-excess)-unquoted.length)&&(match[0]=match[0].slice(0,excess),match[2]=unquoted.slice(0,excess)),match.slice(0,3))}},filter:{TAG:function(nodeNameSelector){var nodeName=nodeNameSelector.replace(runescape,funescape).toLowerCase();return"*"===nodeNameSelector?function(){return!0}:function(elem){return elem.nodeName&&elem.nodeName.toLowerCase()===nodeName}},CLASS:function(className){var pattern=classCache[className+" "];return pattern||(pattern=new RegExp("(^|"+whitespace+")"+className+"("+whitespace+"|$)"))&&classCache(className,function(elem){return pattern.test("string"==typeof elem.className&&elem.className||typeof elem.getAttribute!==strundefined&&elem.getAttribute("class")||"")})},ATTR:function(name,operator,check){return function(elem){var result=Sizzle.attr(elem,name);return null==result?"!="===operator:operator?(result+="","="===operator?result===check:"!="===operator?result!==check:"^="===operator?check&&0===result.indexOf(check):"*="===operator?check&&result.indexOf(check)>-1:"$="===operator?check&&result.slice(-check.length)===check:"~="===operator?(" "+result+" ").indexOf(check)>-1:"|="===operator?result===check||result.slice(0,check.length+1)===check+"-":!1):!0}},CHILD:function(type,what,argument,first,last){var simple="nth"!==type.slice(0,3),forward="last"!==type.slice(-4),ofType="of-type"===what;return 1===first&&0===last?function(elem){return!!elem.parentNode}:function(elem,context,xml){var cache,outerCache,node,diff,nodeIndex,start,dir=simple!==forward?"nextSibling":"previousSibling",parent=elem.parentNode,name=ofType&&elem.nodeName.toLowerCase(),useCache=!xml&&!ofType;if(parent){if(simple){for(;dir;){for(node=elem;node=node[dir];)if(ofType?node.nodeName.toLowerCase()===name:1===node.nodeType)return!1;start=dir="only"===type&&!start&&"nextSibling"}return!0}if(start=[forward?parent.firstChild:parent.lastChild],forward&&useCache){for(outerCache=parent[expando]||(parent[expando]={}),cache=outerCache[type]||[],nodeIndex=cache[0]===dirruns&&cache[1],diff=cache[0]===dirruns&&cache[2],node=nodeIndex&&parent.childNodes[nodeIndex];node=++nodeIndex&&node&&node[dir]||(diff=nodeIndex=0)||start.pop();)if(1===node.nodeType&&++diff&&node===elem){outerCache[type]=[dirruns,nodeIndex,diff];break}}else if(useCache&&(cache=(elem[expando]||(elem[expando]={}))[type])&&cache[0]===dirruns)diff=cache[1];else for(;(node=++nodeIndex&&node&&node[dir]||(diff=nodeIndex=0)||start.pop())&&((ofType?node.nodeName.toLowerCase()!==name:1!==node.nodeType)||!++diff||(useCache&&((node[expando]||(node[expando]={}))[type]=[dirruns,diff]),node!==elem)););return diff-=last,diff===first||diff%first===0&&diff/first>=0}}},PSEUDO:function(pseudo,argument){var args,fn=Expr.pseudos[pseudo]||Expr.setFilters[pseudo.toLowerCase()]||Sizzle.error("unsupported pseudo: "+pseudo);return fn[expando]?fn(argument):fn.length>1?(args=[pseudo,pseudo,"",argument],Expr.setFilters.hasOwnProperty(pseudo.toLowerCase())?markFunction(function(seed,matches){for(var idx,matched=fn(seed,argument),i=matched.length;i--;)idx=indexOf.call(seed,matched[i]),seed[idx]=!(matches[idx]=matched[i])}):function(elem){return fn(elem,0,args)}):fn}},pseudos:{not:markFunction(function(selector){var input=[],results=[],matcher=compile(selector.replace(rtrim,"$1"));return matcher[expando]?markFunction(function(seed,matches,context,xml){for(var elem,unmatched=matcher(seed,null,xml,[]),i=seed.length;i--;)(elem=unmatched[i])&&(seed[i]=!(matches[i]=elem))}):function(elem,context,xml){return input[0]=elem,matcher(input,null,xml,results),!results.pop()}}),has:markFunction(function(selector){return function(elem){return Sizzle(selector,elem).length>0}}),contains:markFunction(function(text){return function(elem){return(elem.textContent||elem.innerText||getText(elem)).indexOf(text)>-1}}),lang:markFunction(function(lang){return ridentifier.test(lang||"")||Sizzle.error("unsupported lang: "+lang),lang=lang.replace(runescape,funescape).toLowerCase(),function(elem){var elemLang;do if(elemLang=documentIsHTML?elem.lang:elem.getAttribute("xml:lang")||elem.getAttribute("lang"))return elemLang=elemLang.toLowerCase(),elemLang===lang||0===elemLang.indexOf(lang+"-");while((elem=elem.parentNode)&&1===elem.nodeType);return!1}}),target:function(elem){var hash=window.location&&window.location.hash;return hash&&hash.slice(1)===elem.id},root:function(elem){return elem===docElem},focus:function(elem){return elem===document.activeElement&&(!document.hasFocus||document.hasFocus())&&!!(elem.type||elem.href||~elem.tabIndex)},enabled:function(elem){return elem.disabled===!1},disabled:function(elem){return elem.disabled===!0},checked:function(elem){var nodeName=elem.nodeName.toLowerCase();return"input"===nodeName&&!!elem.checked||"option"===nodeName&&!!elem.selected},selected:function(elem){return elem.parentNode&&elem.parentNode.selectedIndex,elem.selected===!0},empty:function(elem){for(elem=elem.firstChild;elem;elem=elem.nextSibling)if(elem.nodeType<6)return!1;return!0},parent:function(elem){return!Expr.pseudos.empty(elem)},header:function(elem){return rheader.test(elem.nodeName)},input:function(elem){return rinputs.test(elem.nodeName)},button:function(elem){var name=elem.nodeName.toLowerCase();return"input"===name&&"button"===elem.type||"button"===name},text:function(elem){var attr;return"input"===elem.nodeName.toLowerCase()&&"text"===elem.type&&(null==(attr=elem.getAttribute("type"))||"text"===attr.toLowerCase())},first:createPositionalPseudo(function(){return[0]}),last:createPositionalPseudo(function(matchIndexes,length){return[length-1]}),eq:createPositionalPseudo(function(matchIndexes,length,argument){return[0>argument?argument+length:argument]}),even:createPositionalPseudo(function(matchIndexes,length){for(var i=0;length>i;i+=2)matchIndexes.push(i);return matchIndexes}),odd:createPositionalPseudo(function(matchIndexes,length){for(var i=1;length>i;i+=2)matchIndexes.push(i);return matchIndexes}),lt:createPositionalPseudo(function(matchIndexes,length,argument){for(var i=0>argument?argument+length:argument;--i>=0;)matchIndexes.push(i);return matchIndexes}),gt:createPositionalPseudo(function(matchIndexes,length,argument){for(var i=0>argument?argument+length:argument;++i<length;)matchIndexes.push(i);return matchIndexes})}},Expr.pseudos.nth=Expr.pseudos.eq;for(i in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})Expr.pseudos[i]=createInputPseudo(i);for(i in{submit:!0,reset:!0})Expr.pseudos[i]=createButtonPseudo(i);return setFilters.prototype=Expr.filters=Expr.pseudos,Expr.setFilters=new setFilters,compile=Sizzle.compile=function(selector,group){var i,setMatchers=[],elementMatchers=[],cached=compilerCache[selector+" "];if(!cached){for(group||(group=tokenize(selector)),i=group.length;i--;)cached=matcherFromTokens(group[i]),cached[expando]?setMatchers.push(cached):elementMatchers.push(cached);cached=compilerCache(selector,matcherFromGroupMatchers(elementMatchers,setMatchers))}return cached},support.sortStable=expando.split("").sort(sortOrder).join("")===expando,support.detectDuplicates=!!hasDuplicate,setDocument(),support.sortDetached=assert(function(div1){return 1&div1.compareDocumentPosition(document.createElement("div"))}),assert(function(div){return div.innerHTML="<a href='#'></a>","#"===div.firstChild.getAttribute("href")})||addHandle("type|href|height|width",function(elem,name,isXML){return isXML?void 0:elem.getAttribute(name,"type"===name.toLowerCase()?1:2)}),support.attributes&&assert(function(div){return div.innerHTML="<input/>",div.firstChild.setAttribute("value",""),""===div.firstChild.getAttribute("value")})||addHandle("value",function(elem,name,isXML){return isXML||"input"!==elem.nodeName.toLowerCase()?void 0:elem.defaultValue}),assert(function(div){return null==div.getAttribute("disabled")})||addHandle(booleans,function(elem,name,isXML){var val;return isXML?void 0:elem[name]===!0?name.toLowerCase():(val=elem.getAttributeNode(name))&&val.specified?val.value:null}),Sizzle}(window);jQuery.find=Sizzle,jQuery.expr=Sizzle.selectors,jQuery.expr[":"]=jQuery.expr.pseudos,jQuery.unique=Sizzle.uniqueSort,jQuery.text=Sizzle.getText,jQuery.isXMLDoc=Sizzle.isXML,jQuery.contains=Sizzle.contains;var rneedsContext=jQuery.expr.match.needsContext,rsingleTag=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,risSimple=/^.[^:#\[\.,]*$/;jQuery.filter=function(expr,elems,not){var elem=elems[0];return not&&(expr=":not("+expr+")"),1===elems.length&&1===elem.nodeType?jQuery.find.matchesSelector(elem,expr)?[elem]:[]:jQuery.find.matches(expr,jQuery.grep(elems,function(elem){return 1===elem.nodeType}))},jQuery.fn.extend({find:function(selector){var i,ret=[],self=this,len=self.length;if("string"!=typeof selector)return this.pushStack(jQuery(selector).filter(function(){for(i=0;len>i;i++)if(jQuery.contains(self[i],this))return!0}));for(i=0;len>i;i++)jQuery.find(selector,self[i],ret);return ret=this.pushStack(len>1?jQuery.unique(ret):ret),ret.selector=this.selector?this.selector+" "+selector:selector,ret},filter:function(selector){return this.pushStack(winnow(this,selector||[],!1))},not:function(selector){return this.pushStack(winnow(this,selector||[],!0))},is:function(selector){return!!winnow(this,"string"==typeof selector&&rneedsContext.test(selector)?jQuery(selector):selector||[],!1).length}});var rootjQuery,document=window.document,rquickExpr=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,init=jQuery.fn.init=function(selector,context){var match,elem;if(!selector)return this;if("string"==typeof selector){if(match="<"===selector.charAt(0)&&">"===selector.charAt(selector.length-1)&&selector.length>=3?[null,selector,null]:rquickExpr.exec(selector),!match||!match[1]&&context)return!context||context.jquery?(context||rootjQuery).find(selector):this.constructor(context).find(selector);if(match[1]){if(context=context instanceof jQuery?context[0]:context,jQuery.merge(this,jQuery.parseHTML(match[1],context&&context.nodeType?context.ownerDocument||context:document,!0)),rsingleTag.test(match[1])&&jQuery.isPlainObject(context))for(match in context)jQuery.isFunction(this[match])?this[match](context[match]):this.attr(match,context[match]);return this}if(elem=document.getElementById(match[2]),elem&&elem.parentNode){if(elem.id!==match[2])return rootjQuery.find(selector);this.length=1,this[0]=elem}return this.context=document,this.selector=selector,this}return selector.nodeType?(this.context=this[0]=selector,this.length=1,this):jQuery.isFunction(selector)?"undefined"!=typeof rootjQuery.ready?rootjQuery.ready(selector):selector(jQuery):(void 0!==selector.selector&&(this.selector=selector.selector,this.context=selector.context),jQuery.makeArray(selector,this))};init.prototype=jQuery.fn,rootjQuery=jQuery(document);var rparentsprev=/^(?:parents|prev(?:Until|All))/,guaranteedUnique={children:!0,contents:!0,next:!0,prev:!0};jQuery.extend({dir:function(elem,dir,until){for(var matched=[],cur=elem[dir];cur&&9!==cur.nodeType&&(void 0===until||1!==cur.nodeType||!jQuery(cur).is(until));)1===cur.nodeType&&matched.push(cur),cur=cur[dir];return matched},sibling:function(n,elem){for(var r=[];n;n=n.nextSibling)1===n.nodeType&&n!==elem&&r.push(n);return r}}),jQuery.fn.extend({has:function(target){var i,targets=jQuery(target,this),len=targets.length;return this.filter(function(){for(i=0;len>i;i++)if(jQuery.contains(this,targets[i]))return!0})},closest:function(selectors,context){for(var cur,i=0,l=this.length,matched=[],pos=rneedsContext.test(selectors)||"string"!=typeof selectors?jQuery(selectors,context||this.context):0;l>i;i++)for(cur=this[i];cur&&cur!==context;cur=cur.parentNode)if(cur.nodeType<11&&(pos?pos.index(cur)>-1:1===cur.nodeType&&jQuery.find.matchesSelector(cur,selectors))){matched.push(cur);break}return this.pushStack(matched.length>1?jQuery.unique(matched):matched)
},index:function(elem){return elem?"string"==typeof elem?jQuery.inArray(this[0],jQuery(elem)):jQuery.inArray(elem.jquery?elem[0]:elem,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(selector,context){return this.pushStack(jQuery.unique(jQuery.merge(this.get(),jQuery(selector,context))))},addBack:function(selector){return this.add(null==selector?this.prevObject:this.prevObject.filter(selector))}}),jQuery.each({parent:function(elem){var parent=elem.parentNode;return parent&&11!==parent.nodeType?parent:null},parents:function(elem){return jQuery.dir(elem,"parentNode")},parentsUntil:function(elem,i,until){return jQuery.dir(elem,"parentNode",until)},next:function(elem){return sibling(elem,"nextSibling")},prev:function(elem){return sibling(elem,"previousSibling")},nextAll:function(elem){return jQuery.dir(elem,"nextSibling")},prevAll:function(elem){return jQuery.dir(elem,"previousSibling")},nextUntil:function(elem,i,until){return jQuery.dir(elem,"nextSibling",until)},prevUntil:function(elem,i,until){return jQuery.dir(elem,"previousSibling",until)},siblings:function(elem){return jQuery.sibling((elem.parentNode||{}).firstChild,elem)},children:function(elem){return jQuery.sibling(elem.firstChild)},contents:function(elem){return jQuery.nodeName(elem,"iframe")?elem.contentDocument||elem.contentWindow.document:jQuery.merge([],elem.childNodes)}},function(name,fn){jQuery.fn[name]=function(until,selector){var ret=jQuery.map(this,fn,until);return"Until"!==name.slice(-5)&&(selector=until),selector&&"string"==typeof selector&&(ret=jQuery.filter(selector,ret)),this.length>1&&(guaranteedUnique[name]||(ret=jQuery.unique(ret)),rparentsprev.test(name)&&(ret=ret.reverse())),this.pushStack(ret)}});var rnotwhite=/\S+/g,optionsCache={};jQuery.Callbacks=function(options){options="string"==typeof options?optionsCache[options]||createOptions(options):jQuery.extend({},options);var firing,memory,fired,firingLength,firingIndex,firingStart,list=[],stack=!options.once&&[],fire=function(data){for(memory=options.memory&&data,fired=!0,firingIndex=firingStart||0,firingStart=0,firingLength=list.length,firing=!0;list&&firingLength>firingIndex;firingIndex++)if(list[firingIndex].apply(data[0],data[1])===!1&&options.stopOnFalse){memory=!1;break}firing=!1,list&&(stack?stack.length&&fire(stack.shift()):memory?list=[]:self.disable())},self={add:function(){if(list){var start=list.length;!function add(args){jQuery.each(args,function(_,arg){var type=jQuery.type(arg);"function"===type?options.unique&&self.has(arg)||list.push(arg):arg&&arg.length&&"string"!==type&&add(arg)})}(arguments),firing?firingLength=list.length:memory&&(firingStart=start,fire(memory))}return this},remove:function(){return list&&jQuery.each(arguments,function(_,arg){for(var index;(index=jQuery.inArray(arg,list,index))>-1;)list.splice(index,1),firing&&(firingLength>=index&&firingLength--,firingIndex>=index&&firingIndex--)}),this},has:function(fn){return fn?jQuery.inArray(fn,list)>-1:!(!list||!list.length)},empty:function(){return list=[],firingLength=0,this},disable:function(){return list=stack=memory=void 0,this},disabled:function(){return!list},lock:function(){return stack=void 0,memory||self.disable(),this},locked:function(){return!stack},fireWith:function(context,args){return!list||fired&&!stack||(args=args||[],args=[context,args.slice?args.slice():args],firing?stack.push(args):fire(args)),this},fire:function(){return self.fireWith(this,arguments),this},fired:function(){return!!fired}};return self},jQuery.extend({Deferred:function(func){var tuples=[["resolve","done",jQuery.Callbacks("once memory"),"resolved"],["reject","fail",jQuery.Callbacks("once memory"),"rejected"],["notify","progress",jQuery.Callbacks("memory")]],state="pending",promise={state:function(){return state},always:function(){return deferred.done(arguments).fail(arguments),this},then:function(){var fns=arguments;return jQuery.Deferred(function(newDefer){jQuery.each(tuples,function(i,tuple){var fn=jQuery.isFunction(fns[i])&&fns[i];deferred[tuple[1]](function(){var returned=fn&&fn.apply(this,arguments);returned&&jQuery.isFunction(returned.promise)?returned.promise().done(newDefer.resolve).fail(newDefer.reject).progress(newDefer.notify):newDefer[tuple[0]+"With"](this===promise?newDefer.promise():this,fn?[returned]:arguments)})}),fns=null}).promise()},promise:function(obj){return null!=obj?jQuery.extend(obj,promise):promise}},deferred={};return promise.pipe=promise.then,jQuery.each(tuples,function(i,tuple){var list=tuple[2],stateString=tuple[3];promise[tuple[1]]=list.add,stateString&&list.add(function(){state=stateString},tuples[1^i][2].disable,tuples[2][2].lock),deferred[tuple[0]]=function(){return deferred[tuple[0]+"With"](this===deferred?promise:this,arguments),this},deferred[tuple[0]+"With"]=list.fireWith}),promise.promise(deferred),func&&func.call(deferred,deferred),deferred},when:function(subordinate){var progressValues,progressContexts,resolveContexts,i=0,resolveValues=slice.call(arguments),length=resolveValues.length,remaining=1!==length||subordinate&&jQuery.isFunction(subordinate.promise)?length:0,deferred=1===remaining?subordinate:jQuery.Deferred(),updateFunc=function(i,contexts,values){return function(value){contexts[i]=this,values[i]=arguments.length>1?slice.call(arguments):value,values===progressValues?deferred.notifyWith(contexts,values):--remaining||deferred.resolveWith(contexts,values)}};if(length>1)for(progressValues=new Array(length),progressContexts=new Array(length),resolveContexts=new Array(length);length>i;i++)resolveValues[i]&&jQuery.isFunction(resolveValues[i].promise)?resolveValues[i].promise().done(updateFunc(i,resolveContexts,resolveValues)).fail(deferred.reject).progress(updateFunc(i,progressContexts,progressValues)):--remaining;return remaining||deferred.resolveWith(resolveContexts,resolveValues),deferred.promise()}});var readyList;jQuery.fn.ready=function(fn){return jQuery.ready.promise().done(fn),this},jQuery.extend({isReady:!1,readyWait:1,holdReady:function(hold){hold?jQuery.readyWait++:jQuery.ready(!0)},ready:function(wait){if(wait===!0?!--jQuery.readyWait:!jQuery.isReady){if(!document.body)return setTimeout(jQuery.ready);jQuery.isReady=!0,wait!==!0&&--jQuery.readyWait>0||(readyList.resolveWith(document,[jQuery]),jQuery.fn.trigger&&jQuery(document).trigger("ready").off("ready"))}}}),jQuery.ready.promise=function(obj){if(!readyList)if(readyList=jQuery.Deferred(),"complete"===document.readyState)setTimeout(jQuery.ready);else if(document.addEventListener)document.addEventListener("DOMContentLoaded",completed,!1),window.addEventListener("load",completed,!1);else{document.attachEvent("onreadystatechange",completed),window.attachEvent("onload",completed);var top=!1;try{top=null==window.frameElement&&document.documentElement}catch(e){}top&&top.doScroll&&!function doScrollCheck(){if(!jQuery.isReady){try{top.doScroll("left")}catch(e){return setTimeout(doScrollCheck,50)}detach(),jQuery.ready()}}()}return readyList.promise(obj)};var i,strundefined="undefined";for(i in jQuery(support))break;support.ownLast="0"!==i,support.inlineBlockNeedsLayout=!1,jQuery(function(){var container,div,body=document.getElementsByTagName("body")[0];body&&(container=document.createElement("div"),container.style.cssText="border:0;width:0;height:0;position:absolute;top:0;left:-9999px;margin-top:1px",div=document.createElement("div"),body.appendChild(container).appendChild(div),typeof div.style.zoom!==strundefined&&(div.style.cssText="border:0;margin:0;width:1px;padding:1px;display:inline;zoom:1",(support.inlineBlockNeedsLayout=3===div.offsetWidth)&&(body.style.zoom=1)),body.removeChild(container),container=div=null)}),function(){var div=document.createElement("div");if(null==support.deleteExpando){support.deleteExpando=!0;try{delete div.test}catch(e){support.deleteExpando=!1}}div=null}(),jQuery.acceptData=function(elem){var noData=jQuery.noData[(elem.nodeName+" ").toLowerCase()],nodeType=+elem.nodeType||1;return 1!==nodeType&&9!==nodeType?!1:!noData||noData!==!0&&elem.getAttribute("classid")===noData};var rbrace=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,rmultiDash=/([A-Z])/g;jQuery.extend({cache:{},noData:{"applet ":!0,"embed ":!0,"object ":"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},hasData:function(elem){return elem=elem.nodeType?jQuery.cache[elem[jQuery.expando]]:elem[jQuery.expando],!!elem&&!isEmptyDataObject(elem)},data:function(elem,name,data){return internalData(elem,name,data)},removeData:function(elem,name){return internalRemoveData(elem,name)},_data:function(elem,name,data){return internalData(elem,name,data,!0)},_removeData:function(elem,name){return internalRemoveData(elem,name,!0)}}),jQuery.fn.extend({data:function(key,value){var i,name,data,elem=this[0],attrs=elem&&elem.attributes;if(void 0===key){if(this.length&&(data=jQuery.data(elem),1===elem.nodeType&&!jQuery._data(elem,"parsedAttrs"))){for(i=attrs.length;i--;)name=attrs[i].name,0===name.indexOf("data-")&&(name=jQuery.camelCase(name.slice(5)),dataAttr(elem,name,data[name]));jQuery._data(elem,"parsedAttrs",!0)}return data}return"object"==typeof key?this.each(function(){jQuery.data(this,key)}):arguments.length>1?this.each(function(){jQuery.data(this,key,value)}):elem?dataAttr(elem,key,jQuery.data(elem,key)):void 0},removeData:function(key){return this.each(function(){jQuery.removeData(this,key)})}}),jQuery.extend({queue:function(elem,type,data){var queue;return elem?(type=(type||"fx")+"queue",queue=jQuery._data(elem,type),data&&(!queue||jQuery.isArray(data)?queue=jQuery._data(elem,type,jQuery.makeArray(data)):queue.push(data)),queue||[]):void 0},dequeue:function(elem,type){type=type||"fx";var queue=jQuery.queue(elem,type),startLength=queue.length,fn=queue.shift(),hooks=jQuery._queueHooks(elem,type),next=function(){jQuery.dequeue(elem,type)};"inprogress"===fn&&(fn=queue.shift(),startLength--),fn&&("fx"===type&&queue.unshift("inprogress"),delete hooks.stop,fn.call(elem,next,hooks)),!startLength&&hooks&&hooks.empty.fire()},_queueHooks:function(elem,type){var key=type+"queueHooks";return jQuery._data(elem,key)||jQuery._data(elem,key,{empty:jQuery.Callbacks("once memory").add(function(){jQuery._removeData(elem,type+"queue"),jQuery._removeData(elem,key)})})}}),jQuery.fn.extend({queue:function(type,data){var setter=2;return"string"!=typeof type&&(data=type,type="fx",setter--),arguments.length<setter?jQuery.queue(this[0],type):void 0===data?this:this.each(function(){var queue=jQuery.queue(this,type,data);jQuery._queueHooks(this,type),"fx"===type&&"inprogress"!==queue[0]&&jQuery.dequeue(this,type)})},dequeue:function(type){return this.each(function(){jQuery.dequeue(this,type)})},clearQueue:function(type){return this.queue(type||"fx",[])},promise:function(type,obj){var tmp,count=1,defer=jQuery.Deferred(),elements=this,i=this.length,resolve=function(){--count||defer.resolveWith(elements,[elements])};for("string"!=typeof type&&(obj=type,type=void 0),type=type||"fx";i--;)tmp=jQuery._data(elements[i],type+"queueHooks"),tmp&&tmp.empty&&(count++,tmp.empty.add(resolve));return resolve(),defer.promise(obj)}});var pnum=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,cssExpand=["Top","Right","Bottom","Left"],isHidden=function(elem,el){return elem=el||elem,"none"===jQuery.css(elem,"display")||!jQuery.contains(elem.ownerDocument,elem)},access=jQuery.access=function(elems,fn,key,value,chainable,emptyGet,raw){var i=0,length=elems.length,bulk=null==key;if("object"===jQuery.type(key)){chainable=!0;for(i in key)jQuery.access(elems,fn,i,key[i],!0,emptyGet,raw)}else if(void 0!==value&&(chainable=!0,jQuery.isFunction(value)||(raw=!0),bulk&&(raw?(fn.call(elems,value),fn=null):(bulk=fn,fn=function(elem,key,value){return bulk.call(jQuery(elem),value)})),fn))for(;length>i;i++)fn(elems[i],key,raw?value:value.call(elems[i],i,fn(elems[i],key)));return chainable?elems:bulk?fn.call(elems):length?fn(elems[0],key):emptyGet},rcheckableType=/^(?:checkbox|radio)$/i;!function(){var fragment=document.createDocumentFragment(),div=document.createElement("div"),input=document.createElement("input");if(div.setAttribute("className","t"),div.innerHTML="  <link/><table></table><a href='/a'>a</a>",support.leadingWhitespace=3===div.firstChild.nodeType,support.tbody=!div.getElementsByTagName("tbody").length,support.htmlSerialize=!!div.getElementsByTagName("link").length,support.html5Clone="<:nav></:nav>"!==document.createElement("nav").cloneNode(!0).outerHTML,input.type="checkbox",input.checked=!0,fragment.appendChild(input),support.appendChecked=input.checked,div.innerHTML="<textarea>x</textarea>",support.noCloneChecked=!!div.cloneNode(!0).lastChild.defaultValue,fragment.appendChild(div),div.innerHTML="<input type='radio' checked='checked' name='t'/>",support.checkClone=div.cloneNode(!0).cloneNode(!0).lastChild.checked,support.noCloneEvent=!0,div.attachEvent&&(div.attachEvent("onclick",function(){support.noCloneEvent=!1}),div.cloneNode(!0).click()),null==support.deleteExpando){support.deleteExpando=!0;try{delete div.test}catch(e){support.deleteExpando=!1}}fragment=div=input=null}(),function(){var i,eventName,div=document.createElement("div");for(i in{submit:!0,change:!0,focusin:!0})eventName="on"+i,(support[i+"Bubbles"]=eventName in window)||(div.setAttribute(eventName,"t"),support[i+"Bubbles"]=div.attributes[eventName].expando===!1);div=null}();var rformElems=/^(?:input|select|textarea)$/i,rkeyEvent=/^key/,rmouseEvent=/^(?:mouse|contextmenu)|click/,rfocusMorph=/^(?:focusinfocus|focusoutblur)$/,rtypenamespace=/^([^.]*)(?:\.(.+)|)$/;jQuery.event={global:{},add:function(elem,types,handler,data,selector){var tmp,events,t,handleObjIn,special,eventHandle,handleObj,handlers,type,namespaces,origType,elemData=jQuery._data(elem);if(elemData){for(handler.handler&&(handleObjIn=handler,handler=handleObjIn.handler,selector=handleObjIn.selector),handler.guid||(handler.guid=jQuery.guid++),(events=elemData.events)||(events=elemData.events={}),(eventHandle=elemData.handle)||(eventHandle=elemData.handle=function(e){return typeof jQuery===strundefined||e&&jQuery.event.triggered===e.type?void 0:jQuery.event.dispatch.apply(eventHandle.elem,arguments)},eventHandle.elem=elem),types=(types||"").match(rnotwhite)||[""],t=types.length;t--;)tmp=rtypenamespace.exec(types[t])||[],type=origType=tmp[1],namespaces=(tmp[2]||"").split(".").sort(),type&&(special=jQuery.event.special[type]||{},type=(selector?special.delegateType:special.bindType)||type,special=jQuery.event.special[type]||{},handleObj=jQuery.extend({type:type,origType:origType,data:data,handler:handler,guid:handler.guid,selector:selector,needsContext:selector&&jQuery.expr.match.needsContext.test(selector),namespace:namespaces.join(".")},handleObjIn),(handlers=events[type])||(handlers=events[type]=[],handlers.delegateCount=0,special.setup&&special.setup.call(elem,data,namespaces,eventHandle)!==!1||(elem.addEventListener?elem.addEventListener(type,eventHandle,!1):elem.attachEvent&&elem.attachEvent("on"+type,eventHandle))),special.add&&(special.add.call(elem,handleObj),handleObj.handler.guid||(handleObj.handler.guid=handler.guid)),selector?handlers.splice(handlers.delegateCount++,0,handleObj):handlers.push(handleObj),jQuery.event.global[type]=!0);elem=null}},remove:function(elem,types,handler,selector,mappedTypes){var j,handleObj,tmp,origCount,t,events,special,handlers,type,namespaces,origType,elemData=jQuery.hasData(elem)&&jQuery._data(elem);if(elemData&&(events=elemData.events)){for(types=(types||"").match(rnotwhite)||[""],t=types.length;t--;)if(tmp=rtypenamespace.exec(types[t])||[],type=origType=tmp[1],namespaces=(tmp[2]||"").split(".").sort(),type){for(special=jQuery.event.special[type]||{},type=(selector?special.delegateType:special.bindType)||type,handlers=events[type]||[],tmp=tmp[2]&&new RegExp("(^|\\.)"+namespaces.join("\\.(?:.*\\.|)")+"(\\.|$)"),origCount=j=handlers.length;j--;)handleObj=handlers[j],!mappedTypes&&origType!==handleObj.origType||handler&&handler.guid!==handleObj.guid||tmp&&!tmp.test(handleObj.namespace)||selector&&selector!==handleObj.selector&&("**"!==selector||!handleObj.selector)||(handlers.splice(j,1),handleObj.selector&&handlers.delegateCount--,special.remove&&special.remove.call(elem,handleObj));origCount&&!handlers.length&&(special.teardown&&special.teardown.call(elem,namespaces,elemData.handle)!==!1||jQuery.removeEvent(elem,type,elemData.handle),delete events[type])}else for(type in events)jQuery.event.remove(elem,type+types[t],handler,selector,!0);jQuery.isEmptyObject(events)&&(delete elemData.handle,jQuery._removeData(elem,"events"))}},trigger:function(event,data,elem,onlyHandlers){var handle,ontype,cur,bubbleType,special,tmp,i,eventPath=[elem||document],type=hasOwn.call(event,"type")?event.type:event,namespaces=hasOwn.call(event,"namespace")?event.namespace.split("."):[];if(cur=tmp=elem=elem||document,3!==elem.nodeType&&8!==elem.nodeType&&!rfocusMorph.test(type+jQuery.event.triggered)&&(type.indexOf(".")>=0&&(namespaces=type.split("."),type=namespaces.shift(),namespaces.sort()),ontype=type.indexOf(":")<0&&"on"+type,event=event[jQuery.expando]?event:new jQuery.Event(type,"object"==typeof event&&event),event.isTrigger=onlyHandlers?2:3,event.namespace=namespaces.join("."),event.namespace_re=event.namespace?new RegExp("(^|\\.)"+namespaces.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,event.result=void 0,event.target||(event.target=elem),data=null==data?[event]:jQuery.makeArray(data,[event]),special=jQuery.event.special[type]||{},onlyHandlers||!special.trigger||special.trigger.apply(elem,data)!==!1)){if(!onlyHandlers&&!special.noBubble&&!jQuery.isWindow(elem)){for(bubbleType=special.delegateType||type,rfocusMorph.test(bubbleType+type)||(cur=cur.parentNode);cur;cur=cur.parentNode)eventPath.push(cur),tmp=cur;tmp===(elem.ownerDocument||document)&&eventPath.push(tmp.defaultView||tmp.parentWindow||window)}for(i=0;(cur=eventPath[i++])&&!event.isPropagationStopped();)event.type=i>1?bubbleType:special.bindType||type,handle=(jQuery._data(cur,"events")||{})[event.type]&&jQuery._data(cur,"handle"),handle&&handle.apply(cur,data),handle=ontype&&cur[ontype],handle&&handle.apply&&jQuery.acceptData(cur)&&(event.result=handle.apply(cur,data),event.result===!1&&event.preventDefault());if(event.type=type,!onlyHandlers&&!event.isDefaultPrevented()&&(!special._default||special._default.apply(eventPath.pop(),data)===!1)&&jQuery.acceptData(elem)&&ontype&&elem[type]&&!jQuery.isWindow(elem)){tmp=elem[ontype],tmp&&(elem[ontype]=null),jQuery.event.triggered=type;try{elem[type]()}catch(e){}jQuery.event.triggered=void 0,tmp&&(elem[ontype]=tmp)}return event.result}},dispatch:function(event){event=jQuery.event.fix(event);var i,ret,handleObj,matched,j,handlerQueue=[],args=slice.call(arguments),handlers=(jQuery._data(this,"events")||{})[event.type]||[],special=jQuery.event.special[event.type]||{};if(args[0]=event,event.delegateTarget=this,!special.preDispatch||special.preDispatch.call(this,event)!==!1){for(handlerQueue=jQuery.event.handlers.call(this,event,handlers),i=0;(matched=handlerQueue[i++])&&!event.isPropagationStopped();)for(event.currentTarget=matched.elem,j=0;(handleObj=matched.handlers[j++])&&!event.isImmediatePropagationStopped();)(!event.namespace_re||event.namespace_re.test(handleObj.namespace))&&(event.handleObj=handleObj,event.data=handleObj.data,ret=((jQuery.event.special[handleObj.origType]||{}).handle||handleObj.handler).apply(matched.elem,args),void 0!==ret&&(event.result=ret)===!1&&(event.preventDefault(),event.stopPropagation()));return special.postDispatch&&special.postDispatch.call(this,event),event.result}},handlers:function(event,handlers){var sel,handleObj,matches,i,handlerQueue=[],delegateCount=handlers.delegateCount,cur=event.target;if(delegateCount&&cur.nodeType&&(!event.button||"click"!==event.type))for(;cur!=this;cur=cur.parentNode||this)if(1===cur.nodeType&&(cur.disabled!==!0||"click"!==event.type)){for(matches=[],i=0;delegateCount>i;i++)handleObj=handlers[i],sel=handleObj.selector+" ",void 0===matches[sel]&&(matches[sel]=handleObj.needsContext?jQuery(sel,this).index(cur)>=0:jQuery.find(sel,this,null,[cur]).length),matches[sel]&&matches.push(handleObj);matches.length&&handlerQueue.push({elem:cur,handlers:matches})}return delegateCount<handlers.length&&handlerQueue.push({elem:this,handlers:handlers.slice(delegateCount)}),handlerQueue},fix:function(event){if(event[jQuery.expando])return event;var i,prop,copy,type=event.type,originalEvent=event,fixHook=this.fixHooks[type];for(fixHook||(this.fixHooks[type]=fixHook=rmouseEvent.test(type)?this.mouseHooks:rkeyEvent.test(type)?this.keyHooks:{}),copy=fixHook.props?this.props.concat(fixHook.props):this.props,event=new jQuery.Event(originalEvent),i=copy.length;i--;)prop=copy[i],event[prop]=originalEvent[prop];return event.target||(event.target=originalEvent.srcElement||document),3===event.target.nodeType&&(event.target=event.target.parentNode),event.metaKey=!!event.metaKey,fixHook.filter?fixHook.filter(event,originalEvent):event},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(event,original){return null==event.which&&(event.which=null!=original.charCode?original.charCode:original.keyCode),event}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(event,original){var body,eventDoc,doc,button=original.button,fromElement=original.fromElement;return null==event.pageX&&null!=original.clientX&&(eventDoc=event.target.ownerDocument||document,doc=eventDoc.documentElement,body=eventDoc.body,event.pageX=original.clientX+(doc&&doc.scrollLeft||body&&body.scrollLeft||0)-(doc&&doc.clientLeft||body&&body.clientLeft||0),event.pageY=original.clientY+(doc&&doc.scrollTop||body&&body.scrollTop||0)-(doc&&doc.clientTop||body&&body.clientTop||0)),!event.relatedTarget&&fromElement&&(event.relatedTarget=fromElement===event.target?original.toElement:fromElement),event.which||void 0===button||(event.which=1&button?1:2&button?3:4&button?2:0),event}},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==safeActiveElement()&&this.focus)try{return this.focus(),!1}catch(e){}},delegateType:"focusin"},blur:{trigger:function(){return this===safeActiveElement()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return jQuery.nodeName(this,"input")&&"checkbox"===this.type&&this.click?(this.click(),!1):void 0},_default:function(event){return jQuery.nodeName(event.target,"a")}},beforeunload:{postDispatch:function(event){void 0!==event.result&&(event.originalEvent.returnValue=event.result)}}},simulate:function(type,elem,event,bubble){var e=jQuery.extend(new jQuery.Event,event,{type:type,isSimulated:!0,originalEvent:{}});bubble?jQuery.event.trigger(e,null,elem):jQuery.event.dispatch.call(elem,e),e.isDefaultPrevented()&&event.preventDefault()}},jQuery.removeEvent=document.removeEventListener?function(elem,type,handle){elem.removeEventListener&&elem.removeEventListener(type,handle,!1)}:function(elem,type,handle){var name="on"+type;elem.detachEvent&&(typeof elem[name]===strundefined&&(elem[name]=null),elem.detachEvent(name,handle))},jQuery.Event=function(src,props){return this instanceof jQuery.Event?(src&&src.type?(this.originalEvent=src,this.type=src.type,this.isDefaultPrevented=src.defaultPrevented||void 0===src.defaultPrevented&&(src.returnValue===!1||src.getPreventDefault&&src.getPreventDefault())?returnTrue:returnFalse):this.type=src,props&&jQuery.extend(this,props),this.timeStamp=src&&src.timeStamp||jQuery.now(),this[jQuery.expando]=!0,void 0):new jQuery.Event(src,props)},jQuery.Event.prototype={isDefaultPrevented:returnFalse,isPropagationStopped:returnFalse,isImmediatePropagationStopped:returnFalse,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=returnTrue,e&&(e.preventDefault?e.preventDefault():e.returnValue=!1)},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=returnTrue,e&&(e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0)},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=returnTrue,this.stopPropagation()}},jQuery.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(orig,fix){jQuery.event.special[orig]={delegateType:fix,bindType:fix,handle:function(event){var ret,target=this,related=event.relatedTarget,handleObj=event.handleObj;return(!related||related!==target&&!jQuery.contains(target,related))&&(event.type=handleObj.origType,ret=handleObj.handler.apply(this,arguments),event.type=fix),ret}}}),support.submitBubbles||(jQuery.event.special.submit={setup:function(){return jQuery.nodeName(this,"form")?!1:(jQuery.event.add(this,"click._submit keypress._submit",function(e){var elem=e.target,form=jQuery.nodeName(elem,"input")||jQuery.nodeName(elem,"button")?elem.form:void 0;form&&!jQuery._data(form,"submitBubbles")&&(jQuery.event.add(form,"submit._submit",function(event){event._submit_bubble=!0}),jQuery._data(form,"submitBubbles",!0))}),void 0)},postDispatch:function(event){event._submit_bubble&&(delete event._submit_bubble,this.parentNode&&!event.isTrigger&&jQuery.event.simulate("submit",this.parentNode,event,!0))},teardown:function(){return jQuery.nodeName(this,"form")?!1:(jQuery.event.remove(this,"._submit"),void 0)}}),support.changeBubbles||(jQuery.event.special.change={setup:function(){return rformElems.test(this.nodeName)?(("checkbox"===this.type||"radio"===this.type)&&(jQuery.event.add(this,"propertychange._change",function(event){"checked"===event.originalEvent.propertyName&&(this._just_changed=!0)}),jQuery.event.add(this,"click._change",function(event){this._just_changed&&!event.isTrigger&&(this._just_changed=!1),jQuery.event.simulate("change",this,event,!0)})),!1):(jQuery.event.add(this,"beforeactivate._change",function(e){var elem=e.target;rformElems.test(elem.nodeName)&&!jQuery._data(elem,"changeBubbles")&&(jQuery.event.add(elem,"change._change",function(event){!this.parentNode||event.isSimulated||event.isTrigger||jQuery.event.simulate("change",this.parentNode,event,!0)}),jQuery._data(elem,"changeBubbles",!0))}),void 0)},handle:function(event){var elem=event.target;return this!==elem||event.isSimulated||event.isTrigger||"radio"!==elem.type&&"checkbox"!==elem.type?event.handleObj.handler.apply(this,arguments):void 0},teardown:function(){return jQuery.event.remove(this,"._change"),!rformElems.test(this.nodeName)}}),support.focusinBubbles||jQuery.each({focus:"focusin",blur:"focusout"},function(orig,fix){var handler=function(event){jQuery.event.simulate(fix,event.target,jQuery.event.fix(event),!0)};jQuery.event.special[fix]={setup:function(){var doc=this.ownerDocument||this,attaches=jQuery._data(doc,fix);attaches||doc.addEventListener(orig,handler,!0),jQuery._data(doc,fix,(attaches||0)+1)},teardown:function(){var doc=this.ownerDocument||this,attaches=jQuery._data(doc,fix)-1;attaches?jQuery._data(doc,fix,attaches):(doc.removeEventListener(orig,handler,!0),jQuery._removeData(doc,fix))}}}),jQuery.fn.extend({on:function(types,selector,data,fn,one){var type,origFn;if("object"==typeof types){"string"!=typeof selector&&(data=data||selector,selector=void 0);for(type in types)this.on(type,selector,data,types[type],one);return this}if(null==data&&null==fn?(fn=selector,data=selector=void 0):null==fn&&("string"==typeof selector?(fn=data,data=void 0):(fn=data,data=selector,selector=void 0)),fn===!1)fn=returnFalse;else if(!fn)return this;return 1===one&&(origFn=fn,fn=function(event){return jQuery().off(event),origFn.apply(this,arguments)},fn.guid=origFn.guid||(origFn.guid=jQuery.guid++)),this.each(function(){jQuery.event.add(this,types,fn,data,selector)})},one:function(types,selector,data,fn){return this.on(types,selector,data,fn,1)},off:function(types,selector,fn){var handleObj,type;if(types&&types.preventDefault&&types.handleObj)return handleObj=types.handleObj,jQuery(types.delegateTarget).off(handleObj.namespace?handleObj.origType+"."+handleObj.namespace:handleObj.origType,handleObj.selector,handleObj.handler),this;if("object"==typeof types){for(type in types)this.off(type,selector,types[type]);return this}return(selector===!1||"function"==typeof selector)&&(fn=selector,selector=void 0),fn===!1&&(fn=returnFalse),this.each(function(){jQuery.event.remove(this,types,fn,selector)})},trigger:function(type,data){return this.each(function(){jQuery.event.trigger(type,data,this)})},triggerHandler:function(type,data){var elem=this[0];return elem?jQuery.event.trigger(type,data,elem,!0):void 0}});var nodeNames="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",rinlinejQuery=/ jQuery\d+="(?:null|\d+)"/g,rnoshimcache=new RegExp("<(?:"+nodeNames+")[\\s/>]","i"),rleadingWhitespace=/^\s+/,rxhtmlTag=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,rtagName=/<([\w:]+)/,rtbody=/<tbody/i,rhtml=/<|&#?\w+;/,rnoInnerhtml=/<(?:script|style|link)/i,rchecked=/checked\s*(?:[^=]|=\s*.checked.)/i,rscriptType=/^$|\/(?:java|ecma)script/i,rscriptTypeMasked=/^true\/(.*)/,rcleanScript=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,wrapMap={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:support.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]},safeFragment=createSafeFragment(document),fragmentDiv=safeFragment.appendChild(document.createElement("div"));wrapMap.optgroup=wrapMap.option,wrapMap.tbody=wrapMap.tfoot=wrapMap.colgroup=wrapMap.caption=wrapMap.thead,wrapMap.th=wrapMap.td,jQuery.extend({clone:function(elem,dataAndEvents,deepDataAndEvents){var destElements,node,clone,i,srcElements,inPage=jQuery.contains(elem.ownerDocument,elem);if(support.html5Clone||jQuery.isXMLDoc(elem)||!rnoshimcache.test("<"+elem.nodeName+">")?clone=elem.cloneNode(!0):(fragmentDiv.innerHTML=elem.outerHTML,fragmentDiv.removeChild(clone=fragmentDiv.firstChild)),!(support.noCloneEvent&&support.noCloneChecked||1!==elem.nodeType&&11!==elem.nodeType||jQuery.isXMLDoc(elem)))for(destElements=getAll(clone),srcElements=getAll(elem),i=0;null!=(node=srcElements[i]);++i)destElements[i]&&fixCloneNodeIssues(node,destElements[i]);if(dataAndEvents)if(deepDataAndEvents)for(srcElements=srcElements||getAll(elem),destElements=destElements||getAll(clone),i=0;null!=(node=srcElements[i]);i++)cloneCopyEvent(node,destElements[i]);else cloneCopyEvent(elem,clone);return destElements=getAll(clone,"script"),destElements.length>0&&setGlobalEval(destElements,!inPage&&getAll(elem,"script")),destElements=srcElements=node=null,clone},buildFragment:function(elems,context,scripts,selection){for(var j,elem,contains,tmp,tag,tbody,wrap,l=elems.length,safe=createSafeFragment(context),nodes=[],i=0;l>i;i++)if(elem=elems[i],elem||0===elem)if("object"===jQuery.type(elem))jQuery.merge(nodes,elem.nodeType?[elem]:elem);else if(rhtml.test(elem)){for(tmp=tmp||safe.appendChild(context.createElement("div")),tag=(rtagName.exec(elem)||["",""])[1].toLowerCase(),wrap=wrapMap[tag]||wrapMap._default,tmp.innerHTML=wrap[1]+elem.replace(rxhtmlTag,"<$1></$2>")+wrap[2],j=wrap[0];j--;)tmp=tmp.lastChild;if(!support.leadingWhitespace&&rleadingWhitespace.test(elem)&&nodes.push(context.createTextNode(rleadingWhitespace.exec(elem)[0])),!support.tbody)for(elem="table"!==tag||rtbody.test(elem)?"<table>"!==wrap[1]||rtbody.test(elem)?0:tmp:tmp.firstChild,j=elem&&elem.childNodes.length;j--;)jQuery.nodeName(tbody=elem.childNodes[j],"tbody")&&!tbody.childNodes.length&&elem.removeChild(tbody);for(jQuery.merge(nodes,tmp.childNodes),tmp.textContent="";tmp.firstChild;)tmp.removeChild(tmp.firstChild);tmp=safe.lastChild}else nodes.push(context.createTextNode(elem));for(tmp&&safe.removeChild(tmp),support.appendChecked||jQuery.grep(getAll(nodes,"input"),fixDefaultChecked),i=0;elem=nodes[i++];)if((!selection||-1===jQuery.inArray(elem,selection))&&(contains=jQuery.contains(elem.ownerDocument,elem),tmp=getAll(safe.appendChild(elem),"script"),contains&&setGlobalEval(tmp),scripts))for(j=0;elem=tmp[j++];)rscriptType.test(elem.type||"")&&scripts.push(elem);return tmp=null,safe},cleanData:function(elems,acceptData){for(var elem,type,id,data,i=0,internalKey=jQuery.expando,cache=jQuery.cache,deleteExpando=support.deleteExpando,special=jQuery.event.special;null!=(elem=elems[i]);i++)if((acceptData||jQuery.acceptData(elem))&&(id=elem[internalKey],data=id&&cache[id])){if(data.events)for(type in data.events)special[type]?jQuery.event.remove(elem,type):jQuery.removeEvent(elem,type,data.handle);
cache[id]&&(delete cache[id],deleteExpando?delete elem[internalKey]:typeof elem.removeAttribute!==strundefined?elem.removeAttribute(internalKey):elem[internalKey]=null,deletedIds.push(id))}}}),jQuery.fn.extend({text:function(value){return access(this,function(value){return void 0===value?jQuery.text(this):this.empty().append((this[0]&&this[0].ownerDocument||document).createTextNode(value))},null,value,arguments.length)},append:function(){return this.domManip(arguments,function(elem){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var target=manipulationTarget(this,elem);target.appendChild(elem)}})},prepend:function(){return this.domManip(arguments,function(elem){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var target=manipulationTarget(this,elem);target.insertBefore(elem,target.firstChild)}})},before:function(){return this.domManip(arguments,function(elem){this.parentNode&&this.parentNode.insertBefore(elem,this)})},after:function(){return this.domManip(arguments,function(elem){this.parentNode&&this.parentNode.insertBefore(elem,this.nextSibling)})},remove:function(selector,keepData){for(var elem,elems=selector?jQuery.filter(selector,this):this,i=0;null!=(elem=elems[i]);i++)keepData||1!==elem.nodeType||jQuery.cleanData(getAll(elem)),elem.parentNode&&(keepData&&jQuery.contains(elem.ownerDocument,elem)&&setGlobalEval(getAll(elem,"script")),elem.parentNode.removeChild(elem));return this},empty:function(){for(var elem,i=0;null!=(elem=this[i]);i++){for(1===elem.nodeType&&jQuery.cleanData(getAll(elem,!1));elem.firstChild;)elem.removeChild(elem.firstChild);elem.options&&jQuery.nodeName(elem,"select")&&(elem.options.length=0)}return this},clone:function(dataAndEvents,deepDataAndEvents){return dataAndEvents=null==dataAndEvents?!1:dataAndEvents,deepDataAndEvents=null==deepDataAndEvents?dataAndEvents:deepDataAndEvents,this.map(function(){return jQuery.clone(this,dataAndEvents,deepDataAndEvents)})},html:function(value){return access(this,function(value){var elem=this[0]||{},i=0,l=this.length;if(void 0===value)return 1===elem.nodeType?elem.innerHTML.replace(rinlinejQuery,""):void 0;if(!("string"!=typeof value||rnoInnerhtml.test(value)||!support.htmlSerialize&&rnoshimcache.test(value)||!support.leadingWhitespace&&rleadingWhitespace.test(value)||wrapMap[(rtagName.exec(value)||["",""])[1].toLowerCase()])){value=value.replace(rxhtmlTag,"<$1></$2>");try{for(;l>i;i++)elem=this[i]||{},1===elem.nodeType&&(jQuery.cleanData(getAll(elem,!1)),elem.innerHTML=value);elem=0}catch(e){}}elem&&this.empty().append(value)},null,value,arguments.length)},replaceWith:function(){var arg=arguments[0];return this.domManip(arguments,function(elem){arg=this.parentNode,jQuery.cleanData(getAll(this)),arg&&arg.replaceChild(elem,this)}),arg&&(arg.length||arg.nodeType)?this:this.remove()},detach:function(selector){return this.remove(selector,!0)},domManip:function(args,callback){args=concat.apply([],args);var first,node,hasScripts,scripts,doc,fragment,i=0,l=this.length,set=this,iNoClone=l-1,value=args[0],isFunction=jQuery.isFunction(value);if(isFunction||l>1&&"string"==typeof value&&!support.checkClone&&rchecked.test(value))return this.each(function(index){var self=set.eq(index);isFunction&&(args[0]=value.call(this,index,self.html())),self.domManip(args,callback)});if(l&&(fragment=jQuery.buildFragment(args,this[0].ownerDocument,!1,this),first=fragment.firstChild,1===fragment.childNodes.length&&(fragment=first),first)){for(scripts=jQuery.map(getAll(fragment,"script"),disableScript),hasScripts=scripts.length;l>i;i++)node=fragment,i!==iNoClone&&(node=jQuery.clone(node,!0,!0),hasScripts&&jQuery.merge(scripts,getAll(node,"script"))),callback.call(this[i],node,i);if(hasScripts)for(doc=scripts[scripts.length-1].ownerDocument,jQuery.map(scripts,restoreScript),i=0;hasScripts>i;i++)node=scripts[i],rscriptType.test(node.type||"")&&!jQuery._data(node,"globalEval")&&jQuery.contains(doc,node)&&(node.src?jQuery._evalUrl&&jQuery._evalUrl(node.src):jQuery.globalEval((node.text||node.textContent||node.innerHTML||"").replace(rcleanScript,"")));fragment=first=null}return this}}),jQuery.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(name,original){jQuery.fn[name]=function(selector){for(var elems,i=0,ret=[],insert=jQuery(selector),last=insert.length-1;last>=i;i++)elems=i===last?this:this.clone(!0),jQuery(insert[i])[original](elems),push.apply(ret,elems.get());return this.pushStack(ret)}});var iframe,elemdisplay={};!function(){var a,shrinkWrapBlocksVal,div=document.createElement("div"),divReset="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;padding:0;margin:0;border:0";div.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",a=div.getElementsByTagName("a")[0],a.style.cssText="float:left;opacity:.5",support.opacity=/^0.5/.test(a.style.opacity),support.cssFloat=!!a.style.cssFloat,div.style.backgroundClip="content-box",div.cloneNode(!0).style.backgroundClip="",support.clearCloneStyle="content-box"===div.style.backgroundClip,a=div=null,support.shrinkWrapBlocks=function(){var body,container,div,containerStyles;if(null==shrinkWrapBlocksVal){if(body=document.getElementsByTagName("body")[0],!body)return;containerStyles="border:0;width:0;height:0;position:absolute;top:0;left:-9999px",container=document.createElement("div"),div=document.createElement("div"),body.appendChild(container).appendChild(div),shrinkWrapBlocksVal=!1,typeof div.style.zoom!==strundefined&&(div.style.cssText=divReset+";width:1px;padding:1px;zoom:1",div.innerHTML="<div></div>",div.firstChild.style.width="5px",shrinkWrapBlocksVal=3!==div.offsetWidth),body.removeChild(container),body=container=div=null}return shrinkWrapBlocksVal}}();var getStyles,curCSS,rmargin=/^margin/,rnumnonpx=new RegExp("^("+pnum+")(?!px)[a-z%]+$","i"),rposition=/^(top|right|bottom|left)$/;window.getComputedStyle?(getStyles=function(elem){return elem.ownerDocument.defaultView.getComputedStyle(elem,null)},curCSS=function(elem,name,computed){var width,minWidth,maxWidth,ret,style=elem.style;return computed=computed||getStyles(elem),ret=computed?computed.getPropertyValue(name)||computed[name]:void 0,computed&&(""!==ret||jQuery.contains(elem.ownerDocument,elem)||(ret=jQuery.style(elem,name)),rnumnonpx.test(ret)&&rmargin.test(name)&&(width=style.width,minWidth=style.minWidth,maxWidth=style.maxWidth,style.minWidth=style.maxWidth=style.width=ret,ret=computed.width,style.width=width,style.minWidth=minWidth,style.maxWidth=maxWidth)),void 0===ret?ret:ret+""}):document.documentElement.currentStyle&&(getStyles=function(elem){return elem.currentStyle},curCSS=function(elem,name,computed){var left,rs,rsLeft,ret,style=elem.style;return computed=computed||getStyles(elem),ret=computed?computed[name]:void 0,null==ret&&style&&style[name]&&(ret=style[name]),rnumnonpx.test(ret)&&!rposition.test(name)&&(left=style.left,rs=elem.runtimeStyle,rsLeft=rs&&rs.left,rsLeft&&(rs.left=elem.currentStyle.left),style.left="fontSize"===name?"1em":ret,ret=style.pixelLeft+"px",style.left=left,rsLeft&&(rs.left=rsLeft)),void 0===ret?ret:ret+""||"auto"}),function(){function computeStyleTests(){var container,div,body=document.getElementsByTagName("body")[0];body&&(container=document.createElement("div"),div=document.createElement("div"),container.style.cssText=containerStyles,body.appendChild(container).appendChild(div),div.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;position:absolute;display:block;padding:1px;border:1px;width:4px;margin-top:1%;top:1%",jQuery.swap(body,null!=body.style.zoom?{zoom:1}:{},function(){boxSizingVal=4===div.offsetWidth}),boxSizingReliableVal=!0,pixelPositionVal=!1,reliableMarginRightVal=!0,window.getComputedStyle&&(pixelPositionVal="1%"!==(window.getComputedStyle(div,null)||{}).top,boxSizingReliableVal="4px"===(window.getComputedStyle(div,null)||{width:"4px"}).width),body.removeChild(container),div=body=null)}var a,reliableHiddenOffsetsVal,boxSizingVal,boxSizingReliableVal,pixelPositionVal,reliableMarginRightVal,div=document.createElement("div"),containerStyles="border:0;width:0;height:0;position:absolute;top:0;left:-9999px",divReset="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;padding:0;margin:0;border:0";div.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",a=div.getElementsByTagName("a")[0],a.style.cssText="float:left;opacity:.5",support.opacity=/^0.5/.test(a.style.opacity),support.cssFloat=!!a.style.cssFloat,div.style.backgroundClip="content-box",div.cloneNode(!0).style.backgroundClip="",support.clearCloneStyle="content-box"===div.style.backgroundClip,a=div=null,jQuery.extend(support,{reliableHiddenOffsets:function(){if(null!=reliableHiddenOffsetsVal)return reliableHiddenOffsetsVal;var container,tds,isSupported,div=document.createElement("div"),body=document.getElementsByTagName("body")[0];if(body)return div.setAttribute("className","t"),div.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",container=document.createElement("div"),container.style.cssText=containerStyles,body.appendChild(container).appendChild(div),div.innerHTML="<table><tr><td></td><td>t</td></tr></table>",tds=div.getElementsByTagName("td"),tds[0].style.cssText="padding:0;margin:0;border:0;display:none",isSupported=0===tds[0].offsetHeight,tds[0].style.display="",tds[1].style.display="none",reliableHiddenOffsetsVal=isSupported&&0===tds[0].offsetHeight,body.removeChild(container),div=body=null,reliableHiddenOffsetsVal},boxSizing:function(){return null==boxSizingVal&&computeStyleTests(),boxSizingVal},boxSizingReliable:function(){return null==boxSizingReliableVal&&computeStyleTests(),boxSizingReliableVal},pixelPosition:function(){return null==pixelPositionVal&&computeStyleTests(),pixelPositionVal},reliableMarginRight:function(){var body,container,div,marginDiv;if(null==reliableMarginRightVal&&window.getComputedStyle){if(body=document.getElementsByTagName("body")[0],!body)return;container=document.createElement("div"),div=document.createElement("div"),container.style.cssText=containerStyles,body.appendChild(container).appendChild(div),marginDiv=div.appendChild(document.createElement("div")),marginDiv.style.cssText=div.style.cssText=divReset,marginDiv.style.marginRight=marginDiv.style.width="0",div.style.width="1px",reliableMarginRightVal=!parseFloat((window.getComputedStyle(marginDiv,null)||{}).marginRight),body.removeChild(container)}return reliableMarginRightVal}})}(),jQuery.swap=function(elem,options,callback,args){var ret,name,old={};for(name in options)old[name]=elem.style[name],elem.style[name]=options[name];ret=callback.apply(elem,args||[]);for(name in options)elem.style[name]=old[name];return ret};var ralpha=/alpha\([^)]*\)/i,ropacity=/opacity\s*=\s*([^)]*)/,rdisplayswap=/^(none|table(?!-c[ea]).+)/,rnumsplit=new RegExp("^("+pnum+")(.*)$","i"),rrelNum=new RegExp("^([+-])=("+pnum+")","i"),cssShow={position:"absolute",visibility:"hidden",display:"block"},cssNormalTransform={letterSpacing:0,fontWeight:400},cssPrefixes=["Webkit","O","Moz","ms"];jQuery.extend({cssHooks:{opacity:{get:function(elem,computed){if(computed){var ret=curCSS(elem,"opacity");return""===ret?"1":ret}}}},cssNumber:{columnCount:!0,fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":support.cssFloat?"cssFloat":"styleFloat"},style:function(elem,name,value,extra){if(elem&&3!==elem.nodeType&&8!==elem.nodeType&&elem.style){var ret,type,hooks,origName=jQuery.camelCase(name),style=elem.style;if(name=jQuery.cssProps[origName]||(jQuery.cssProps[origName]=vendorPropName(style,origName)),hooks=jQuery.cssHooks[name]||jQuery.cssHooks[origName],void 0===value)return hooks&&"get"in hooks&&void 0!==(ret=hooks.get(elem,!1,extra))?ret:style[name];if(type=typeof value,"string"===type&&(ret=rrelNum.exec(value))&&(value=(ret[1]+1)*ret[2]+parseFloat(jQuery.css(elem,name)),type="number"),null!=value&&value===value&&("number"!==type||jQuery.cssNumber[origName]||(value+="px"),support.clearCloneStyle||""!==value||0!==name.indexOf("background")||(style[name]="inherit"),!(hooks&&"set"in hooks&&void 0===(value=hooks.set(elem,value,extra)))))try{style[name]="",style[name]=value}catch(e){}}},css:function(elem,name,extra,styles){var num,val,hooks,origName=jQuery.camelCase(name);return name=jQuery.cssProps[origName]||(jQuery.cssProps[origName]=vendorPropName(elem.style,origName)),hooks=jQuery.cssHooks[name]||jQuery.cssHooks[origName],hooks&&"get"in hooks&&(val=hooks.get(elem,!0,extra)),void 0===val&&(val=curCSS(elem,name,styles)),"normal"===val&&name in cssNormalTransform&&(val=cssNormalTransform[name]),""===extra||extra?(num=parseFloat(val),extra===!0||jQuery.isNumeric(num)?num||0:val):val}}),jQuery.each(["height","width"],function(i,name){jQuery.cssHooks[name]={get:function(elem,computed,extra){return computed?0===elem.offsetWidth&&rdisplayswap.test(jQuery.css(elem,"display"))?jQuery.swap(elem,cssShow,function(){return getWidthOrHeight(elem,name,extra)}):getWidthOrHeight(elem,name,extra):void 0},set:function(elem,value,extra){var styles=extra&&getStyles(elem);return setPositiveNumber(elem,value,extra?augmentWidthOrHeight(elem,name,extra,support.boxSizing()&&"border-box"===jQuery.css(elem,"boxSizing",!1,styles),styles):0)}}}),support.opacity||(jQuery.cssHooks.opacity={get:function(elem,computed){return ropacity.test((computed&&elem.currentStyle?elem.currentStyle.filter:elem.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":computed?"1":""},set:function(elem,value){var style=elem.style,currentStyle=elem.currentStyle,opacity=jQuery.isNumeric(value)?"alpha(opacity="+100*value+")":"",filter=currentStyle&&currentStyle.filter||style.filter||"";style.zoom=1,(value>=1||""===value)&&""===jQuery.trim(filter.replace(ralpha,""))&&style.removeAttribute&&(style.removeAttribute("filter"),""===value||currentStyle&&!currentStyle.filter)||(style.filter=ralpha.test(filter)?filter.replace(ralpha,opacity):filter+" "+opacity)}}),jQuery.cssHooks.marginRight=addGetHookIf(support.reliableMarginRight,function(elem,computed){return computed?jQuery.swap(elem,{display:"inline-block"},curCSS,[elem,"marginRight"]):void 0}),jQuery.each({margin:"",padding:"",border:"Width"},function(prefix,suffix){jQuery.cssHooks[prefix+suffix]={expand:function(value){for(var i=0,expanded={},parts="string"==typeof value?value.split(" "):[value];4>i;i++)expanded[prefix+cssExpand[i]+suffix]=parts[i]||parts[i-2]||parts[0];return expanded}},rmargin.test(prefix)||(jQuery.cssHooks[prefix+suffix].set=setPositiveNumber)}),jQuery.fn.extend({css:function(name,value){return access(this,function(elem,name,value){var styles,len,map={},i=0;if(jQuery.isArray(name)){for(styles=getStyles(elem),len=name.length;len>i;i++)map[name[i]]=jQuery.css(elem,name[i],!1,styles);return map}return void 0!==value?jQuery.style(elem,name,value):jQuery.css(elem,name)},name,value,arguments.length>1)},show:function(){return showHide(this,!0)},hide:function(){return showHide(this)},toggle:function(state){return"boolean"==typeof state?state?this.show():this.hide():this.each(function(){isHidden(this)?jQuery(this).show():jQuery(this).hide()})}}),jQuery.Tween=Tween,Tween.prototype={constructor:Tween,init:function(elem,options,prop,end,easing,unit){this.elem=elem,this.prop=prop,this.easing=easing||"swing",this.options=options,this.start=this.now=this.cur(),this.end=end,this.unit=unit||(jQuery.cssNumber[prop]?"":"px")},cur:function(){var hooks=Tween.propHooks[this.prop];return hooks&&hooks.get?hooks.get(this):Tween.propHooks._default.get(this)},run:function(percent){var eased,hooks=Tween.propHooks[this.prop];return this.pos=eased=this.options.duration?jQuery.easing[this.easing](percent,this.options.duration*percent,0,1,this.options.duration):percent,this.now=(this.end-this.start)*eased+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),hooks&&hooks.set?hooks.set(this):Tween.propHooks._default.set(this),this}},Tween.prototype.init.prototype=Tween.prototype,Tween.propHooks={_default:{get:function(tween){var result;return null==tween.elem[tween.prop]||tween.elem.style&&null!=tween.elem.style[tween.prop]?(result=jQuery.css(tween.elem,tween.prop,""),result&&"auto"!==result?result:0):tween.elem[tween.prop]},set:function(tween){jQuery.fx.step[tween.prop]?jQuery.fx.step[tween.prop](tween):tween.elem.style&&(null!=tween.elem.style[jQuery.cssProps[tween.prop]]||jQuery.cssHooks[tween.prop])?jQuery.style(tween.elem,tween.prop,tween.now+tween.unit):tween.elem[tween.prop]=tween.now}}},Tween.propHooks.scrollTop=Tween.propHooks.scrollLeft={set:function(tween){tween.elem.nodeType&&tween.elem.parentNode&&(tween.elem[tween.prop]=tween.now)}},jQuery.easing={linear:function(p){return p},swing:function(p){return.5-Math.cos(p*Math.PI)/2}},jQuery.fx=Tween.prototype.init,jQuery.fx.step={};var fxNow,timerId,rfxtypes=/^(?:toggle|show|hide)$/,rfxnum=new RegExp("^(?:([+-])=|)("+pnum+")([a-z%]*)$","i"),rrun=/queueHooks$/,animationPrefilters=[defaultPrefilter],tweeners={"*":[function(prop,value){var tween=this.createTween(prop,value),target=tween.cur(),parts=rfxnum.exec(value),unit=parts&&parts[3]||(jQuery.cssNumber[prop]?"":"px"),start=(jQuery.cssNumber[prop]||"px"!==unit&&+target)&&rfxnum.exec(jQuery.css(tween.elem,prop)),scale=1,maxIterations=20;if(start&&start[3]!==unit){unit=unit||start[3],parts=parts||[],start=+target||1;do scale=scale||".5",start/=scale,jQuery.style(tween.elem,prop,start+unit);while(scale!==(scale=tween.cur()/target)&&1!==scale&&--maxIterations)}return parts&&(start=tween.start=+start||+target||0,tween.unit=unit,tween.end=parts[1]?start+(parts[1]+1)*parts[2]:+parts[2]),tween}]};jQuery.Animation=jQuery.extend(Animation,{tweener:function(props,callback){jQuery.isFunction(props)?(callback=props,props=["*"]):props=props.split(" ");for(var prop,index=0,length=props.length;length>index;index++)prop=props[index],tweeners[prop]=tweeners[prop]||[],tweeners[prop].unshift(callback)},prefilter:function(callback,prepend){prepend?animationPrefilters.unshift(callback):animationPrefilters.push(callback)}}),jQuery.speed=function(speed,easing,fn){var opt=speed&&"object"==typeof speed?jQuery.extend({},speed):{complete:fn||!fn&&easing||jQuery.isFunction(speed)&&speed,duration:speed,easing:fn&&easing||easing&&!jQuery.isFunction(easing)&&easing};return opt.duration=jQuery.fx.off?0:"number"==typeof opt.duration?opt.duration:opt.duration in jQuery.fx.speeds?jQuery.fx.speeds[opt.duration]:jQuery.fx.speeds._default,(null==opt.queue||opt.queue===!0)&&(opt.queue="fx"),opt.old=opt.complete,opt.complete=function(){jQuery.isFunction(opt.old)&&opt.old.call(this),opt.queue&&jQuery.dequeue(this,opt.queue)},opt},jQuery.fn.extend({fadeTo:function(speed,to,easing,callback){return this.filter(isHidden).css("opacity",0).show().end().animate({opacity:to},speed,easing,callback)},animate:function(prop,speed,easing,callback){var empty=jQuery.isEmptyObject(prop),optall=jQuery.speed(speed,easing,callback),doAnimation=function(){var anim=Animation(this,jQuery.extend({},prop),optall);(empty||jQuery._data(this,"finish"))&&anim.stop(!0)};return doAnimation.finish=doAnimation,empty||optall.queue===!1?this.each(doAnimation):this.queue(optall.queue,doAnimation)},stop:function(type,clearQueue,gotoEnd){var stopQueue=function(hooks){var stop=hooks.stop;delete hooks.stop,stop(gotoEnd)};return"string"!=typeof type&&(gotoEnd=clearQueue,clearQueue=type,type=void 0),clearQueue&&type!==!1&&this.queue(type||"fx",[]),this.each(function(){var dequeue=!0,index=null!=type&&type+"queueHooks",timers=jQuery.timers,data=jQuery._data(this);if(index)data[index]&&data[index].stop&&stopQueue(data[index]);else for(index in data)data[index]&&data[index].stop&&rrun.test(index)&&stopQueue(data[index]);for(index=timers.length;index--;)timers[index].elem!==this||null!=type&&timers[index].queue!==type||(timers[index].anim.stop(gotoEnd),dequeue=!1,timers.splice(index,1));(dequeue||!gotoEnd)&&jQuery.dequeue(this,type)})},finish:function(type){return type!==!1&&(type=type||"fx"),this.each(function(){var index,data=jQuery._data(this),queue=data[type+"queue"],hooks=data[type+"queueHooks"],timers=jQuery.timers,length=queue?queue.length:0;for(data.finish=!0,jQuery.queue(this,type,[]),hooks&&hooks.stop&&hooks.stop.call(this,!0),index=timers.length;index--;)timers[index].elem===this&&timers[index].queue===type&&(timers[index].anim.stop(!0),timers.splice(index,1));for(index=0;length>index;index++)queue[index]&&queue[index].finish&&queue[index].finish.call(this);delete data.finish})}}),jQuery.each(["toggle","show","hide"],function(i,name){var cssFn=jQuery.fn[name];jQuery.fn[name]=function(speed,easing,callback){return null==speed||"boolean"==typeof speed?cssFn.apply(this,arguments):this.animate(genFx(name,!0),speed,easing,callback)}}),jQuery.each({slideDown:genFx("show"),slideUp:genFx("hide"),slideToggle:genFx("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(name,props){jQuery.fn[name]=function(speed,easing,callback){return this.animate(props,speed,easing,callback)}}),jQuery.timers=[],jQuery.fx.tick=function(){var timer,timers=jQuery.timers,i=0;for(fxNow=jQuery.now();i<timers.length;i++)timer=timers[i],timer()||timers[i]!==timer||timers.splice(i--,1);timers.length||jQuery.fx.stop(),fxNow=void 0},jQuery.fx.timer=function(timer){jQuery.timers.push(timer),timer()?jQuery.fx.start():jQuery.timers.pop()},jQuery.fx.interval=13,jQuery.fx.start=function(){timerId||(timerId=setInterval(jQuery.fx.tick,jQuery.fx.interval))},jQuery.fx.stop=function(){clearInterval(timerId),timerId=null},jQuery.fx.speeds={slow:600,fast:200,_default:400},jQuery.fn.delay=function(time,type){return time=jQuery.fx?jQuery.fx.speeds[time]||time:time,type=type||"fx",this.queue(type,function(next,hooks){var timeout=setTimeout(next,time);hooks.stop=function(){clearTimeout(timeout)}})},function(){var a,input,select,opt,div=document.createElement("div");div.setAttribute("className","t"),div.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",a=div.getElementsByTagName("a")[0],select=document.createElement("select"),opt=select.appendChild(document.createElement("option")),input=div.getElementsByTagName("input")[0],a.style.cssText="top:1px",support.getSetAttribute="t"!==div.className,support.style=/top/.test(a.getAttribute("style")),support.hrefNormalized="/a"===a.getAttribute("href"),support.checkOn=!!input.value,support.optSelected=opt.selected,support.enctype=!!document.createElement("form").enctype,select.disabled=!0,support.optDisabled=!opt.disabled,input=document.createElement("input"),input.setAttribute("value",""),support.input=""===input.getAttribute("value"),input.value="t",input.setAttribute("type","radio"),support.radioValue="t"===input.value,a=input=select=opt=div=null}();var rreturn=/\r/g;jQuery.fn.extend({val:function(value){var hooks,ret,isFunction,elem=this[0];{if(arguments.length)return isFunction=jQuery.isFunction(value),this.each(function(i){var val;1===this.nodeType&&(val=isFunction?value.call(this,i,jQuery(this).val()):value,null==val?val="":"number"==typeof val?val+="":jQuery.isArray(val)&&(val=jQuery.map(val,function(value){return null==value?"":value+""})),hooks=jQuery.valHooks[this.type]||jQuery.valHooks[this.nodeName.toLowerCase()],hooks&&"set"in hooks&&void 0!==hooks.set(this,val,"value")||(this.value=val))});if(elem)return hooks=jQuery.valHooks[elem.type]||jQuery.valHooks[elem.nodeName.toLowerCase()],hooks&&"get"in hooks&&void 0!==(ret=hooks.get(elem,"value"))?ret:(ret=elem.value,"string"==typeof ret?ret.replace(rreturn,""):null==ret?"":ret)}}}),jQuery.extend({valHooks:{option:{get:function(elem){var val=jQuery.find.attr(elem,"value");return null!=val?val:jQuery.text(elem)}},select:{get:function(elem){for(var value,option,options=elem.options,index=elem.selectedIndex,one="select-one"===elem.type||0>index,values=one?null:[],max=one?index+1:options.length,i=0>index?max:one?index:0;max>i;i++)if(option=options[i],!(!option.selected&&i!==index||(support.optDisabled?option.disabled:null!==option.getAttribute("disabled"))||option.parentNode.disabled&&jQuery.nodeName(option.parentNode,"optgroup"))){if(value=jQuery(option).val(),one)return value;values.push(value)}return values},set:function(elem,value){for(var optionSet,option,options=elem.options,values=jQuery.makeArray(value),i=options.length;i--;)if(option=options[i],jQuery.inArray(jQuery.valHooks.option.get(option),values)>=0)try{option.selected=optionSet=!0}catch(_){option.scrollHeight}else option.selected=!1;return optionSet||(elem.selectedIndex=-1),options}}}}),jQuery.each(["radio","checkbox"],function(){jQuery.valHooks[this]={set:function(elem,value){return jQuery.isArray(value)?elem.checked=jQuery.inArray(jQuery(elem).val(),value)>=0:void 0}},support.checkOn||(jQuery.valHooks[this].get=function(elem){return null===elem.getAttribute("value")?"on":elem.value})});var nodeHook,boolHook,attrHandle=jQuery.expr.attrHandle,ruseDefault=/^(?:checked|selected)$/i,getSetAttribute=support.getSetAttribute,getSetInput=support.input;jQuery.fn.extend({attr:function(name,value){return access(this,jQuery.attr,name,value,arguments.length>1)},removeAttr:function(name){return this.each(function(){jQuery.removeAttr(this,name)})}}),jQuery.extend({attr:function(elem,name,value){var hooks,ret,nType=elem.nodeType;if(elem&&3!==nType&&8!==nType&&2!==nType)return typeof elem.getAttribute===strundefined?jQuery.prop(elem,name,value):(1===nType&&jQuery.isXMLDoc(elem)||(name=name.toLowerCase(),hooks=jQuery.attrHooks[name]||(jQuery.expr.match.bool.test(name)?boolHook:nodeHook)),void 0===value?hooks&&"get"in hooks&&null!==(ret=hooks.get(elem,name))?ret:(ret=jQuery.find.attr(elem,name),null==ret?void 0:ret):null!==value?hooks&&"set"in hooks&&void 0!==(ret=hooks.set(elem,value,name))?ret:(elem.setAttribute(name,value+""),value):(jQuery.removeAttr(elem,name),void 0))},removeAttr:function(elem,value){var name,propName,i=0,attrNames=value&&value.match(rnotwhite);if(attrNames&&1===elem.nodeType)for(;name=attrNames[i++];)propName=jQuery.propFix[name]||name,jQuery.expr.match.bool.test(name)?getSetInput&&getSetAttribute||!ruseDefault.test(name)?elem[propName]=!1:elem[jQuery.camelCase("default-"+name)]=elem[propName]=!1:jQuery.attr(elem,name,""),elem.removeAttribute(getSetAttribute?name:propName)},attrHooks:{type:{set:function(elem,value){if(!support.radioValue&&"radio"===value&&jQuery.nodeName(elem,"input")){var val=elem.value;return elem.setAttribute("type",value),val&&(elem.value=val),value}}}}}),boolHook={set:function(elem,value,name){return value===!1?jQuery.removeAttr(elem,name):getSetInput&&getSetAttribute||!ruseDefault.test(name)?elem.setAttribute(!getSetAttribute&&jQuery.propFix[name]||name,name):elem[jQuery.camelCase("default-"+name)]=elem[name]=!0,name}},jQuery.each(jQuery.expr.match.bool.source.match(/\w+/g),function(i,name){var getter=attrHandle[name]||jQuery.find.attr;attrHandle[name]=getSetInput&&getSetAttribute||!ruseDefault.test(name)?function(elem,name,isXML){var ret,handle;return isXML||(handle=attrHandle[name],attrHandle[name]=ret,ret=null!=getter(elem,name,isXML)?name.toLowerCase():null,attrHandle[name]=handle),ret}:function(elem,name,isXML){return isXML?void 0:elem[jQuery.camelCase("default-"+name)]?name.toLowerCase():null}}),getSetInput&&getSetAttribute||(jQuery.attrHooks.value={set:function(elem,value,name){return jQuery.nodeName(elem,"input")?(elem.defaultValue=value,void 0):nodeHook&&nodeHook.set(elem,value,name)}}),getSetAttribute||(nodeHook={set:function(elem,value,name){var ret=elem.getAttributeNode(name);return ret||elem.setAttributeNode(ret=elem.ownerDocument.createAttribute(name)),ret.value=value+="","value"===name||value===elem.getAttribute(name)?value:void 0}},attrHandle.id=attrHandle.name=attrHandle.coords=function(elem,name,isXML){var ret;return isXML?void 0:(ret=elem.getAttributeNode(name))&&""!==ret.value?ret.value:null},jQuery.valHooks.button={get:function(elem,name){var ret=elem.getAttributeNode(name);return ret&&ret.specified?ret.value:void 0},set:nodeHook.set},jQuery.attrHooks.contenteditable={set:function(elem,value,name){nodeHook.set(elem,""===value?!1:value,name)}},jQuery.each(["width","height"],function(i,name){jQuery.attrHooks[name]={set:function(elem,value){return""===value?(elem.setAttribute(name,"auto"),value):void 0}}})),support.style||(jQuery.attrHooks.style={get:function(elem){return elem.style.cssText||void 0},set:function(elem,value){return elem.style.cssText=value+""}});var rfocusable=/^(?:input|select|textarea|button|object)$/i,rclickable=/^(?:a|area)$/i;jQuery.fn.extend({prop:function(name,value){return access(this,jQuery.prop,name,value,arguments.length>1)},removeProp:function(name){return name=jQuery.propFix[name]||name,this.each(function(){try{this[name]=void 0,delete this[name]}catch(e){}})}}),jQuery.extend({propFix:{"for":"htmlFor","class":"className"},prop:function(elem,name,value){var ret,hooks,notxml,nType=elem.nodeType;if(elem&&3!==nType&&8!==nType&&2!==nType)return notxml=1!==nType||!jQuery.isXMLDoc(elem),notxml&&(name=jQuery.propFix[name]||name,hooks=jQuery.propHooks[name]),void 0!==value?hooks&&"set"in hooks&&void 0!==(ret=hooks.set(elem,value,name))?ret:elem[name]=value:hooks&&"get"in hooks&&null!==(ret=hooks.get(elem,name))?ret:elem[name]},propHooks:{tabIndex:{get:function(elem){var tabindex=jQuery.find.attr(elem,"tabindex");return tabindex?parseInt(tabindex,10):rfocusable.test(elem.nodeName)||rclickable.test(elem.nodeName)&&elem.href?0:-1}}}}),support.hrefNormalized||jQuery.each(["href","src"],function(i,name){jQuery.propHooks[name]={get:function(elem){return elem.getAttribute(name,4)}}}),support.optSelected||(jQuery.propHooks.selected={get:function(elem){var parent=elem.parentNode;return parent&&(parent.selectedIndex,parent.parentNode&&parent.parentNode.selectedIndex),null}}),jQuery.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){jQuery.propFix[this.toLowerCase()]=this}),support.enctype||(jQuery.propFix.enctype="encoding");var rclass=/[\t\r\n\f]/g;jQuery.fn.extend({addClass:function(value){var classes,elem,cur,clazz,j,finalValue,i=0,len=this.length,proceed="string"==typeof value&&value;if(jQuery.isFunction(value))return this.each(function(j){jQuery(this).addClass(value.call(this,j,this.className))});if(proceed)for(classes=(value||"").match(rnotwhite)||[];len>i;i++)if(elem=this[i],cur=1===elem.nodeType&&(elem.className?(" "+elem.className+" ").replace(rclass," "):" ")){for(j=0;clazz=classes[j++];)cur.indexOf(" "+clazz+" ")<0&&(cur+=clazz+" ");finalValue=jQuery.trim(cur),elem.className!==finalValue&&(elem.className=finalValue)}return this},removeClass:function(value){var classes,elem,cur,clazz,j,finalValue,i=0,len=this.length,proceed=0===arguments.length||"string"==typeof value&&value;if(jQuery.isFunction(value))return this.each(function(j){jQuery(this).removeClass(value.call(this,j,this.className))});if(proceed)for(classes=(value||"").match(rnotwhite)||[];len>i;i++)if(elem=this[i],cur=1===elem.nodeType&&(elem.className?(" "+elem.className+" ").replace(rclass," "):"")){for(j=0;clazz=classes[j++];)for(;cur.indexOf(" "+clazz+" ")>=0;)cur=cur.replace(" "+clazz+" "," ");finalValue=value?jQuery.trim(cur):"",elem.className!==finalValue&&(elem.className=finalValue)}return this},toggleClass:function(value,stateVal){var type=typeof value;return"boolean"==typeof stateVal&&"string"===type?stateVal?this.addClass(value):this.removeClass(value):jQuery.isFunction(value)?this.each(function(i){jQuery(this).toggleClass(value.call(this,i,this.className,stateVal),stateVal)}):this.each(function(){if("string"===type)for(var className,i=0,self=jQuery(this),classNames=value.match(rnotwhite)||[];className=classNames[i++];)self.hasClass(className)?self.removeClass(className):self.addClass(className);else(type===strundefined||"boolean"===type)&&(this.className&&jQuery._data(this,"__className__",this.className),this.className=this.className||value===!1?"":jQuery._data(this,"__className__")||"")})},hasClass:function(selector){for(var className=" "+selector+" ",i=0,l=this.length;l>i;i++)if(1===this[i].nodeType&&(" "+this[i].className+" ").replace(rclass," ").indexOf(className)>=0)return!0;return!1}}),jQuery.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(i,name){jQuery.fn[name]=function(data,fn){return arguments.length>0?this.on(name,null,data,fn):this.trigger(name)}}),jQuery.fn.extend({hover:function(fnOver,fnOut){return this.mouseenter(fnOver).mouseleave(fnOut||fnOver)
},bind:function(types,data,fn){return this.on(types,null,data,fn)},unbind:function(types,fn){return this.off(types,null,fn)},delegate:function(selector,types,data,fn){return this.on(types,selector,data,fn)},undelegate:function(selector,types,fn){return 1===arguments.length?this.off(selector,"**"):this.off(types,selector||"**",fn)}});var nonce=jQuery.now(),rquery=/\?/,rvalidtokens=/(,)|(\[|{)|(}|])|"(?:[^"\\\r\n]|\\["\\\/bfnrt]|\\u[\da-fA-F]{4})*"\s*:?|true|false|null|-?(?!0\d)\d+(?:\.\d+|)(?:[eE][+-]?\d+|)/g;jQuery.parseJSON=function(data){if(window.JSON&&window.JSON.parse)return window.JSON.parse(data+"");var requireNonComma,depth=null,str=jQuery.trim(data+"");return str&&!jQuery.trim(str.replace(rvalidtokens,function(token,comma,open,close){return requireNonComma&&comma&&(depth=0),0===depth?token:(requireNonComma=open||comma,depth+=!close-!open,"")}))?Function("return "+str)():jQuery.error("Invalid JSON: "+data)},jQuery.parseXML=function(data){var xml,tmp;if(!data||"string"!=typeof data)return null;try{window.DOMParser?(tmp=new DOMParser,xml=tmp.parseFromString(data,"text/xml")):(xml=new ActiveXObject("Microsoft.XMLDOM"),xml.async="false",xml.loadXML(data))}catch(e){xml=void 0}return xml&&xml.documentElement&&!xml.getElementsByTagName("parsererror").length||jQuery.error("Invalid XML: "+data),xml};var ajaxLocParts,ajaxLocation,rhash=/#.*$/,rts=/([?&])_=[^&]*/,rheaders=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,rlocalProtocol=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,rnoContent=/^(?:GET|HEAD)$/,rprotocol=/^\/\//,rurl=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,prefilters={},transports={},allTypes="*/".concat("*");try{ajaxLocation=location.href}catch(e){ajaxLocation=document.createElement("a"),ajaxLocation.href="",ajaxLocation=ajaxLocation.href}ajaxLocParts=rurl.exec(ajaxLocation.toLowerCase())||[],jQuery.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:ajaxLocation,type:"GET",isLocal:rlocalProtocol.test(ajaxLocParts[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":allTypes,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":jQuery.parseJSON,"text xml":jQuery.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(target,settings){return settings?ajaxExtend(ajaxExtend(target,jQuery.ajaxSettings),settings):ajaxExtend(jQuery.ajaxSettings,target)},ajaxPrefilter:addToPrefiltersOrTransports(prefilters),ajaxTransport:addToPrefiltersOrTransports(transports),ajax:function(url,options){function done(status,nativeStatusText,responses,headers){var isSuccess,success,error,response,modified,statusText=nativeStatusText;2!==state&&(state=2,timeoutTimer&&clearTimeout(timeoutTimer),transport=void 0,responseHeadersString=headers||"",jqXHR.readyState=status>0?4:0,isSuccess=status>=200&&300>status||304===status,responses&&(response=ajaxHandleResponses(s,jqXHR,responses)),response=ajaxConvert(s,response,jqXHR,isSuccess),isSuccess?(s.ifModified&&(modified=jqXHR.getResponseHeader("Last-Modified"),modified&&(jQuery.lastModified[cacheURL]=modified),modified=jqXHR.getResponseHeader("etag"),modified&&(jQuery.etag[cacheURL]=modified)),204===status||"HEAD"===s.type?statusText="nocontent":304===status?statusText="notmodified":(statusText=response.state,success=response.data,error=response.error,isSuccess=!error)):(error=statusText,(status||!statusText)&&(statusText="error",0>status&&(status=0))),jqXHR.status=status,jqXHR.statusText=(nativeStatusText||statusText)+"",isSuccess?deferred.resolveWith(callbackContext,[success,statusText,jqXHR]):deferred.rejectWith(callbackContext,[jqXHR,statusText,error]),jqXHR.statusCode(statusCode),statusCode=void 0,fireGlobals&&globalEventContext.trigger(isSuccess?"ajaxSuccess":"ajaxError",[jqXHR,s,isSuccess?success:error]),completeDeferred.fireWith(callbackContext,[jqXHR,statusText]),fireGlobals&&(globalEventContext.trigger("ajaxComplete",[jqXHR,s]),--jQuery.active||jQuery.event.trigger("ajaxStop")))}"object"==typeof url&&(options=url,url=void 0),options=options||{};var parts,i,cacheURL,responseHeadersString,timeoutTimer,fireGlobals,transport,responseHeaders,s=jQuery.ajaxSetup({},options),callbackContext=s.context||s,globalEventContext=s.context&&(callbackContext.nodeType||callbackContext.jquery)?jQuery(callbackContext):jQuery.event,deferred=jQuery.Deferred(),completeDeferred=jQuery.Callbacks("once memory"),statusCode=s.statusCode||{},requestHeaders={},requestHeadersNames={},state=0,strAbort="canceled",jqXHR={readyState:0,getResponseHeader:function(key){var match;if(2===state){if(!responseHeaders)for(responseHeaders={};match=rheaders.exec(responseHeadersString);)responseHeaders[match[1].toLowerCase()]=match[2];match=responseHeaders[key.toLowerCase()]}return null==match?null:match},getAllResponseHeaders:function(){return 2===state?responseHeadersString:null},setRequestHeader:function(name,value){var lname=name.toLowerCase();return state||(name=requestHeadersNames[lname]=requestHeadersNames[lname]||name,requestHeaders[name]=value),this},overrideMimeType:function(type){return state||(s.mimeType=type),this},statusCode:function(map){var code;if(map)if(2>state)for(code in map)statusCode[code]=[statusCode[code],map[code]];else jqXHR.always(map[jqXHR.status]);return this},abort:function(statusText){var finalText=statusText||strAbort;return transport&&transport.abort(finalText),done(0,finalText),this}};if(deferred.promise(jqXHR).complete=completeDeferred.add,jqXHR.success=jqXHR.done,jqXHR.error=jqXHR.fail,s.url=((url||s.url||ajaxLocation)+"").replace(rhash,"").replace(rprotocol,ajaxLocParts[1]+"//"),s.type=options.method||options.type||s.method||s.type,s.dataTypes=jQuery.trim(s.dataType||"*").toLowerCase().match(rnotwhite)||[""],null==s.crossDomain&&(parts=rurl.exec(s.url.toLowerCase()),s.crossDomain=!(!parts||parts[1]===ajaxLocParts[1]&&parts[2]===ajaxLocParts[2]&&(parts[3]||("http:"===parts[1]?"80":"443"))===(ajaxLocParts[3]||("http:"===ajaxLocParts[1]?"80":"443")))),s.data&&s.processData&&"string"!=typeof s.data&&(s.data=jQuery.param(s.data,s.traditional)),inspectPrefiltersOrTransports(prefilters,s,options,jqXHR),2===state)return jqXHR;fireGlobals=s.global,fireGlobals&&0===jQuery.active++&&jQuery.event.trigger("ajaxStart"),s.type=s.type.toUpperCase(),s.hasContent=!rnoContent.test(s.type),cacheURL=s.url,s.hasContent||(s.data&&(cacheURL=s.url+=(rquery.test(cacheURL)?"&":"?")+s.data,delete s.data),s.cache===!1&&(s.url=rts.test(cacheURL)?cacheURL.replace(rts,"$1_="+nonce++):cacheURL+(rquery.test(cacheURL)?"&":"?")+"_="+nonce++)),s.ifModified&&(jQuery.lastModified[cacheURL]&&jqXHR.setRequestHeader("If-Modified-Since",jQuery.lastModified[cacheURL]),jQuery.etag[cacheURL]&&jqXHR.setRequestHeader("If-None-Match",jQuery.etag[cacheURL])),(s.data&&s.hasContent&&s.contentType!==!1||options.contentType)&&jqXHR.setRequestHeader("Content-Type",s.contentType),jqXHR.setRequestHeader("Accept",s.dataTypes[0]&&s.accepts[s.dataTypes[0]]?s.accepts[s.dataTypes[0]]+("*"!==s.dataTypes[0]?", "+allTypes+"; q=0.01":""):s.accepts["*"]);for(i in s.headers)jqXHR.setRequestHeader(i,s.headers[i]);if(s.beforeSend&&(s.beforeSend.call(callbackContext,jqXHR,s)===!1||2===state))return jqXHR.abort();strAbort="abort";for(i in{success:1,error:1,complete:1})jqXHR[i](s[i]);if(transport=inspectPrefiltersOrTransports(transports,s,options,jqXHR)){jqXHR.readyState=1,fireGlobals&&globalEventContext.trigger("ajaxSend",[jqXHR,s]),s.async&&s.timeout>0&&(timeoutTimer=setTimeout(function(){jqXHR.abort("timeout")},s.timeout));try{state=1,transport.send(requestHeaders,done)}catch(e){if(!(2>state))throw e;done(-1,e)}}else done(-1,"No Transport");return jqXHR},getJSON:function(url,data,callback){return jQuery.get(url,data,callback,"json")},getScript:function(url,callback){return jQuery.get(url,void 0,callback,"script")}}),jQuery.each(["get","post"],function(i,method){jQuery[method]=function(url,data,callback,type){return jQuery.isFunction(data)&&(type=type||callback,callback=data,data=void 0),jQuery.ajax({url:url,type:method,dataType:type,data:data,success:callback})}}),jQuery.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(i,type){jQuery.fn[type]=function(fn){return this.on(type,fn)}}),jQuery._evalUrl=function(url){return jQuery.ajax({url:url,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})},jQuery.fn.extend({wrapAll:function(html){if(jQuery.isFunction(html))return this.each(function(i){jQuery(this).wrapAll(html.call(this,i))});if(this[0]){var wrap=jQuery(html,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&wrap.insertBefore(this[0]),wrap.map(function(){for(var elem=this;elem.firstChild&&1===elem.firstChild.nodeType;)elem=elem.firstChild;return elem}).append(this)}return this},wrapInner:function(html){return jQuery.isFunction(html)?this.each(function(i){jQuery(this).wrapInner(html.call(this,i))}):this.each(function(){var self=jQuery(this),contents=self.contents();contents.length?contents.wrapAll(html):self.append(html)})},wrap:function(html){var isFunction=jQuery.isFunction(html);return this.each(function(i){jQuery(this).wrapAll(isFunction?html.call(this,i):html)})},unwrap:function(){return this.parent().each(function(){jQuery.nodeName(this,"body")||jQuery(this).replaceWith(this.childNodes)}).end()}}),jQuery.expr.filters.hidden=function(elem){return elem.offsetWidth<=0&&elem.offsetHeight<=0||!support.reliableHiddenOffsets()&&"none"===(elem.style&&elem.style.display||jQuery.css(elem,"display"))},jQuery.expr.filters.visible=function(elem){return!jQuery.expr.filters.hidden(elem)};var r20=/%20/g,rbracket=/\[\]$/,rCRLF=/\r?\n/g,rsubmitterTypes=/^(?:submit|button|image|reset|file)$/i,rsubmittable=/^(?:input|select|textarea|keygen)/i;jQuery.param=function(a,traditional){var prefix,s=[],add=function(key,value){value=jQuery.isFunction(value)?value():null==value?"":value,s[s.length]=encodeURIComponent(key)+"="+encodeURIComponent(value)};if(void 0===traditional&&(traditional=jQuery.ajaxSettings&&jQuery.ajaxSettings.traditional),jQuery.isArray(a)||a.jquery&&!jQuery.isPlainObject(a))jQuery.each(a,function(){add(this.name,this.value)});else for(prefix in a)buildParams(prefix,a[prefix],traditional,add);return s.join("&").replace(r20,"+")},jQuery.fn.extend({serialize:function(){return jQuery.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var elements=jQuery.prop(this,"elements");return elements?jQuery.makeArray(elements):this}).filter(function(){var type=this.type;return this.name&&!jQuery(this).is(":disabled")&&rsubmittable.test(this.nodeName)&&!rsubmitterTypes.test(type)&&(this.checked||!rcheckableType.test(type))}).map(function(i,elem){var val=jQuery(this).val();return null==val?null:jQuery.isArray(val)?jQuery.map(val,function(val){return{name:elem.name,value:val.replace(rCRLF,"\r\n")}}):{name:elem.name,value:val.replace(rCRLF,"\r\n")}}).get()}}),jQuery.ajaxSettings.xhr=void 0!==window.ActiveXObject?function(){return!this.isLocal&&/^(get|post|head|put|delete|options)$/i.test(this.type)&&createStandardXHR()||createActiveXHR()}:createStandardXHR;var xhrId=0,xhrCallbacks={},xhrSupported=jQuery.ajaxSettings.xhr();window.ActiveXObject&&jQuery(window).on("unload",function(){for(var key in xhrCallbacks)xhrCallbacks[key](void 0,!0)}),support.cors=!!xhrSupported&&"withCredentials"in xhrSupported,xhrSupported=support.ajax=!!xhrSupported,xhrSupported&&jQuery.ajaxTransport(function(options){if(!options.crossDomain||support.cors){var callback;return{send:function(headers,complete){var i,xhr=options.xhr(),id=++xhrId;if(xhr.open(options.type,options.url,options.async,options.username,options.password),options.xhrFields)for(i in options.xhrFields)xhr[i]=options.xhrFields[i];options.mimeType&&xhr.overrideMimeType&&xhr.overrideMimeType(options.mimeType),options.crossDomain||headers["X-Requested-With"]||(headers["X-Requested-With"]="XMLHttpRequest");for(i in headers)void 0!==headers[i]&&xhr.setRequestHeader(i,headers[i]+"");xhr.send(options.hasContent&&options.data||null),callback=function(_,isAbort){var status,statusText,responses;if(callback&&(isAbort||4===xhr.readyState))if(delete xhrCallbacks[id],callback=void 0,xhr.onreadystatechange=jQuery.noop,isAbort)4!==xhr.readyState&&xhr.abort();else{responses={},status=xhr.status,"string"==typeof xhr.responseText&&(responses.text=xhr.responseText);try{statusText=xhr.statusText}catch(e){statusText=""}status||!options.isLocal||options.crossDomain?1223===status&&(status=204):status=responses.text?200:404}responses&&complete(status,statusText,responses,xhr.getAllResponseHeaders())},options.async?4===xhr.readyState?setTimeout(callback):xhr.onreadystatechange=xhrCallbacks[id]=callback:callback()},abort:function(){callback&&callback(void 0,!0)}}}}),jQuery.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(text){return jQuery.globalEval(text),text}}}),jQuery.ajaxPrefilter("script",function(s){void 0===s.cache&&(s.cache=!1),s.crossDomain&&(s.type="GET",s.global=!1)}),jQuery.ajaxTransport("script",function(s){if(s.crossDomain){var script,head=document.head||jQuery("head")[0]||document.documentElement;return{send:function(_,callback){script=document.createElement("script"),script.async=!0,s.scriptCharset&&(script.charset=s.scriptCharset),script.src=s.url,script.onload=script.onreadystatechange=function(_,isAbort){(isAbort||!script.readyState||/loaded|complete/.test(script.readyState))&&(script.onload=script.onreadystatechange=null,script.parentNode&&script.parentNode.removeChild(script),script=null,isAbort||callback(200,"success"))},head.insertBefore(script,head.firstChild)},abort:function(){script&&script.onload(void 0,!0)}}}});var oldCallbacks=[],rjsonp=/(=)\?(?=&|$)|\?\?/;jQuery.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var callback=oldCallbacks.pop()||jQuery.expando+"_"+nonce++;return this[callback]=!0,callback}}),jQuery.ajaxPrefilter("json jsonp",function(s,originalSettings,jqXHR){var callbackName,overwritten,responseContainer,jsonProp=s.jsonp!==!1&&(rjsonp.test(s.url)?"url":"string"==typeof s.data&&!(s.contentType||"").indexOf("application/x-www-form-urlencoded")&&rjsonp.test(s.data)&&"data");return jsonProp||"jsonp"===s.dataTypes[0]?(callbackName=s.jsonpCallback=jQuery.isFunction(s.jsonpCallback)?s.jsonpCallback():s.jsonpCallback,jsonProp?s[jsonProp]=s[jsonProp].replace(rjsonp,"$1"+callbackName):s.jsonp!==!1&&(s.url+=(rquery.test(s.url)?"&":"?")+s.jsonp+"="+callbackName),s.converters["script json"]=function(){return responseContainer||jQuery.error(callbackName+" was not called"),responseContainer[0]},s.dataTypes[0]="json",overwritten=window[callbackName],window[callbackName]=function(){responseContainer=arguments},jqXHR.always(function(){window[callbackName]=overwritten,s[callbackName]&&(s.jsonpCallback=originalSettings.jsonpCallback,oldCallbacks.push(callbackName)),responseContainer&&jQuery.isFunction(overwritten)&&overwritten(responseContainer[0]),responseContainer=overwritten=void 0}),"script"):void 0}),jQuery.parseHTML=function(data,context,keepScripts){if(!data||"string"!=typeof data)return null;"boolean"==typeof context&&(keepScripts=context,context=!1),context=context||document;var parsed=rsingleTag.exec(data),scripts=!keepScripts&&[];return parsed?[context.createElement(parsed[1])]:(parsed=jQuery.buildFragment([data],context,scripts),scripts&&scripts.length&&jQuery(scripts).remove(),jQuery.merge([],parsed.childNodes))};var _load=jQuery.fn.load;jQuery.fn.load=function(url,params,callback){if("string"!=typeof url&&_load)return _load.apply(this,arguments);var selector,response,type,self=this,off=url.indexOf(" ");return off>=0&&(selector=url.slice(off,url.length),url=url.slice(0,off)),jQuery.isFunction(params)?(callback=params,params=void 0):params&&"object"==typeof params&&(type="POST"),self.length>0&&jQuery.ajax({url:url,type:type,dataType:"html",data:params}).done(function(responseText){response=arguments,self.html(selector?jQuery("<div>").append(jQuery.parseHTML(responseText)).find(selector):responseText)}).complete(callback&&function(jqXHR,status){self.each(callback,response||[jqXHR.responseText,status,jqXHR])}),this},jQuery.expr.filters.animated=function(elem){return jQuery.grep(jQuery.timers,function(fn){return elem===fn.elem}).length};var docElem=window.document.documentElement;jQuery.offset={setOffset:function(elem,options,i){var curPosition,curLeft,curCSSTop,curTop,curOffset,curCSSLeft,calculatePosition,position=jQuery.css(elem,"position"),curElem=jQuery(elem),props={};"static"===position&&(elem.style.position="relative"),curOffset=curElem.offset(),curCSSTop=jQuery.css(elem,"top"),curCSSLeft=jQuery.css(elem,"left"),calculatePosition=("absolute"===position||"fixed"===position)&&jQuery.inArray("auto",[curCSSTop,curCSSLeft])>-1,calculatePosition?(curPosition=curElem.position(),curTop=curPosition.top,curLeft=curPosition.left):(curTop=parseFloat(curCSSTop)||0,curLeft=parseFloat(curCSSLeft)||0),jQuery.isFunction(options)&&(options=options.call(elem,i,curOffset)),null!=options.top&&(props.top=options.top-curOffset.top+curTop),null!=options.left&&(props.left=options.left-curOffset.left+curLeft),"using"in options?options.using.call(elem,props):curElem.css(props)}},jQuery.fn.extend({offset:function(options){if(arguments.length)return void 0===options?this:this.each(function(i){jQuery.offset.setOffset(this,options,i)});var docElem,win,box={top:0,left:0},elem=this[0],doc=elem&&elem.ownerDocument;if(doc)return docElem=doc.documentElement,jQuery.contains(docElem,elem)?(typeof elem.getBoundingClientRect!==strundefined&&(box=elem.getBoundingClientRect()),win=getWindow(doc),{top:box.top+(win.pageYOffset||docElem.scrollTop)-(docElem.clientTop||0),left:box.left+(win.pageXOffset||docElem.scrollLeft)-(docElem.clientLeft||0)}):box},position:function(){if(this[0]){var offsetParent,offset,parentOffset={top:0,left:0},elem=this[0];return"fixed"===jQuery.css(elem,"position")?offset=elem.getBoundingClientRect():(offsetParent=this.offsetParent(),offset=this.offset(),jQuery.nodeName(offsetParent[0],"html")||(parentOffset=offsetParent.offset()),parentOffset.top+=jQuery.css(offsetParent[0],"borderTopWidth",!0),parentOffset.left+=jQuery.css(offsetParent[0],"borderLeftWidth",!0)),{top:offset.top-parentOffset.top-jQuery.css(elem,"marginTop",!0),left:offset.left-parentOffset.left-jQuery.css(elem,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var offsetParent=this.offsetParent||docElem;offsetParent&&!jQuery.nodeName(offsetParent,"html")&&"static"===jQuery.css(offsetParent,"position");)offsetParent=offsetParent.offsetParent;return offsetParent||docElem})}}),jQuery.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(method,prop){var top=/Y/.test(prop);jQuery.fn[method]=function(val){return access(this,function(elem,method,val){var win=getWindow(elem);return void 0===val?win?prop in win?win[prop]:win.document.documentElement[method]:elem[method]:(win?win.scrollTo(top?jQuery(win).scrollLeft():val,top?val:jQuery(win).scrollTop()):elem[method]=val,void 0)},method,val,arguments.length,null)}}),jQuery.each(["top","left"],function(i,prop){jQuery.cssHooks[prop]=addGetHookIf(support.pixelPosition,function(elem,computed){return computed?(computed=curCSS(elem,prop),rnumnonpx.test(computed)?jQuery(elem).position()[prop]+"px":computed):void 0})}),jQuery.each({Height:"height",Width:"width"},function(name,type){jQuery.each({padding:"inner"+name,content:type,"":"outer"+name},function(defaultExtra,funcName){jQuery.fn[funcName]=function(margin,value){var chainable=arguments.length&&(defaultExtra||"boolean"!=typeof margin),extra=defaultExtra||(margin===!0||value===!0?"margin":"border");return access(this,function(elem,type,value){var doc;return jQuery.isWindow(elem)?elem.document.documentElement["client"+name]:9===elem.nodeType?(doc=elem.documentElement,Math.max(elem.body["scroll"+name],doc["scroll"+name],elem.body["offset"+name],doc["offset"+name],doc["client"+name])):void 0===value?jQuery.css(elem,type,extra):jQuery.style(elem,type,value,extra)},type,chainable?margin:void 0,chainable,null)}})}),jQuery.fn.size=function(){return this.length},jQuery.fn.andSelf=jQuery.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return jQuery});var _jQuery=window.jQuery,_$=window.$;return jQuery.noConflict=function(deep){return window.$===jQuery&&(window.$=_$),deep&&window.jQuery===jQuery&&(window.jQuery=_jQuery),jQuery},typeof noGlobal===strundefined&&(window.jQuery=window.$=jQuery),jQuery}),function($,undefined){$.rails!==undefined&&$.error("jquery-ujs has already been loaded!");var rails,$document=$(document);$.rails=rails={linkClickSelector:"a[data-confirm], a[data-method], a[data-remote], a[data-disable-with]",buttonClickSelector:"button[data-remote]",inputChangeSelector:"select[data-remote], input[data-remote], textarea[data-remote]",formSubmitSelector:"form",formInputClickSelector:"form input[type=submit], form input[type=image], form button[type=submit], form button:not([type])",disableSelector:"input[data-disable-with], button[data-disable-with], textarea[data-disable-with]",enableSelector:"input[data-disable-with]:disabled, button[data-disable-with]:disabled, textarea[data-disable-with]:disabled",requiredInputSelector:"input[name][required]:not([disabled]),textarea[name][required]:not([disabled])",fileInputSelector:"input[type=file]",linkDisableSelector:"a[data-disable-with]",CSRFProtection:function(xhr){var token=$('meta[name="csrf-token"]').attr("content");token&&xhr.setRequestHeader("X-CSRF-Token",token)},refreshCSRFTokens:function(){var csrfToken=$("meta[name=csrf-token]").attr("content"),csrfParam=$("meta[name=csrf-param]").attr("content");$('form input[name="'+csrfParam+'"]').val(csrfToken)},fire:function(obj,name,data){var event=$.Event(name);return obj.trigger(event,data),event.result!==!1},confirm:function(message){return confirm(message)},ajax:function(options){return $.ajax(options)},href:function(element){return element.attr("href")},handleRemote:function(element){var method,url,data,elCrossDomain,crossDomain,withCredentials,dataType,options;if(rails.fire(element,"ajax:before")){if(elCrossDomain=element.data("cross-domain"),crossDomain=elCrossDomain===undefined?null:elCrossDomain,withCredentials=element.data("with-credentials")||null,dataType=element.data("type")||$.ajaxSettings&&$.ajaxSettings.dataType,element.is("form")){method=element.attr("method"),url=element.attr("action"),data=element.serializeArray();var button=element.data("ujs:submit-button");button&&(data.push(button),element.data("ujs:submit-button",null))}else element.is(rails.inputChangeSelector)?(method=element.data("method"),url=element.data("url"),data=element.serialize(),element.data("params")&&(data=data+"&"+element.data("params"))):element.is(rails.buttonClickSelector)?(method=element.data("method")||"get",url=element.data("url"),data=element.serialize(),element.data("params")&&(data=data+"&"+element.data("params"))):(method=element.data("method"),url=rails.href(element),data=element.data("params")||null);options={type:method||"GET",data:data,dataType:dataType,beforeSend:function(xhr,settings){return settings.dataType===undefined&&xhr.setRequestHeader("accept","*/*;q=0.5, "+settings.accepts.script),rails.fire(element,"ajax:beforeSend",[xhr,settings])},success:function(data,status,xhr){element.trigger("ajax:success",[data,status,xhr])},complete:function(xhr,status){element.trigger("ajax:complete",[xhr,status])},error:function(xhr,status,error){element.trigger("ajax:error",[xhr,status,error])},crossDomain:crossDomain},withCredentials&&(options.xhrFields={withCredentials:withCredentials}),url&&(options.url=url);var jqxhr=rails.ajax(options);return element.trigger("ajax:send",jqxhr),jqxhr}return!1},handleMethod:function(link){var href=rails.href(link),method=link.data("method"),target=link.attr("target"),csrfToken=$("meta[name=csrf-token]").attr("content"),csrfParam=$("meta[name=csrf-param]").attr("content"),form=$('<form method="post" action="'+href+'"></form>'),metadataInput='<input name="_method" value="'+method+'" type="hidden" />';csrfParam!==undefined&&csrfToken!==undefined&&(metadataInput+='<input name="'+csrfParam+'" value="'+csrfToken+'" type="hidden" />'),target&&form.attr("target",target),form.hide().append(metadataInput).appendTo("body"),form.submit()},disableFormElements:function(form){form.find(rails.disableSelector).each(function(){var element=$(this),method=element.is("button")?"html":"val";element.data("ujs:enable-with",element[method]()),element[method](element.data("disable-with")),element.prop("disabled",!0)})},enableFormElements:function(form){form.find(rails.enableSelector).each(function(){var element=$(this),method=element.is("button")?"html":"val";element.data("ujs:enable-with")&&element[method](element.data("ujs:enable-with")),element.prop("disabled",!1)})},allowAction:function(element){var callback,message=element.data("confirm"),answer=!1;return message?(rails.fire(element,"confirm")&&(answer=rails.confirm(message),callback=rails.fire(element,"confirm:complete",[answer])),answer&&callback):!0},blankInputs:function(form,specifiedSelector,nonBlank){var input,valueToCheck,inputs=$(),selector=specifiedSelector||"input,textarea",allInputs=form.find(selector);return allInputs.each(function(){if(input=$(this),valueToCheck=input.is("input[type=checkbox],input[type=radio]")?input.is(":checked"):input.val(),!valueToCheck==!nonBlank){if(input.is("input[type=radio]")&&allInputs.filter('input[type=radio]:checked[name="'+input.attr("name")+'"]').length)return!0;inputs=inputs.add(input)}}),inputs.length?inputs:!1},nonBlankInputs:function(form,specifiedSelector){return rails.blankInputs(form,specifiedSelector,!0)},stopEverything:function(e){return $(e.target).trigger("ujs:everythingStopped"),e.stopImmediatePropagation(),!1},disableElement:function(element){element.data("ujs:enable-with",element.html()),element.html(element.data("disable-with")),element.bind("click.railsDisable",function(e){return rails.stopEverything(e)})},enableElement:function(element){element.data("ujs:enable-with")!==undefined&&(element.html(element.data("ujs:enable-with")),element.removeData("ujs:enable-with")),element.unbind("click.railsDisable")}},rails.fire($document,"rails:attachBindings")&&($.ajaxPrefilter(function(options,originalOptions,xhr){options.crossDomain||rails.CSRFProtection(xhr)}),$document.delegate(rails.linkDisableSelector,"ajax:complete",function(){rails.enableElement($(this))}),$document.delegate(rails.linkClickSelector,"click.rails",function(e){var link=$(this),method=link.data("method"),data=link.data("params"),metaClick=e.metaKey||e.ctrlKey;if(!rails.allowAction(link))return rails.stopEverything(e);if(!metaClick&&link.is(rails.linkDisableSelector)&&rails.disableElement(link),link.data("remote")!==undefined){if(metaClick&&(!method||"GET"===method)&&!data)return!0;var handleRemote=rails.handleRemote(link);return handleRemote===!1?rails.enableElement(link):handleRemote.error(function(){rails.enableElement(link)}),!1}return link.data("method")?(rails.handleMethod(link),!1):void 0}),$document.delegate(rails.buttonClickSelector,"click.rails",function(e){var button=$(this);return rails.allowAction(button)?(rails.handleRemote(button),!1):rails.stopEverything(e)}),$document.delegate(rails.inputChangeSelector,"change.rails",function(e){var link=$(this);return rails.allowAction(link)?(rails.handleRemote(link),!1):rails.stopEverything(e)}),$document.delegate(rails.formSubmitSelector,"submit.rails",function(e){var form=$(this),remote=form.data("remote")!==undefined,blankRequiredInputs=rails.blankInputs(form,rails.requiredInputSelector),nonBlankFileInputs=rails.nonBlankInputs(form,rails.fileInputSelector);if(!rails.allowAction(form))return rails.stopEverything(e);if(blankRequiredInputs&&form.attr("novalidate")==undefined&&rails.fire(form,"ajax:aborted:required",[blankRequiredInputs]))return rails.stopEverything(e);if(remote){if(nonBlankFileInputs){setTimeout(function(){rails.disableFormElements(form)},13);var aborted=rails.fire(form,"ajax:aborted:file",[nonBlankFileInputs]);return aborted||setTimeout(function(){rails.enableFormElements(form)},13),aborted}return rails.handleRemote(form),!1}setTimeout(function(){rails.disableFormElements(form)},13)}),$document.delegate(rails.formInputClickSelector,"click.rails",function(event){var button=$(this);if(!rails.allowAction(button))return rails.stopEverything(event);var name=button.attr("name"),data=name?{name:name,value:button.val()}:null;button.closest("form").data("ujs:submit-button",data)}),$document.delegate(rails.formSubmitSelector,"ajax:beforeSend.rails",function(event){this==event.target&&rails.disableFormElements($(this))}),$document.delegate(rails.formSubmitSelector,"ajax:complete.rails",function(event){this==event.target&&rails.enableFormElements($(this))}),$(function(){rails.refreshCSRFTokens()}))}(jQuery),/*! Copyright (c) 2013 Brandon Aaron (http://brandon.aaron.sh)
 * Licensed under the MIT License (LICENSE.txt).
 *
 * Version: 3.1.11
 *
 * Requires: jQuery 1.2.2+
 */
function(factory){"function"==typeof define&&define.amd?define(["jquery"],factory):"object"==typeof exports?module.exports=factory:factory(jQuery)}(function($){function handler(event){var orgEvent=event||window.event,args=slice.call(arguments,1),delta=0,deltaX=0,deltaY=0,absDelta=0,offsetX=0,offsetY=0;if(event=$.event.fix(orgEvent),event.type="mousewheel","detail"in orgEvent&&(deltaY=-1*orgEvent.detail),"wheelDelta"in orgEvent&&(deltaY=orgEvent.wheelDelta),"wheelDeltaY"in orgEvent&&(deltaY=orgEvent.wheelDeltaY),"wheelDeltaX"in orgEvent&&(deltaX=-1*orgEvent.wheelDeltaX),"axis"in orgEvent&&orgEvent.axis===orgEvent.HORIZONTAL_AXIS&&(deltaX=-1*deltaY,deltaY=0),delta=0===deltaY?deltaX:deltaY,"deltaY"in orgEvent&&(deltaY=-1*orgEvent.deltaY,delta=deltaY),"deltaX"in orgEvent&&(deltaX=orgEvent.deltaX,0===deltaY&&(delta=-1*deltaX)),0!==deltaY||0!==deltaX){if(1===orgEvent.deltaMode){var lineHeight=$.data(this,"mousewheel-line-height");delta*=lineHeight,deltaY*=lineHeight,deltaX*=lineHeight}else if(2===orgEvent.deltaMode){var pageHeight=$.data(this,"mousewheel-page-height");delta*=pageHeight,deltaY*=pageHeight,deltaX*=pageHeight}if(absDelta=Math.max(Math.abs(deltaY),Math.abs(deltaX)),(!lowestDelta||lowestDelta>absDelta)&&(lowestDelta=absDelta,shouldAdjustOldDeltas(orgEvent,absDelta)&&(lowestDelta/=40)),shouldAdjustOldDeltas(orgEvent,absDelta)&&(delta/=40,deltaX/=40,deltaY/=40),delta=Math[delta>=1?"floor":"ceil"](delta/lowestDelta),deltaX=Math[deltaX>=1?"floor":"ceil"](deltaX/lowestDelta),deltaY=Math[deltaY>=1?"floor":"ceil"](deltaY/lowestDelta),special.settings.normalizeOffset&&this.getBoundingClientRect){var boundingRect=this.getBoundingClientRect();offsetX=event.clientX-boundingRect.left,offsetY=event.clientY-boundingRect.top}return event.deltaX=deltaX,event.deltaY=deltaY,event.deltaFactor=lowestDelta,event.offsetX=offsetX,event.offsetY=offsetY,event.deltaMode=0,args.unshift(event,delta,deltaX,deltaY),nullLowestDeltaTimeout&&clearTimeout(nullLowestDeltaTimeout),nullLowestDeltaTimeout=setTimeout(nullLowestDelta,200),($.event.dispatch||$.event.handle).apply(this,args)}}function nullLowestDelta(){lowestDelta=null}function shouldAdjustOldDeltas(orgEvent,absDelta){return special.settings.adjustOldDeltas&&"mousewheel"===orgEvent.type&&absDelta%120===0}var nullLowestDeltaTimeout,lowestDelta,toFix=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],toBind="onwheel"in document||document.documentMode>=9?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"],slice=Array.prototype.slice;if($.event.fixHooks)for(var i=toFix.length;i;)$.event.fixHooks[toFix[--i]]=$.event.mouseHooks;var special=$.event.special.mousewheel={version:"3.1.11",setup:function(){if(this.addEventListener)for(var i=toBind.length;i;)this.addEventListener(toBind[--i],handler,!1);else this.onmousewheel=handler;$.data(this,"mousewheel-line-height",special.getLineHeight(this)),$.data(this,"mousewheel-page-height",special.getPageHeight(this))},teardown:function(){if(this.removeEventListener)for(var i=toBind.length;i;)this.removeEventListener(toBind[--i],handler,!1);else this.onmousewheel=null;$.removeData(this,"mousewheel-line-height"),$.removeData(this,"mousewheel-page-height")},getLineHeight:function(elem){var $parent=$(elem)["offsetParent"in $.fn?"offsetParent":"parent"]();return $parent.length||($parent=$("body")),parseInt($parent.css("fontSize"),10)},getPageHeight:function(elem){return $(elem).height()},settings:{adjustOldDeltas:!0,normalizeOffset:!0}};$.fn.extend({mousewheel:function(fn){return fn?this.bind("mousewheel",fn):this.trigger("mousewheel")},unmousewheel:function(fn){return this.unbind("mousewheel",fn)}})}),function(m,j){function a(p,q){q=m(q),q.prevObject=p;var o=p.length;if(o!==q.length)return q;for(;o--;)if(p[o]!==q[o])return q;return p}function c(o){for(var p=[],q=o.length;q--;)p[q]=o[q].g;return p}function h(p,w,t,s){function v(A,B){function z(){A.k=a(A.f,A.k),A.e=!0,r()}return A.e=!1,"function"==typeof B.promise?B.promise().then(z):B.then(z,!0)}function r(A){for(;!q;)try{if(q=!q,"function"==typeof s&&s(m.makeArray(u.k||u.f)),0==u.e)break;if(!u.i.j){if(!y||t.length&&!t[0].b||(u.f&&"function"==typeof u.f.promise?u.f.promise().then(y.resolve):y.resolveWith(u.f),y=null),!t.length)return u.f;if(x=t[0].l&&t[0].l(r,u,t),!x)break;u=x;continue}if(o=u.f&&u.f[u.i.j]||l[u.i.j],!o)throw'no such method "'+u.i.j+'" on object ('+u.f+")";if(o.timing&&!u.e)u.e=!1,u=o.timing(r,u,t,s)||u;else{if(!o.timing&&!u.e&&(u.k=u.f[u.i.j].apply(u.f,u.i.c),t.length&&u.k&&u.k instanceof g)){v(u,u.k);continue}x={f:u.k,i:u.i.k},u.e=!1,"function"==typeof u.d&&u.d.apply(u.f,c(t)),u=x}}catch(z){throw q=!q,z}finally{q=!q}return A}t=t||[];var o,x,y,u={f:p,i:w},q=!1;return m.Deferred&&(r.promise=function(A,B){var z=(y=y||m.Deferred()).promise(B);return r(),z}),r}function g(q,r,p){this[".methods"]=r,this[".callback"]=p,this.length=0,Array.prototype.push.apply(this,m.makeArray(this._=q._=q));for(var o in q)o in g.prototype||"function"!=typeof q[o]||(this[o]=i(o))}function i(o){return g.prototype[o]=function(){return this[".methods"].j=o,this[".methods"].c=arguments,this[".methods"]=this[".methods"].k={},this[".callback"]?this[".callback"](this,o,arguments):this}}function b(r,u,q){function s(v){return v=o?u():p.x,t?r(v):v}"string"==typeof r&&(q=new Function("x","return ["+r+"\n,x]"),r=function(w,v){return v=q(w),p.x=v[1],v[0]});var o="function"==typeof u,t="function"==typeof r,p=function(v){return 1!=arguments.length?s():(p.x=v,o&&u(v),void 0)};return p.x=0,p._={toString:p.$=p.toString=s.toString=s},p.mod=function(v){return b(function(w){return w%v},p)},p.add=function(v){return b(function(w){return w+v},p)},p.neg=function(){return b("-x",p)},p.$$=p.X=function(v){return b(v,p)},m.each(["a","b","c","d","e","f","g","h","i","j"],function(v,w){p[v]=p[w]=function(){p(arguments[v])}}),p}var d={},e=1,f=m.fn.each,k=m.fn.on||m.fn.bind,n=m.fn.off||m.fn.unbind,l={};m.Deferred&&(g.prototype.promise=function(o,p){return"object"==typeof o&&(p=o,o=null),this[".callback"]&&"function"==typeof this[".callback"].promise?this[".callback"].promise(o,p):m.Deferred().resolveWith(this).promise(p)}),m.each(["bind","on","one","live","delegate"],function(p,o){if(m.fn[o]){var q=m.fn[o];m.fn[o]=function(){function v(){return s?s(w):w}var u,x,w,s,r,t=this;for(u=0;u<arguments.length;u++)if("function"==typeof arguments[u]||arguments[u]&&"object"==typeof arguments[u]||arguments[u]===!1){if(arguments[u]!==m)return"function"==typeof arguments[u]&&m.guid&&(arguments[u].guid=arguments[u].guid||m.guid++),q.apply(t,arguments);break}return Array.prototype.splice.call(arguments,u,1,function(){return s=h(t.$(this),x,[{g:m.extend(Array.prototype.shift.apply(arguments),arguments),b:!0}],function(y){w.length=0,Array.prototype.push.apply(w,y)}),r&&(s.promise().then(r.resolve),r=null),s()}),m.Deferred&&(v.promise=function(y,z){return"object"==typeof y&&(z=y,y=null),s&&!y?s.promise(y,z):(r=r||m.Deferred()).promise(z)}),w=new g(q.apply(t,arguments),x={},v)}}}),m.each(["animate","load"],function(p,o){if(m.fn[o]){var q=m.fn[o];m.fn[o]=function(){for(;arguments.length&&null==arguments[arguments.length-1];)Array.prototype.pop.apply(arguments);if(this.length&&arguments.length>1&&arguments[arguments.length-1]===m){var r="_timing"+e++;return arguments[arguments.length-1]=function(){m(this).trigger(r)},this.each().one(r).all(q.apply(this,arguments))}return q.apply(this,arguments)}}}),m.each(["wait","repeat","join","then"],function(p,o){m.fn[o]=function(){var r={},q=new g(this,r,h(this,r,[],function(s){q.length=0,Array.prototype.push.apply(q,s)}));return q[o].apply(q,arguments)}}),m.fn.join.timing=function(p,r){var q,o,s=r.f.length;"string"==typeof r.i.c[0]?(q=r.i.c[0],"function"==typeof r.i.c[1]?r.d=r.i.c[1]:(o=r.i.c[1],r.d=r.i.c[2])):"function"==typeof r.i.c[0]?r.d=r.i.c[0]:(o=r.i.c[0],r.d=r.i.c[1]),r.k=r.f,r.e=!s,o?r.f.promise(null==q?"fx":q).then(function(){r.e=!0,p()}):r.f.queue(null==q?"fx":q,function(t){r.e=!--s,p(),t()})},m.fn.then.timing=function(o,p){p.d=p.i.c[0],p.k=p.f,p.e=!0,p.i.c[1]&&Array.prototype.shift.apply(p.i.c)},m.fn.wait.timing=function(s,t,u){function w(){n.call(o?n.call(p,o,w):p,"unwait",q),t.e=!0,t.k=a(t.f,t.k),s()}function q(x,y){n.call(o?n.call(m(this),o,w):m(this),"unwait",q),p=p.not(this),y||(t.k=t.k.not(this)),p.length||(t.e=t.k.length,t.k=a(t.f,t.k),j.clearTimeout(v),t={f:p}),s()}var r,o,v,p=t.f;r=t.i.c[0],t.d=t.i.c[1],k.call(p,"unwait",q),t.k=p,(null==r||r==m)&&(r=p),"function"==typeof r&&(r=r.apply(p,c(u))),"string"==typeof r?k.call(p,o=r,w):r&&"function"==typeof r.promise?r.promise().then(w):r&&"function"==typeof r.then?r.then(w,!0):v=j.setTimeout(w,Math.max(0,r))},m.fn.each=function(q){if(!q||q===m){var p={},o=new g(this,p,h(this,p,[],function(r){o.length=0,Array.prototype.push.apply(o,r)}));return o.each(q)}return f.apply(this,arguments)},m.fn.each.timing=function(r,v,w,u){function o(){if(q)B>p&&A[p]();else for(var C=0;B>C;C++)A[C]();return x}if(v.i.c[0]&&v.i.c[0]!==m)return v.e=!0,v.k=f.apply(v.f,v.i.c),void 0;var y,s,t,B=Math.max(v.f.length,1),p=0,A=[],z=[],x=m.extend({},v.f),q=v.i.c[0]===m;q&&j.setTimeout(function(){t=!0,r()},0);for(y in g.prototype)x[y]=o;for(x.length=B,y=0;B>y;y++)!function(C){var E=w.slice(),D=v.f.eq(C);z[C]=D.get(),E.unshift({g:C,a:function(F){p++,p==B&&(s=F.i.k),r()},h:l.all,l:function(G,F){t&&(p++,p==B&&(s=F.i),r())}}),A[C]=h(D,v.i.k,E,function(G){z[C]=G,x.length=0;for(var F=0;B>F;F++)Array.prototype.push.apply(x,z[F]);u&&u(m.makeArray(x))})}(y);v.k=x,v.e=!0,v.l=function(E,D){if(p==B)return w.shift(),{f:a(v.f,x),i:s};var C=p;return o(),p!=C?D:void 0},v.g=B,w.unshift(v)},l.all=function(o){m.extend(o.i,{k:m.extend({},o.i),j:"all",c:[]}),o.e=null},l.all.timing=function(o,q,p){if(!p.length||!p[0].h)throw".all() method must be used after .each() only";return p[0].a?(p[0].a(q),void 0):(p[0].h(q),void 0)},m.fn.repeat.timing=function(s,v,w){function x(){v.k=v.k||v.f,v.e=!0,s()}function r(){n.call(o?n.call(m(this),o,x):m(this),"unrepeat",r);var y=v.f.not(this);v.k=v.k==v.f?y:v.k,v.f=y,v.e=v.f.length&&v.e,q=v.f.length&&q,j.clearInterval(!v.f.length&&p),s()}var q,t,u,o,p;"function"==typeof v.i.c[0]?v.d=v.i.c[0]:"function"==typeof v.i.c[1]?(q=v.i.c[0],v.d=v.i.c[1]):(q=v.i.c[0],t=v.i.c[1],v.d=v.i.c[2]),v.l=function(z,y){return v.e||u?(v.g++,v.k=v.k||v.f,v.e=v.e||q&&y.f&&y.f.length,v):void 0},null==q?(t=q=!0,j.setTimeout(function(){u=!0,s()},0)):("string"==typeof q?k.call(v.f,o=q,x):p=j.setInterval(x,Math.max(0,q)),q=!1),k.call(v.f,"unrepeat",r),v.k=v.f,v.g=0,v.n=function(y){y&&r.apply(v.f),q&&x()},v.h=l.until,t&&x(),w.unshift(v)},l.until=function(o){m.extend(o.i,{k:m.extend({},o.i),j:"until",c:[]}),o.e=null},l.until.timing=function(o,r,q){if(!q.length||!q[0].h)throw".until() method must be used after .repeat() only";if(!q[0].n)return q[0].h(r),void 0;var s=r.i.c[0],p=r.i.c[1];return s===m&&(s=null,p=r.i.c.length<=1||p),"function"==typeof s&&(s=s.apply(r.f,c(q))),null==s&&(s=!r.f.size()),"object"==typeof s&&(s=s.toString()),"number"==typeof s&&(s=q[0].g>=s-1),s?(r.e=!0,r.k=r.f,q.shift().n(s),void 0):(p&&(q[0].k=r.f),r=q[0],r.g++,r.n(s),r)},new g(l),m.each(["unwait","unrepeat"],function(p,o){m.fn[o]=function(){return this.trigger(o,arguments)}}),m.each(["wait","repeat","join","then","unwait","unrepeat"],function(p,o){m[o]=function(){var q="string"==typeof arguments[0]?Array.prototype.shift.apply(arguments):"";return m.fn[o].apply(d[q]=d[q]||m("<div>").text(q),arguments)}}),j.$$=m.$$=m.X=b,m.fn.$=function(){var o=m.apply(j,arguments);return o.prevObject=this,o}}(jQuery,window),!function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e(jQuery)}(function(e){function o(){var e=document.getElementsByTagName("script"),o=e[e.length-1].src.split("?")[0];return o.split("/").length>0?o.split("/").slice(0,-1).join("/")+"/":""}function t(e,o,t){for(var r=0;r<o.length;r++)t(e,o[r])}var r=!1,i=!1,n=0,s=2e3,l=0,a=e,c=["ms","moz","webkit","o"],d=window.requestAnimationFrame||!1,u=window.cancelAnimationFrame||!1;if(!d)for(var h in c){var p=c[h];d||(d=window[p+"RequestAnimationFrame"]),u||(u=window[p+"CancelAnimationFrame"]||window[p+"CancelRequestAnimationFrame"])}var m=window.MutationObserver||window.WebKitMutationObserver||!1,f={zindex:"auto",cursoropacitymin:0,cursoropacitymax:1,cursorcolor:"#424242",cursorwidth:"5px",cursorborder:"1px solid #fff",cursorborderradius:"5px",scrollspeed:60,mousescrollstep:24,touchbehavior:!1,hwacceleration:!0,usetransition:!0,boxzoom:!1,dblclickzoom:!0,gesturezoom:!0,grabcursorenabled:!0,autohidemode:!0,background:"",iframeautoresize:!0,cursorminheight:32,preservenativescrolling:!0,railoffset:!1,railhoffset:!1,bouncescroll:!0,spacebarenabled:!0,railpadding:{top:0,right:0,left:0,bottom:0},disableoutline:!0,horizrailenabled:!0,railalign:"right",railvalign:"bottom",enabletranslate3d:!0,enablemousewheel:!0,enablekeyboard:!0,smoothscroll:!0,sensitiverail:!0,enablemouselockapi:!0,cursorfixedheight:!1,directionlockdeadzone:6,hidecursordelay:400,nativeparentscrolling:!0,enablescrollonselection:!0,overflowx:!0,overflowy:!0,cursordragspeed:.3,rtlmode:"auto",cursordragontouch:!1,oneaxismousemode:"auto",scriptpath:o()},g=!1,w=function(){function e(){var e=["-moz-grab","-webkit-grab","grab"];(t.ischrome&&!t.ischrome22||t.isie)&&(e=[]);for(var r=0;r<e.length;r++){var i=e[r];if(o.style.cursor=i,o.style.cursor==i)return i}return"url(//mail.google.com/mail/images/2/openhand.cur),n-resize"}if(g)return g;var o=document.createElement("DIV"),t={};t.haspointerlock="pointerLockElement"in document||"mozPointerLockElement"in document||"webkitPointerLockElement"in document,t.isopera="opera"in window,t.isopera12=t.isopera&&"getUserMedia"in navigator,t.isoperamini="[object OperaMini]"===Object.prototype.toString.call(window.operamini),t.isie="all"in document&&"attachEvent"in o&&!t.isopera,t.isieold=t.isie&&!("msInterpolationMode"in o.style),t.isie7=!(!t.isie||t.isieold||"documentMode"in document&&7!=document.documentMode),t.isie8=t.isie&&"documentMode"in document&&8==document.documentMode,t.isie9=t.isie&&"performance"in window&&document.documentMode>=9,t.isie10=t.isie&&"performance"in window&&document.documentMode>=10,t.isie9mobile=/iemobile.9/i.test(navigator.userAgent),t.isie9mobile&&(t.isie9=!1),t.isie7mobile=!t.isie9mobile&&t.isie7&&/iemobile/i.test(navigator.userAgent),t.ismozilla="MozAppearance"in o.style,t.iswebkit="WebkitAppearance"in o.style,t.ischrome="chrome"in window,t.ischrome22=t.ischrome&&t.haspointerlock,t.ischrome26=t.ischrome&&"transition"in o.style,t.cantouch="ontouchstart"in document.documentElement||"ontouchstart"in window,t.hasmstouch=window.navigator.msPointerEnabled||!1,t.ismac=/^mac$/i.test(navigator.platform),t.isios=t.cantouch&&/iphone|ipad|ipod/i.test(navigator.platform),t.isios4=t.isios&&!("seal"in Object),t.isandroid=/android/i.test(navigator.userAgent),t.trstyle=!1,t.hastransform=!1,t.hastranslate3d=!1,t.transitionstyle=!1,t.hastransition=!1,t.transitionend=!1;for(var r=["transform","msTransform","webkitTransform","MozTransform","OTransform"],i=0;i<r.length;i++)if(void 0!==o.style[r[i]]){t.trstyle=r[i];break}t.hastransform=0!=t.trstyle,t.hastransform&&(o.style[t.trstyle]="translate3d(1px,2px,3px)",t.hastranslate3d=/translate3d/.test(o.style[t.trstyle])),t.transitionstyle=!1,t.prefixstyle="",t.transitionend=!1;for(var r=["transition","webkitTransition","MozTransition","OTransition","OTransition","msTransition","KhtmlTransition"],n=["","-webkit-","-moz-","-o-","-o","-ms-","-khtml-"],s=["transitionend","webkitTransitionEnd","transitionend","otransitionend","oTransitionEnd","msTransitionEnd","KhtmlTransitionEnd"],i=0;i<r.length;i++)if(r[i]in o.style){t.transitionstyle=r[i],t.prefixstyle=n[i],t.transitionend=s[i];break}return t.ischrome26&&(t.prefixstyle=n[1]),t.hastransition=t.transitionstyle,t.cursorgrabvalue=e(),t.hasmousecapture="setCapture"in o,t.hasMutationObserver=m!==!1,o=null,g=t,t},v=function(e,o){function t(){var e=v.doc.css(x.trstyle);return e&&"matrix"==e.substr(0,6)?e.replace(/^.*\((.*)\)$/g,"$1").replace(/px/g,"").split(/, +/):!1}function c(){var e=v.win;if("zIndex"in e)return e.zIndex();for(;e.length>0;){if(9==e[0].nodeType)return!1;var o=e.css("zIndex");if(!isNaN(o)&&0!=o)return parseInt(o);e=e.parent()}return!1}function h(e,o,t){var r=e.css(o),i=parseFloat(r);if(isNaN(i)){i=T[r]||0;var n=3==i?t?v.win.outerHeight()-v.win.innerHeight():v.win.outerWidth()-v.win.innerWidth():1;return v.isie8&&i&&(i+=1),n?i:0}return i}function p(e,o,t,r){v._bind(e,o,function(r){var r=r?r:window.event,i={original:r,target:r.target||r.srcElement,type:"wheel",deltaMode:"MozMousePixelScroll"==r.type?0:1,deltaX:0,deltaZ:0,preventDefault:function(){return r.preventDefault?r.preventDefault():r.returnValue=!1,!1},stopImmediatePropagation:function(){r.stopImmediatePropagation?r.stopImmediatePropagation():r.cancelBubble=!0}};return"mousewheel"==o?(i.deltaY=-1/40*r.wheelDelta,r.wheelDeltaX&&(i.deltaX=-1/40*r.wheelDeltaX)):i.deltaY=r.detail,t.call(e,i)},r)}function g(e,o,t){var r,i;if(0==e.deltaMode?(r=-Math.floor(e.deltaX*(v.opt.mousescrollstep/54)),i=-Math.floor(e.deltaY*(v.opt.mousescrollstep/54))):1==e.deltaMode&&(r=-Math.floor(e.deltaX*v.opt.mousescrollstep),i=-Math.floor(e.deltaY*v.opt.mousescrollstep)),o&&v.opt.oneaxismousemode&&0==r&&i&&(r=i,i=0),r&&(v.scrollmom&&v.scrollmom.stop(),v.lastdeltax+=r,v.debounced("mousewheelx",function(){var e=v.lastdeltax;v.lastdeltax=0,v.rail.drag||v.doScrollLeftBy(e)},15)),i){if(v.opt.nativeparentscrolling&&t&&!v.ispage&&!v.zoomactive)if(0>i){if(v.getScrollTop()>=v.page.maxh)return!0}else if(v.getScrollTop()<=0)return!0;v.scrollmom&&v.scrollmom.stop(),v.lastdeltay+=i,v.debounced("mousewheely",function(){var e=v.lastdeltay;v.lastdeltay=0,v.rail.drag||v.doScrollBy(e)},15)}return e.stopImmediatePropagation(),e.preventDefault()}var v=this;if(this.version="3.5.6",this.name="nicescroll",this.me=o,this.opt={doc:a("body"),win:!1},a.extend(this.opt,f),this.opt.snapbackspeed=80,e)for(var y in v.opt)void 0!==e[y]&&(v.opt[y]=e[y]);this.doc=v.opt.doc,this.iddoc=this.doc&&this.doc[0]?this.doc[0].id||"":"",this.ispage=/^BODY|HTML/.test(v.opt.win?v.opt.win[0].nodeName:this.doc[0].nodeName),this.haswrapper=v.opt.win!==!1,this.win=v.opt.win||(this.ispage?a(window):this.doc),this.docscroll=this.ispage&&!this.haswrapper?a(window):this.win,this.body=a("body"),this.viewport=!1,this.isfixed=!1,this.iframe=!1,this.isiframe="IFRAME"==this.doc[0].nodeName&&"IFRAME"==this.win[0].nodeName,this.istextarea="TEXTAREA"==this.win[0].nodeName,this.forcescreen=!1,this.canshowonmouseevent="scroll"!=v.opt.autohidemode,this.onmousedown=!1,this.onmouseup=!1,this.onmousemove=!1,this.onmousewheel=!1,this.onkeypress=!1,this.ongesturezoom=!1,this.onclick=!1,this.onscrollstart=!1,this.onscrollend=!1,this.onscrollcancel=!1,this.onzoomin=!1,this.onzoomout=!1,this.view=!1,this.page=!1,this.scroll={x:0,y:0},this.scrollratio={x:0,y:0},this.cursorheight=20,this.scrollvaluemax=0,this.isrtlmode="auto"==this.opt.rtlmode?"rtl"==(this.win[0]==window?this.body:this.win).css("direction"):this.opt.rtlmode===!0,this.scrollrunning=!1,this.scrollmom=!1,this.observer=!1,this.observerremover=!1;do this.id="ascrail"+s++;while(document.getElementById(this.id));this.rail=!1,this.cursor=!1,this.cursorfreezed=!1,this.selectiondrag=!1,this.zoom=!1,this.zoomactive=!1,this.hasfocus=!1,this.hasmousefocus=!1,this.visibility=!0,this.locked=!1,this.hidden=!1,this.cursoractive=!0,this.wheelprevented=!1,this.overflowx=v.opt.overflowx,this.overflowy=v.opt.overflowy,this.nativescrollingarea=!1,this.checkarea=0,this.events=[],this.saved={},this.delaylist={},this.synclist={},this.lastdeltax=0,this.lastdeltay=0,this.detected=w();var x=a.extend({},this.detected);this.canhwscroll=x.hastransform&&v.opt.hwacceleration,this.ishwscroll=this.canhwscroll&&v.haswrapper,this.istouchcapable=!1,x.cantouch&&x.iswebkit&&!x.isios&&!x.isandroid&&(this.istouchcapable=!0,x.cantouch=!1),x.cantouch&&x.ismozilla&&!x.isios&&!x.isandroid&&(this.istouchcapable=!0,x.cantouch=!1),v.opt.enablemouselockapi||(x.hasmousecapture=!1,x.haspointerlock=!1),this.delayed=function(e,o,t,r){var i=v.delaylist[e],n=(new Date).getTime();return!r&&i&&i.tt?!1:(i&&i.tt&&clearTimeout(i.tt),void(i&&i.last+t>n&&!i.tt?v.delaylist[e]={last:n+t,tt:setTimeout(function(){v&&(v.delaylist[e].tt=0,o.call())},t)}:i&&i.tt||(v.delaylist[e]={last:n,tt:0},setTimeout(function(){o.call()},0))))},this.debounced=function(e,o,t){var r=v.delaylist[e];(new Date).getTime(),v.delaylist[e]=o,r||setTimeout(function(){var o=v.delaylist[e];v.delaylist[e]=!1,o.call()},t)};var S=!1;if(this.synched=function(e,o){function t(){S||(d(function(){S=!1;for(e in v.synclist){var o=v.synclist[e];o&&o.call(v),v.synclist[e]=!1}}),S=!0)}return v.synclist[e]=o,t(),e},this.unsynched=function(e){v.synclist[e]&&(v.synclist[e]=!1)},this.css=function(e,o){for(var t in o)v.saved.css.push([e,t,e.css(t)]),e.css(t,o[t])},this.scrollTop=function(e){return void 0===e?v.getScrollTop():v.setScrollTop(e)},this.scrollLeft=function(e){return void 0===e?v.getScrollLeft():v.setScrollLeft(e)},BezierClass=function(e,o,t,r,i,n,s){this.st=e,this.ed=o,this.spd=t,this.p1=r||0,this.p2=i||1,this.p3=n||0,this.p4=s||1,this.ts=(new Date).getTime(),this.df=this.ed-this.st},BezierClass.prototype={B2:function(e){return 3*e*e*(1-e)},B3:function(e){return 3*e*(1-e)*(1-e)},B4:function(e){return(1-e)*(1-e)*(1-e)},getNow:function(){var e=(new Date).getTime(),o=1-(e-this.ts)/this.spd,t=this.B2(o)+this.B3(o)+this.B4(o);return 0>o?this.ed:this.st+Math.round(this.df*t)},update:function(e,o){return this.st=this.getNow(),this.ed=e,this.spd=o,this.ts=(new Date).getTime(),this.df=this.ed-this.st,this}},this.ishwscroll){this.doc.translate={x:0,y:0,tx:"0px",ty:"0px"},x.hastranslate3d&&x.isios&&this.doc.css("-webkit-backface-visibility","hidden"),this.getScrollTop=function(e){if(!e){var o=t();if(o)return 16==o.length?-o[13]:-o[5];if(v.timerscroll&&v.timerscroll.bz)return v.timerscroll.bz.getNow()}return v.doc.translate.y},this.getScrollLeft=function(e){if(!e){var o=t();if(o)return 16==o.length?-o[12]:-o[4];if(v.timerscroll&&v.timerscroll.bh)return v.timerscroll.bh.getNow()}return v.doc.translate.x},this.notifyScrollEvent=document.createEvent?function(e){var o=document.createEvent("UIEvents");o.initUIEvent("scroll",!1,!0,window,1),e.dispatchEvent(o)}:document.fireEvent?function(e){var o=document.createEventObject();e.fireEvent("onscroll"),o.cancelBubble=!0}:function(){};var z=this.isrtlmode?1:-1;x.hastranslate3d&&v.opt.enabletranslate3d?(this.setScrollTop=function(e,o){v.doc.translate.y=e,v.doc.translate.ty=-1*e+"px",v.doc.css(x.trstyle,"translate3d("+v.doc.translate.tx+","+v.doc.translate.ty+",0px)"),o||v.notifyScrollEvent(v.win[0])},this.setScrollLeft=function(e,o){v.doc.translate.x=e,v.doc.translate.tx=e*z+"px",v.doc.css(x.trstyle,"translate3d("+v.doc.translate.tx+","+v.doc.translate.ty+",0px)"),o||v.notifyScrollEvent(v.win[0])}):(this.setScrollTop=function(e,o){v.doc.translate.y=e,v.doc.translate.ty=-1*e+"px",v.doc.css(x.trstyle,"translate("+v.doc.translate.tx+","+v.doc.translate.ty+")"),o||v.notifyScrollEvent(v.win[0])},this.setScrollLeft=function(e,o){v.doc.translate.x=e,v.doc.translate.tx=e*z+"px",v.doc.css(x.trstyle,"translate("+v.doc.translate.tx+","+v.doc.translate.ty+")"),o||v.notifyScrollEvent(v.win[0])})}else this.getScrollTop=function(){return v.docscroll.scrollTop()},this.setScrollTop=function(e){return v.docscroll.scrollTop(e)},this.getScrollLeft=function(){return v.detected.ismozilla&&v.isrtlmode?Math.abs(v.docscroll.scrollLeft()):v.docscroll.scrollLeft()},this.setScrollLeft=function(e){return v.docscroll.scrollLeft(v.detected.ismozilla&&v.isrtlmode?-e:e)};this.getTarget=function(e){return e?e.target?e.target:e.srcElement?e.srcElement:!1:!1},this.hasParent=function(e,o){if(!e)return!1;for(var t=e.target||e.srcElement||e||!1;t&&t.id!=o;)t=t.parentNode||!1;return t!==!1};var T={thin:1,medium:3,thick:5};this.getOffset=function(){if(v.isfixed)return{top:parseFloat(v.win.css("top")),left:parseFloat(v.win.css("left"))};if(!v.viewport)return v.win.offset();var e=v.win.offset(),o=v.viewport.offset();return{top:e.top-o.top+v.viewport.scrollTop(),left:e.left-o.left+v.viewport.scrollLeft()}},this.updateScrollBar=function(e){if(v.ishwscroll)v.rail.css({height:v.win.innerHeight()}),v.railh&&v.railh.css({width:v.win.innerWidth()});else{var o=v.getOffset(),t={top:o.top,left:o.left};t.top+=h(v.win,"border-top-width",!0),(v.win.outerWidth()-v.win.innerWidth())/2,t.left+=v.rail.align?v.win.outerWidth()-h(v.win,"border-right-width")-v.rail.width:h(v.win,"border-left-width");var r=v.opt.railoffset;if(r&&(r.top&&(t.top+=r.top),v.rail.align&&r.left&&(t.left+=r.left)),v.locked||v.rail.css({top:t.top,left:t.left,height:e?e.h:v.win.innerHeight()}),v.zoom&&v.zoom.css({top:t.top+1,left:1==v.rail.align?t.left-20:t.left+v.rail.width+4}),v.railh&&!v.locked){var t={top:o.top,left:o.left},r=v.opt.railhoffset;r&&(r.top&&(t.top+=r.top),r.left&&(t.left+=r.left));var i=v.railh.align?t.top+h(v.win,"border-top-width",!0)+v.win.innerHeight()-v.railh.height:t.top+h(v.win,"border-top-width",!0),n=t.left+h(v.win,"border-left-width");v.railh.css({top:i,left:n,width:v.railh.width})}}},this.doRailClick=function(e,o,t){var r,i,n,s;v.locked||(v.cancelEvent(e),o?(r=t?v.doScrollLeft:v.doScrollTop,n=t?(e.pageX-v.railh.offset().left-v.cursorwidth/2)*v.scrollratio.x:(e.pageY-v.rail.offset().top-v.cursorheight/2)*v.scrollratio.y,r(n)):(r=t?v.doScrollLeftBy:v.doScrollBy,n=t?v.scroll.x:v.scroll.y,s=t?e.pageX-v.railh.offset().left:e.pageY-v.rail.offset().top,i=t?v.view.w:v.view.h,r(n>=s?i:-i)))},v.hasanimationframe=d,v.hascancelanimationframe=u,v.hasanimationframe?v.hascancelanimationframe||(u=function(){v.cancelAnimationFrame=!0}):(d=function(e){return setTimeout(e,15-Math.floor(+new Date/1e3)%16)},u=clearInterval),this.init=function(){function e(o){if(v.selectiondrag){if(o){var t=v.win.outerHeight(),r=o.pageY-v.selectiondrag.top;r>0&&t>r&&(r=0),r>=t&&(r-=t),v.selectiondrag.df=r}if(0!=v.selectiondrag.df){var i=2*-Math.floor(v.selectiondrag.df/6);v.doScrollBy(i),v.debounced("doselectionscroll",function(){e()},50)}}}function o(){v.iframexd=!1;try{var e="contentDocument"in this?this.contentDocument:this.contentWindow.document;e.domain}catch(o){v.iframexd=!0,e=!1}if(v.iframexd)return"console"in window&&console.log("NiceScroll error: policy restriced iframe"),!0;if(v.forcescreen=!0,v.isiframe&&(v.iframe={doc:a(e),html:v.doc.contents().find("html")[0],body:v.doc.contents().find("body")[0]},v.getContentSize=function(){return{w:Math.max(v.iframe.html.scrollWidth,v.iframe.body.scrollWidth),h:Math.max(v.iframe.html.scrollHeight,v.iframe.body.scrollHeight)}},v.docscroll=a(v.iframe.body)),!x.isios&&v.opt.iframeautoresize&&!v.isiframe){v.win.scrollTop(0),v.doc.height("");var t=Math.max(e.getElementsByTagName("html")[0].scrollHeight,e.body.scrollHeight);v.doc.height(t)}v.lazyResize(30),x.isie7&&v.css(a(v.iframe.html),{"overflow-y":"hidden"}),v.css(a(v.iframe.body),{"overflow-y":"hidden"}),x.isios&&v.haswrapper&&v.css(a(e.body),{"-webkit-transform":"translate3d(0,0,0)"}),"contentWindow"in this?v.bind(this.contentWindow,"scroll",v.onscroll):v.bind(e,"scroll",v.onscroll),v.opt.enablemousewheel&&v.bind(e,"mousewheel",v.onmousewheel),v.opt.enablekeyboard&&v.bind(e,x.isopera?"keypress":"keydown",v.onkeypress),(x.cantouch||v.opt.touchbehavior)&&(v.bind(e,"mousedown",v.ontouchstart),v.bind(e,"mousemove",function(e){v.ontouchmove(e,!0)}),v.opt.grabcursorenabled&&x.cursorgrabvalue&&v.css(a(e.body),{cursor:x.cursorgrabvalue})),v.bind(e,"mouseup",v.ontouchend),v.zoom&&(v.opt.dblclickzoom&&v.bind(e,"dblclick",v.doZoom),v.ongesturezoom&&v.bind(e,"gestureend",v.ongesturezoom))}if(v.saved.css=[],x.isie7mobile)return!0;if(x.isoperamini)return!0;if(x.hasmstouch&&v.css(v.ispage?a("html"):v.win,{"-ms-touch-action":"none"}),v.zindex="auto",v.zindex=v.ispage||"auto"!=v.opt.zindex?v.opt.zindex:c()||"auto",v.ispage||"auto"==v.zindex||v.zindex>l&&(l=v.zindex),v.isie&&0==v.zindex&&"auto"==v.opt.zindex&&(v.zindex="auto"),!v.ispage||!x.cantouch&&!x.isieold&&!x.isie9mobile){var t=v.docscroll;v.ispage&&(t=v.haswrapper?v.win:v.doc),x.isie9mobile||v.css(t,{"overflow-y":"hidden"}),v.ispage&&x.isie7&&("BODY"==v.doc[0].nodeName?v.css(a("html"),{"overflow-y":"hidden"}):"HTML"==v.doc[0].nodeName&&v.css(a("body"),{"overflow-y":"hidden"})),!x.isios||v.ispage||v.haswrapper||v.css(a("body"),{"-webkit-overflow-scrolling":"touch"});var s=a(document.createElement("div"));s.css({position:"relative",top:0,"float":"right",width:v.opt.cursorwidth,height:"0px","background-color":v.opt.cursorcolor,border:v.opt.cursorborder,"background-clip":"padding-box","-webkit-border-radius":v.opt.cursorborderradius,"-moz-border-radius":v.opt.cursorborderradius,"border-radius":v.opt.cursorborderradius}),s.hborder=parseFloat(s.outerHeight()-s.innerHeight()),v.cursor=s;var d=a(document.createElement("div"));d.attr("id",v.id),d.addClass("nicescroll-rails");var u,h,p=["left","right"];for(var f in p)h=p[f],u=v.opt.railpadding[h],u?d.css("padding-"+h,u+"px"):v.opt.railpadding[h]=0;d.append(s),d.width=Math.max(parseFloat(v.opt.cursorwidth),s.outerWidth())+v.opt.railpadding.left+v.opt.railpadding.right,d.css({width:d.width+"px",zIndex:v.zindex,background:v.opt.background,cursor:"default"}),d.visibility=!0,d.scrollable=!0,d.align="left"==v.opt.railalign?0:1,v.rail=d,v.rail.drag=!1;var g=!1;if(!v.opt.boxzoom||v.ispage||x.isieold||(g=document.createElement("div"),v.bind(g,"click",v.doZoom),v.zoom=a(g),v.zoom.css({cursor:"pointer","z-index":v.zindex,backgroundImage:"url("+v.opt.scriptpath+"zoomico.png)",height:18,width:18,backgroundPosition:"0px 0px"}),v.opt.dblclickzoom&&v.bind(v.win,"dblclick",v.doZoom),x.cantouch&&v.opt.gesturezoom&&(v.ongesturezoom=function(e){return e.scale>1.5&&v.doZoomIn(e),e.scale<.8&&v.doZoomOut(e),v.cancelEvent(e)},v.bind(v.win,"gestureend",v.ongesturezoom))),v.railh=!1,v.opt.horizrailenabled){v.css(t,{"overflow-x":"hidden"});var s=a(document.createElement("div"));s.css({position:"absolute",top:0,height:v.opt.cursorwidth,width:"0px","background-color":v.opt.cursorcolor,border:v.opt.cursorborder,"background-clip":"padding-box","-webkit-border-radius":v.opt.cursorborderradius,"-moz-border-radius":v.opt.cursorborderradius,"border-radius":v.opt.cursorborderradius}),s.wborder=parseFloat(s.outerWidth()-s.innerWidth()),v.cursorh=s;var w=a(document.createElement("div"));w.attr("id",v.id+"-hr"),w.addClass("nicescroll-rails"),w.height=Math.max(parseFloat(v.opt.cursorwidth),s.outerHeight()),w.css({height:w.height+"px",zIndex:v.zindex,background:v.opt.background}),w.append(s),w.visibility=!0,w.scrollable=!0,w.align="top"==v.opt.railvalign?0:1,v.railh=w,v.railh.drag=!1}if(v.ispage)d.css({position:"fixed",top:"0px",height:"100%"}),d.css(d.align?{right:"0px"}:{left:"0px"}),v.body.append(d),v.railh&&(w.css({position:"fixed",left:"0px",width:"100%"}),w.css(w.align?{bottom:"0px"}:{top:"0px"}),v.body.append(w));else{if(v.ishwscroll){"static"==v.win.css("position")&&v.css(v.win,{position:"relative"});var y="HTML"==v.win[0].nodeName?v.body:v.win;v.zoom&&(v.zoom.css({position:"absolute",top:1,right:0,"margin-right":d.width+4}),y.append(v.zoom)),d.css({position:"absolute",top:0}),d.css(d.align?{right:0}:{left:0}),y.append(d),w&&(w.css({position:"absolute",left:0,bottom:0}),w.css(w.align?{bottom:0}:{top:0}),y.append(w))}else{v.isfixed="fixed"==v.win.css("position");var S=v.isfixed?"fixed":"absolute";v.isfixed||(v.viewport=v.getViewport(v.win[0])),v.viewport&&(v.body=v.viewport,0==/fixed|relative|absolute/.test(v.viewport.css("position"))&&v.css(v.viewport,{position:"relative"})),d.css({position:S}),v.zoom&&v.zoom.css({position:S}),v.updateScrollBar(),v.body.append(d),v.zoom&&v.body.append(v.zoom),v.railh&&(w.css({position:S}),v.body.append(w))}x.isios&&v.css(v.win,{"-webkit-tap-highlight-color":"rgba(0,0,0,0)","-webkit-touch-callout":"none"}),x.isie&&v.opt.disableoutline&&v.win.attr("hideFocus","true"),x.iswebkit&&v.opt.disableoutline&&v.win.css({outline:"none"})}if(v.opt.autohidemode===!1?(v.autohidedom=!1,v.rail.css({opacity:v.opt.cursoropacitymax}),v.railh&&v.railh.css({opacity:v.opt.cursoropacitymax})):v.opt.autohidemode===!0||"leave"===v.opt.autohidemode?(v.autohidedom=a().add(v.rail),x.isie8&&(v.autohidedom=v.autohidedom.add(v.cursor)),v.railh&&(v.autohidedom=v.autohidedom.add(v.railh)),v.railh&&x.isie8&&(v.autohidedom=v.autohidedom.add(v.cursorh))):"scroll"==v.opt.autohidemode?(v.autohidedom=a().add(v.rail),v.railh&&(v.autohidedom=v.autohidedom.add(v.railh))):"cursor"==v.opt.autohidemode?(v.autohidedom=a().add(v.cursor),v.railh&&(v.autohidedom=v.autohidedom.add(v.cursorh))):"hidden"==v.opt.autohidemode&&(v.autohidedom=!1,v.hide(),v.locked=!1),x.isie9mobile){v.scrollmom=new b(v),v.onmangotouch=function(){var e=v.getScrollTop(),o=v.getScrollLeft();if(e==v.scrollmom.lastscrolly&&o==v.scrollmom.lastscrollx)return!0;
var t=e-v.mangotouch.sy,r=o-v.mangotouch.sx,i=Math.round(Math.sqrt(Math.pow(r,2)+Math.pow(t,2)));if(0!=i){var n=0>t?-1:1,s=0>r?-1:1,l=+new Date;if(v.mangotouch.lazy&&clearTimeout(v.mangotouch.lazy),l-v.mangotouch.tm>80||v.mangotouch.dry!=n||v.mangotouch.drx!=s)v.scrollmom.stop(),v.scrollmom.reset(o,e),v.mangotouch.sy=e,v.mangotouch.ly=e,v.mangotouch.sx=o,v.mangotouch.lx=o,v.mangotouch.dry=n,v.mangotouch.drx=s,v.mangotouch.tm=l;else{v.scrollmom.stop(),v.scrollmom.update(v.mangotouch.sx-r,v.mangotouch.sy-t),l-v.mangotouch.tm,v.mangotouch.tm=l;var a=Math.max(Math.abs(v.mangotouch.ly-e),Math.abs(v.mangotouch.lx-o));v.mangotouch.ly=e,v.mangotouch.lx=o,a>2&&(v.mangotouch.lazy=setTimeout(function(){v.mangotouch.lazy=!1,v.mangotouch.dry=0,v.mangotouch.drx=0,v.mangotouch.tm=0,v.scrollmom.doMomentum(30)},100))}}};var z=v.getScrollTop(),T=v.getScrollLeft();v.mangotouch={sy:z,ly:z,dry:0,sx:T,lx:T,drx:0,lazy:!1,tm:0},v.bind(v.docscroll,"scroll",v.onmangotouch)}else{if(x.cantouch||v.istouchcapable||v.opt.touchbehavior||x.hasmstouch){v.scrollmom=new b(v),v.ontouchstart=function(e){if(e.pointerType&&2!=e.pointerType&&"touch"!=e.pointerType)return!1;if(v.hasmoving=!1,!v.locked){if(x.hasmstouch)for(var o=e.target?e.target:!1;o;){var t=a(o).getNiceScroll();if(t.length>0&&t[0].me==v.me)break;if(t.length>0)return!1;if("DIV"==o.nodeName&&o.id==v.id)break;o=o.parentNode?o.parentNode:!1}v.cancelScroll();var o=v.getTarget(e);if(o){var r=/INPUT/i.test(o.nodeName)&&/range/i.test(o.type);if(r)return v.stopPropagation(e)}if(!("clientX"in e)&&"changedTouches"in e&&(e.clientX=e.changedTouches[0].clientX,e.clientY=e.changedTouches[0].clientY),v.forcescreen){var i=e,e={original:e.original?e.original:e};e.clientX=i.screenX,e.clientY=i.screenY}if(v.rail.drag={x:e.clientX,y:e.clientY,sx:v.scroll.x,sy:v.scroll.y,st:v.getScrollTop(),sl:v.getScrollLeft(),pt:2,dl:!1},v.ispage||!v.opt.directionlockdeadzone)v.rail.drag.dl="f";else{var n={w:a(window).width(),h:a(window).height()},s={w:Math.max(document.body.scrollWidth,document.documentElement.scrollWidth),h:Math.max(document.body.scrollHeight,document.documentElement.scrollHeight)},l=Math.max(0,s.h-n.h),c=Math.max(0,s.w-n.w);v.rail.drag.ck=!v.rail.scrollable&&v.railh.scrollable?l>0?"v":!1:v.rail.scrollable&&!v.railh.scrollable&&c>0?"h":!1,v.rail.drag.ck||(v.rail.drag.dl="f")}if(v.opt.touchbehavior&&v.isiframe&&x.isie){var d=v.win.position();v.rail.drag.x+=d.left,v.rail.drag.y+=d.top}if(v.hasmoving=!1,v.lastmouseup=!1,v.scrollmom.reset(e.clientX,e.clientY),!x.cantouch&&!this.istouchcapable&&!x.hasmstouch){var u=o?/INPUT|SELECT|TEXTAREA/i.test(o.nodeName):!1;if(!u)return!v.ispage&&x.hasmousecapture&&o.setCapture(),v.opt.touchbehavior?(o.onclick&&!o._onclick&&(o._onclick=o.onclick,o.onclick=function(e){return v.hasmoving?!1:void o._onclick.call(this,e)}),v.cancelEvent(e)):v.stopPropagation(e);/SUBMIT|CANCEL|BUTTON/i.test(a(o).attr("type"))&&(pc={tg:o,click:!1},v.preventclick=pc)}}},v.ontouchend=function(e){return e.pointerType&&2!=e.pointerType&&"touch"!=e.pointerType?!1:v.rail.drag&&2==v.rail.drag.pt&&(v.scrollmom.doMomentum(),v.rail.drag=!1,v.hasmoving&&(v.lastmouseup=!0,v.hideCursor(),x.hasmousecapture&&document.releaseCapture(),!x.cantouch))?v.cancelEvent(e):void 0};var k=v.opt.touchbehavior&&v.isiframe&&!x.hasmousecapture;v.ontouchmove=function(e,o){if(e.pointerType&&2!=e.pointerType&&"touch"!=e.pointerType)return!1;if(v.rail.drag&&2==v.rail.drag.pt){if(x.cantouch&&void 0===e.original)return!0;v.hasmoving=!0,v.preventclick&&!v.preventclick.click&&(v.preventclick.click=v.preventclick.tg.onclick||!1,v.preventclick.tg.onclick=v.onpreventclick);var t=a.extend({original:e},e);if(e=t,"changedTouches"in e&&(e.clientX=e.changedTouches[0].clientX,e.clientY=e.changedTouches[0].clientY),v.forcescreen){var r=e,e={original:e.original?e.original:e};e.clientX=r.screenX,e.clientY=r.screenY}var i=ofy=0;if(k&&!o){var n=v.win.position();i=-n.left,ofy=-n.top}var s=e.clientY+ofy,l=s-v.rail.drag.y,c=e.clientX+i,d=c-v.rail.drag.x,u=v.rail.drag.st-l;if(v.ishwscroll&&v.opt.bouncescroll?0>u?u=Math.round(u/2):u>v.page.maxh&&(u=v.page.maxh+Math.round((u-v.page.maxh)/2)):(0>u&&(u=0,s=0),u>v.page.maxh&&(u=v.page.maxh,s=0)),v.railh&&v.railh.scrollable){var h=v.isrtlmode?d-v.rail.drag.sl:v.rail.drag.sl-d;v.ishwscroll&&v.opt.bouncescroll?0>h?h=Math.round(h/2):h>v.page.maxw&&(h=v.page.maxw+Math.round((h-v.page.maxw)/2)):(0>h&&(h=0,c=0),h>v.page.maxw&&(h=v.page.maxw,c=0))}var p=!1;if(v.rail.drag.dl)p=!0,"v"==v.rail.drag.dl?h=v.rail.drag.sl:"h"==v.rail.drag.dl&&(u=v.rail.drag.st);else{var m=Math.abs(l),f=Math.abs(d),g=v.opt.directionlockdeadzone;if("v"==v.rail.drag.ck){if(m>g&&.3*m>=f)return v.rail.drag=!1,!0;f>g&&(v.rail.drag.dl="f",a("body").scrollTop(a("body").scrollTop()))}else if("h"==v.rail.drag.ck){if(f>g&&.3*f>=m)return v.rail.drag=!1,!0;m>g&&(v.rail.drag.dl="f",a("body").scrollLeft(a("body").scrollLeft()))}}if(v.synched("touchmove",function(){v.rail.drag&&2==v.rail.drag.pt&&(v.prepareTransition&&v.prepareTransition(0),v.rail.scrollable&&v.setScrollTop(u),v.scrollmom.update(c,s),v.railh&&v.railh.scrollable?(v.setScrollLeft(h),v.showCursor(u,h)):v.showCursor(u),x.isie10&&document.selection.clear())}),x.ischrome&&v.istouchcapable&&(p=!1),p)return v.cancelEvent(e)}}}v.onmousedown=function(e,o){if(!v.rail.drag||1==v.rail.drag.pt){if(v.locked)return v.cancelEvent(e);v.cancelScroll(),v.rail.drag={x:e.clientX,y:e.clientY,sx:v.scroll.x,sy:v.scroll.y,pt:1,hr:!!o};var t=v.getTarget(e);return!v.ispage&&x.hasmousecapture&&t.setCapture(),v.isiframe&&!x.hasmousecapture&&(v.saved.csspointerevents=v.doc.css("pointer-events"),v.css(v.doc,{"pointer-events":"none"})),v.hasmoving=!1,v.cancelEvent(e)}},v.onmouseup=function(e){if(v.rail.drag){if(x.hasmousecapture&&document.releaseCapture(),v.isiframe&&!x.hasmousecapture&&v.doc.css("pointer-events",v.saved.csspointerevents),1!=v.rail.drag.pt)return;return v.rail.drag=!1,v.hasmoving&&v.triggerScrollEnd(),v.cancelEvent(e)}},v.onmousemove=function(e){if(v.rail.drag){if(1!=v.rail.drag.pt)return;if(x.ischrome&&0==e.which)return v.onmouseup(e);if(v.cursorfreezed=!0,v.hasmoving=!0,v.rail.drag.hr){v.scroll.x=v.rail.drag.sx+(e.clientX-v.rail.drag.x),v.scroll.x<0&&(v.scroll.x=0);var o=v.scrollvaluemaxw;v.scroll.x>o&&(v.scroll.x=o)}else{v.scroll.y=v.rail.drag.sy+(e.clientY-v.rail.drag.y),v.scroll.y<0&&(v.scroll.y=0);var t=v.scrollvaluemax;v.scroll.y>t&&(v.scroll.y=t)}return v.synched("mousemove",function(){v.rail.drag&&1==v.rail.drag.pt&&(v.showCursor(),v.rail.drag.hr?v.doScrollLeft(Math.round(v.scroll.x*v.scrollratio.x),v.opt.cursordragspeed):v.doScrollTop(Math.round(v.scroll.y*v.scrollratio.y),v.opt.cursordragspeed))}),v.cancelEvent(e)}},x.cantouch||v.opt.touchbehavior?(v.onpreventclick=function(e){return v.preventclick?(v.preventclick.tg.onclick=v.preventclick.click,v.preventclick=!1,v.cancelEvent(e)):void 0},v.bind(v.win,"mousedown",v.ontouchstart),v.onclick=x.isios?!1:function(e){return v.lastmouseup?(v.lastmouseup=!1,v.cancelEvent(e)):!0},v.opt.grabcursorenabled&&x.cursorgrabvalue&&(v.css(v.ispage?v.doc:v.win,{cursor:x.cursorgrabvalue}),v.css(v.rail,{cursor:x.cursorgrabvalue}))):(v.hasTextSelected="getSelection"in document?function(){return document.getSelection().rangeCount>0}:"selection"in document?function(){return"None"!=document.selection.type}:function(){return!1},v.onselectionstart=function(){v.ispage||(v.selectiondrag=v.win.offset())},v.onselectionend=function(){v.selectiondrag=!1},v.onselectiondrag=function(o){v.selectiondrag&&v.hasTextSelected()&&v.debounced("selectionscroll",function(){e(o)},250)}),x.hasmstouch&&(v.css(v.rail,{"-ms-touch-action":"none"}),v.css(v.cursor,{"-ms-touch-action":"none"}),v.bind(v.win,"MSPointerDown",v.ontouchstart),v.bind(document,"MSPointerUp",v.ontouchend),v.bind(document,"MSPointerMove",v.ontouchmove),v.bind(v.cursor,"MSGestureHold",function(e){e.preventDefault()}),v.bind(v.cursor,"contextmenu",function(e){e.preventDefault()})),this.istouchcapable&&(v.bind(v.win,"touchstart",v.ontouchstart),v.bind(document,"touchend",v.ontouchend),v.bind(document,"touchcancel",v.ontouchend),v.bind(document,"touchmove",v.ontouchmove)),v.bind(v.cursor,"mousedown",v.onmousedown),v.bind(v.cursor,"mouseup",v.onmouseup),v.railh&&(v.bind(v.cursorh,"mousedown",function(e){v.onmousedown(e,!0)}),v.bind(v.cursorh,"mouseup",v.onmouseup)),(v.opt.cursordragontouch||!x.cantouch&&!v.opt.touchbehavior)&&(v.rail.css({cursor:"default"}),v.railh&&v.railh.css({cursor:"default"}),v.jqbind(v.rail,"mouseenter",function(){return v.win.is(":visible")?(v.canshowonmouseevent&&v.showCursor(),void(v.rail.active=!0)):!1}),v.jqbind(v.rail,"mouseleave",function(){v.rail.active=!1,v.rail.drag||v.hideCursor()}),v.opt.sensitiverail&&(v.bind(v.rail,"click",function(e){v.doRailClick(e,!1,!1)}),v.bind(v.rail,"dblclick",function(e){v.doRailClick(e,!0,!1)}),v.bind(v.cursor,"click",function(e){v.cancelEvent(e)}),v.bind(v.cursor,"dblclick",function(e){v.cancelEvent(e)})),v.railh&&(v.jqbind(v.railh,"mouseenter",function(){return v.win.is(":visible")?(v.canshowonmouseevent&&v.showCursor(),void(v.rail.active=!0)):!1}),v.jqbind(v.railh,"mouseleave",function(){v.rail.active=!1,v.rail.drag||v.hideCursor()}),v.opt.sensitiverail&&(v.bind(v.railh,"click",function(e){v.doRailClick(e,!1,!0)}),v.bind(v.railh,"dblclick",function(e){v.doRailClick(e,!0,!0)}),v.bind(v.cursorh,"click",function(e){v.cancelEvent(e)}),v.bind(v.cursorh,"dblclick",function(e){v.cancelEvent(e)})))),x.cantouch||v.opt.touchbehavior?(v.bind(x.hasmousecapture?v.win:document,"mouseup",v.ontouchend),v.bind(document,"mousemove",v.ontouchmove),v.onclick&&v.bind(document,"click",v.onclick),v.opt.cursordragontouch&&(v.bind(v.cursor,"mousedown",v.onmousedown),v.bind(v.cursor,"mousemove",v.onmousemove),v.cursorh&&v.bind(v.cursorh,"mousedown",function(e){v.onmousedown(e,!0)}),v.cursorh&&v.bind(v.cursorh,"mousemove",v.onmousemove))):(v.bind(x.hasmousecapture?v.win:document,"mouseup",v.onmouseup),v.bind(document,"mousemove",v.onmousemove),v.onclick&&v.bind(document,"click",v.onclick),!v.ispage&&v.opt.enablescrollonselection&&(v.bind(v.win[0],"mousedown",v.onselectionstart),v.bind(document,"mouseup",v.onselectionend),v.bind(v.cursor,"mouseup",v.onselectionend),v.cursorh&&v.bind(v.cursorh,"mouseup",v.onselectionend),v.bind(document,"mousemove",v.onselectiondrag)),v.zoom&&(v.jqbind(v.zoom,"mouseenter",function(){v.canshowonmouseevent&&v.showCursor(),v.rail.active=!0}),v.jqbind(v.zoom,"mouseleave",function(){v.rail.active=!1,v.rail.drag||v.hideCursor()}))),v.opt.enablemousewheel&&(v.isiframe||v.bind(x.isie&&v.ispage?document:v.win,"mousewheel",v.onmousewheel),v.bind(v.rail,"mousewheel",v.onmousewheel),v.railh&&v.bind(v.railh,"mousewheel",v.onmousewheelhr)),v.ispage||x.cantouch||/HTML|^BODY/.test(v.win[0].nodeName)||(v.win.attr("tabindex")||v.win.attr({tabindex:n++}),v.jqbind(v.win,"focus",function(e){r=v.getTarget(e).id||!0,v.hasfocus=!0,v.canshowonmouseevent&&v.noticeCursor()}),v.jqbind(v.win,"blur",function(){r=!1,v.hasfocus=!1}),v.jqbind(v.win,"mouseenter",function(e){i=v.getTarget(e).id||!0,v.hasmousefocus=!0,v.canshowonmouseevent&&v.noticeCursor()}),v.jqbind(v.win,"mouseleave",function(){i=!1,v.hasmousefocus=!1,v.rail.drag||v.hideCursor()}))}if(v.onkeypress=function(e){if(v.locked&&0==v.page.maxh)return!0;e=e?e:window.e;var o=v.getTarget(e);if(o&&/INPUT|TEXTAREA|SELECT|OPTION/.test(o.nodeName)){var t=o.getAttribute("type")||o.type||!1;if(!t||!/submit|button|cancel/i.tp)return!0}if(a(o).attr("contenteditable"))return!0;if(v.hasfocus||v.hasmousefocus&&!r||v.ispage&&!r&&!i){var n=e.keyCode;if(v.locked&&27!=n)return v.cancelEvent(e);var s=e.ctrlKey||!1,l=e.shiftKey||!1,c=!1;switch(n){case 38:case 63233:v.doScrollBy(72),c=!0;break;case 40:case 63235:v.doScrollBy(-72),c=!0;break;case 37:case 63232:v.railh&&(s?v.doScrollLeft(0):v.doScrollLeftBy(72),c=!0);break;case 39:case 63234:v.railh&&(s?v.doScrollLeft(v.page.maxw):v.doScrollLeftBy(-72),c=!0);break;case 33:case 63276:v.doScrollBy(v.view.h),c=!0;break;case 34:case 63277:v.doScrollBy(-v.view.h),c=!0;break;case 36:case 63273:v.railh&&s?v.doScrollPos(0,0):v.doScrollTo(0),c=!0;break;case 35:case 63275:v.railh&&s?v.doScrollPos(v.page.maxw,v.page.maxh):v.doScrollTo(v.page.maxh),c=!0;break;case 32:v.opt.spacebarenabled&&(v.doScrollBy(l?v.view.h:-v.view.h),c=!0);break;case 27:v.zoomactive&&(v.doZoom(),c=!0)}if(c)return v.cancelEvent(e)}},v.opt.enablekeyboard&&v.bind(document,x.isopera&&!x.isopera12?"keypress":"keydown",v.onkeypress),v.bind(document,"keydown",function(e){var o=e.ctrlKey||!1;o&&(v.wheelprevented=!0)}),v.bind(document,"keyup",function(e){var o=e.ctrlKey||!1;o||(v.wheelprevented=!1)}),v.bind(window,"resize",v.lazyResize),v.bind(window,"orientationchange",v.lazyResize),v.bind(window,"load",v.lazyResize),x.ischrome&&!v.ispage&&!v.haswrapper){var M=v.win.attr("style"),E=parseFloat(v.win.css("width"))+1;v.win.css("width",E),v.synched("chromefix",function(){v.win.attr("style",M)})}v.onAttributeChange=function(){v.lazyResize(250)},v.ispage||v.haswrapper||(m!==!1?(v.observer=new m(function(e){e.forEach(v.onAttributeChange)}),v.observer.observe(v.win[0],{childList:!0,characterData:!1,attributes:!0,subtree:!1}),v.observerremover=new m(function(e){e.forEach(function(e){if(e.removedNodes.length>0)for(var o in e.removedNodes)if(e.removedNodes[o]==v.win[0])return v.remove()})}),v.observerremover.observe(v.win[0].parentNode,{childList:!0,characterData:!1,attributes:!1,subtree:!1})):(v.bind(v.win,x.isie&&!x.isie9?"propertychange":"DOMAttrModified",v.onAttributeChange),x.isie9&&v.win[0].attachEvent("onpropertychange",v.onAttributeChange),v.bind(v.win,"DOMNodeRemoved",function(e){e.target==v.win[0]&&v.remove()}))),!v.ispage&&v.opt.boxzoom&&v.bind(window,"resize",v.resizeZoom),v.istextarea&&v.bind(v.win,"mouseup",v.lazyResize),v.lazyResize(30)}"IFRAME"==this.doc[0].nodeName&&(this.doc[0].readyState&&"complete"==this.doc[0].readyState&&setTimeout(function(){o.call(v.doc[0],!1)},500),v.bind(this.doc,"load",o))},this.showCursor=function(e,o){v.cursortimeout&&(clearTimeout(v.cursortimeout),v.cursortimeout=0),v.rail&&(v.autohidedom&&(v.autohidedom.stop().css({opacity:v.opt.cursoropacitymax}),v.cursoractive=!0),v.rail.drag&&1==v.rail.drag.pt||(void 0!==e&&e!==!1&&(v.scroll.y=Math.round(1*e/v.scrollratio.y)),void 0!==o&&(v.scroll.x=Math.round(1*o/v.scrollratio.x))),v.cursor.css({height:v.cursorheight,top:v.scroll.y}),v.cursorh&&(v.cursorh.css(!v.rail.align&&v.rail.visibility?{width:v.cursorwidth,left:v.scroll.x+v.rail.width}:{width:v.cursorwidth,left:v.scroll.x}),v.cursoractive=!0),v.zoom&&v.zoom.stop().css({opacity:v.opt.cursoropacitymax}))},this.hideCursor=function(e){v.cursortimeout||v.rail&&v.autohidedom&&(v.hasmousefocus&&"leave"==v.opt.autohidemode||(v.cursortimeout=setTimeout(function(){v.rail.active&&v.showonmouseevent||(v.autohidedom.stop().animate({opacity:v.opt.cursoropacitymin}),v.zoom&&v.zoom.stop().animate({opacity:v.opt.cursoropacitymin}),v.cursoractive=!1),v.cursortimeout=0},e||v.opt.hidecursordelay)))},this.noticeCursor=function(e,o,t){v.showCursor(o,t),v.rail.active||v.hideCursor(e)},this.getContentSize=v.ispage?function(){return{w:Math.max(document.body.scrollWidth,document.documentElement.scrollWidth),h:Math.max(document.body.scrollHeight,document.documentElement.scrollHeight)}}:v.haswrapper?function(){return{w:v.doc.outerWidth()+parseInt(v.win.css("paddingLeft"))+parseInt(v.win.css("paddingRight")),h:v.doc.outerHeight()+parseInt(v.win.css("paddingTop"))+parseInt(v.win.css("paddingBottom"))}}:function(){return{w:v.docscroll[0].scrollWidth,h:v.docscroll[0].scrollHeight}},this.onResize=function(e,o){if(!v||!v.win)return!1;if(!v.haswrapper&&!v.ispage){if("none"==v.win.css("display"))return v.visibility&&v.hideRail().hideRailHr(),!1;v.hidden||v.visibility||v.showRail().showRailHr()}var t=v.page.maxh,r=v.page.maxw,i={h:v.view.h,w:v.view.w};if(v.view={w:v.ispage?v.win.width():parseInt(v.win[0].clientWidth),h:v.ispage?v.win.height():parseInt(v.win[0].clientHeight)},v.page=o?o:v.getContentSize(),v.page.maxh=Math.max(0,v.page.h-v.view.h),v.page.maxw=Math.max(0,v.page.w-v.view.w),v.page.maxh==t&&v.page.maxw==r&&v.view.w==i.w){if(v.ispage)return v;var n=v.win.offset();if(v.lastposition){var s=v.lastposition;if(s.top==n.top&&s.left==n.left)return v}v.lastposition=n}if(0==v.page.maxh?(v.hideRail(),v.scrollvaluemax=0,v.scroll.y=0,v.scrollratio.y=0,v.cursorheight=0,v.setScrollTop(0),v.rail.scrollable=!1):v.rail.scrollable=!0,0==v.page.maxw?(v.hideRailHr(),v.scrollvaluemaxw=0,v.scroll.x=0,v.scrollratio.x=0,v.cursorwidth=0,v.setScrollLeft(0),v.railh.scrollable=!1):v.railh.scrollable=!0,v.locked=0==v.page.maxh&&0==v.page.maxw,v.locked)return v.ispage||v.updateScrollBar(v.view),!1;v.hidden||v.visibility?v.hidden||v.railh.visibility||v.showRailHr():v.showRail().showRailHr(),v.istextarea&&v.win.css("resize")&&"none"!=v.win.css("resize")&&(v.view.h-=20),v.cursorheight=Math.min(v.view.h,Math.round(v.view.h*(v.view.h/v.page.h))),v.cursorheight=v.opt.cursorfixedheight?v.opt.cursorfixedheight:Math.max(v.opt.cursorminheight,v.cursorheight),v.cursorwidth=Math.min(v.view.w,Math.round(v.view.w*(v.view.w/v.page.w))),v.cursorwidth=v.opt.cursorfixedheight?v.opt.cursorfixedheight:Math.max(v.opt.cursorminheight,v.cursorwidth),v.scrollvaluemax=v.view.h-v.cursorheight-v.cursor.hborder,v.railh&&(v.railh.width=v.page.maxh>0?v.view.w-v.rail.width:v.view.w,v.scrollvaluemaxw=v.railh.width-v.cursorwidth-v.cursorh.wborder),v.ispage||v.updateScrollBar(v.view),v.scrollratio={x:v.page.maxw/v.scrollvaluemaxw,y:v.page.maxh/v.scrollvaluemax};var l=v.getScrollTop();return l>v.page.maxh?v.doScrollTop(v.page.maxh):(v.scroll.y=Math.round(v.getScrollTop()*(1/v.scrollratio.y)),v.scroll.x=Math.round(v.getScrollLeft()*(1/v.scrollratio.x)),v.cursoractive&&v.noticeCursor()),v.scroll.y&&0==v.getScrollTop()&&v.doScrollTo(Math.floor(v.scroll.y*v.scrollratio.y)),v},this.resize=v.onResize,this.lazyResize=function(e){return e=isNaN(e)?30:e,v.delayed("resize",v.resize,e),v},this._bind=function(e,o,t,r){v.events.push({e:e,n:o,f:t,b:r,q:!1}),e.addEventListener?e.addEventListener(o,t,r||!1):e.attachEvent?e.attachEvent("on"+o,t):e["on"+o]=t},this.jqbind=function(e,o,t){v.events.push({e:e,n:o,f:t,q:!0}),a(e).bind(o,t)},this.bind=function(e,o,t,r){var i="jquery"in e?e[0]:e;if("mousewheel"==o)if("onwheel"in document||document.documentMode>=9)v._bind(i,"wheel",t,r||!1);else{var n=void 0!==document.onmousewheel?"mousewheel":"DOMMouseScroll";p(i,n,t,r||!1),"DOMMouseScroll"==n&&p(i,"MozMousePixelScroll",t,r||!1)}else if(i.addEventListener){if(x.cantouch&&/mouseup|mousedown|mousemove/.test(o)){var s="mousedown"==o?"touchstart":"mouseup"==o?"touchend":"touchmove";v._bind(i,s,function(e){if(e.touches){if(e.touches.length<2){var o=e.touches.length?e.touches[0]:e;o.original=e,t.call(this,o)}}else if(e.changedTouches){var o=e.changedTouches[0];o.original=e,t.call(this,o)}},r||!1)}v._bind(i,o,t,r||!1),x.cantouch&&"mouseup"==o&&v._bind(i,"touchcancel",t,r||!1)}else v._bind(i,o,function(e){return e=e||window.event||!1,e&&e.srcElement&&(e.target=e.srcElement),"pageY"in e||(e.pageX=e.clientX+document.documentElement.scrollLeft,e.pageY=e.clientY+document.documentElement.scrollTop),t.call(i,e)===!1||r===!1?v.cancelEvent(e):!0})},this._unbind=function(e,o,t,r){e.removeEventListener?e.removeEventListener(o,t,r):e.detachEvent?e.detachEvent("on"+o,t):e["on"+o]=!1},this.unbindAll=function(){for(var e=0;e<v.events.length;e++){var o=v.events[e];o.q?o.e.unbind(o.n,o.f):v._unbind(o.e,o.n,o.f,o.b)}},this.cancelEvent=function(e){var e=e.original?e.original:e?e:window.event||!1;return e?(e.preventDefault&&e.preventDefault(),e.stopPropagation&&e.stopPropagation(),e.preventManipulation&&e.preventManipulation(),e.cancelBubble=!0,e.cancel=!0,e.returnValue=!1,!1):!1},this.stopPropagation=function(e){var e=e.original?e.original:e?e:window.event||!1;return e?e.stopPropagation?e.stopPropagation():(e.cancelBubble&&(e.cancelBubble=!0),!1):!1},this.showRail=function(){return 0==v.page.maxh||!v.ispage&&"none"==v.win.css("display")||(v.visibility=!0,v.rail.visibility=!0,v.rail.css("display","block")),v},this.showRailHr=function(){return v.railh?(0==v.page.maxw||!v.ispage&&"none"==v.win.css("display")||(v.railh.visibility=!0,v.railh.css("display","block")),v):v},this.hideRail=function(){return v.visibility=!1,v.rail.visibility=!1,v.rail.css("display","none"),v},this.hideRailHr=function(){return v.railh?(v.railh.visibility=!1,v.railh.css("display","none"),v):v},this.show=function(){return v.hidden=!1,v.locked=!1,v.showRail().showRailHr()},this.hide=function(){return v.hidden=!0,v.locked=!0,v.hideRail().hideRailHr()},this.toggle=function(){return v.hidden?v.show():v.hide()},this.remove=function(){v.stop(),v.cursortimeout&&clearTimeout(v.cursortimeout),v.doZoomOut(),v.unbindAll(),x.isie9&&v.win[0].detachEvent("onpropertychange",v.onAttributeChange),v.observer!==!1&&v.observer.disconnect(),v.observerremover!==!1&&v.observerremover.disconnect(),v.events=null,v.cursor&&v.cursor.remove(),v.cursorh&&v.cursorh.remove(),v.rail&&v.rail.remove(),v.railh&&v.railh.remove(),v.zoom&&v.zoom.remove();for(var e=0;e<v.saved.css.length;e++){var o=v.saved.css[e];o[0].css(o[1],void 0===o[2]?"":o[2])}v.saved=!1,v.me.data("__nicescroll","");var t=a.nicescroll;t.each(function(e){if(this&&this.id===v.id){delete t[e];for(var o=++e;o<t.length;o++,e++)t[e]=t[o];t.length--,t.length&&delete t[t.length]}});for(var r in v)v[r]=null,delete v[r];v=null},this.scrollstart=function(e){return this.onscrollstart=e,v},this.scrollend=function(e){return this.onscrollend=e,v},this.scrollcancel=function(e){return this.onscrollcancel=e,v},this.zoomin=function(e){return this.onzoomin=e,v},this.zoomout=function(e){return this.onzoomout=e,v},this.isScrollable=function(e){var o=e.target?e.target:e;if("OPTION"==o.nodeName)return!0;for(;o&&1==o.nodeType&&!/^BODY|HTML/.test(o.nodeName);){var t=a(o),r=t.css("overflowY")||t.css("overflowX")||t.css("overflow")||"";if(/scroll|auto/.test(r))return o.clientHeight!=o.scrollHeight;o=o.parentNode?o.parentNode:!1}return!1},this.getViewport=function(e){for(var o=e&&e.parentNode?e.parentNode:!1;o&&1==o.nodeType&&!/^BODY|HTML/.test(o.nodeName);){var t=a(o);if(/fixed|absolute/.test(t.css("position")))return t;var r=t.css("overflowY")||t.css("overflowX")||t.css("overflow")||"";if(/scroll|auto/.test(r)&&o.clientHeight!=o.scrollHeight)return t;if(t.getNiceScroll().length>0)return t;o=o.parentNode?o.parentNode:!1}return o?a(o):!1},this.triggerScrollEnd=function(){if(v.onscrollend){var e=v.getScrollLeft(),o=v.getScrollTop(),t={type:"scrollend",current:{x:e,y:o},end:{x:e,y:o}};v.onscrollend.call(v,t)}},this.onmousewheel=function(e){if(!v.wheelprevented){if(v.locked)return v.debounced("checkunlock",v.resize,250),!0;if(v.rail.drag)return v.cancelEvent(e);if("auto"==v.opt.oneaxismousemode&&0!=e.deltaX&&(v.opt.oneaxismousemode=!1),v.opt.oneaxismousemode&&0==e.deltaX&&!v.rail.scrollable)return v.railh&&v.railh.scrollable?v.onmousewheelhr(e):!0;var o=+new Date,t=!1;if(v.opt.preservenativescrolling&&v.checkarea+600<o&&(v.nativescrollingarea=v.isScrollable(e),t=!0),v.checkarea=o,v.nativescrollingarea)return!0;var r=g(e,!1,t);return r&&(v.checkarea=0),r}},this.onmousewheelhr=function(e){if(!v.wheelprevented){if(v.locked||!v.railh.scrollable)return!0;if(v.rail.drag)return v.cancelEvent(e);var o=+new Date,t=!1;return v.opt.preservenativescrolling&&v.checkarea+600<o&&(v.nativescrollingarea=v.isScrollable(e),t=!0),v.checkarea=o,v.nativescrollingarea?!0:v.locked?v.cancelEvent(e):g(e,!0,t)}},this.stop=function(){return v.cancelScroll(),v.scrollmon&&v.scrollmon.stop(),v.cursorfreezed=!1,v.scroll.y=Math.round(v.getScrollTop()*(1/v.scrollratio.y)),v.noticeCursor(),v},this.getTransitionSpeed=function(e){var o=Math.round(10*v.opt.scrollspeed),t=Math.min(o,Math.round(e/20*v.opt.scrollspeed));return t>20?t:0},v.opt.smoothscroll?v.ishwscroll&&x.hastransition&&v.opt.usetransition?(this.prepareTransition=function(e,o){var t=o?e>20?e:0:v.getTransitionSpeed(e),r=t?x.prefixstyle+"transform "+t+"ms ease-out":"";return v.lasttransitionstyle&&v.lasttransitionstyle==r||(v.lasttransitionstyle=r,v.doc.css(x.transitionstyle,r)),t},this.doScrollLeft=function(e,o){var t=v.scrollrunning?v.newscrolly:v.getScrollTop();v.doScrollPos(e,t,o)},this.doScrollTop=function(e,o){var t=v.scrollrunning?v.newscrollx:v.getScrollLeft();v.doScrollPos(t,e,o)},this.doScrollPos=function(e,o,t){var r=v.getScrollTop(),i=v.getScrollLeft();return((v.newscrolly-r)*(o-r)<0||(v.newscrollx-i)*(e-i)<0)&&v.cancelScroll(),0==v.opt.bouncescroll&&(0>o?o=0:o>v.page.maxh&&(o=v.page.maxh),0>e?e=0:e>v.page.maxw&&(e=v.page.maxw)),v.scrollrunning&&e==v.newscrollx&&o==v.newscrolly?!1:(v.newscrolly=o,v.newscrollx=e,v.newscrollspeed=t||!1,v.timer?!1:void(v.timer=setTimeout(function(){var t=v.getScrollTop(),r=v.getScrollLeft(),i={};i.x=e-r,i.y=o-t,i.px=r,i.py=t;var n=Math.round(Math.sqrt(Math.pow(i.x,2)+Math.pow(i.y,2))),s=v.newscrollspeed&&v.newscrollspeed>1?v.newscrollspeed:v.getTransitionSpeed(n);if(v.newscrollspeed&&v.newscrollspeed<=1&&(s*=v.newscrollspeed),v.prepareTransition(s,!0),v.timerscroll&&v.timerscroll.tm&&clearInterval(v.timerscroll.tm),s>0){if(!v.scrollrunning&&v.onscrollstart){var l={type:"scrollstart",current:{x:r,y:t},request:{x:e,y:o},end:{x:v.newscrollx,y:v.newscrolly},speed:s};v.onscrollstart.call(v,l)}x.transitionend?v.scrollendtrapped||(v.scrollendtrapped=!0,v.bind(v.doc,x.transitionend,v.onScrollTransitionEnd,!1)):(v.scrollendtrapped&&clearTimeout(v.scrollendtrapped),v.scrollendtrapped=setTimeout(v.onScrollTransitionEnd,s));var a=t,c=r;v.timerscroll={bz:new BezierClass(a,v.newscrolly,s,0,0,.58,1),bh:new BezierClass(c,v.newscrollx,s,0,0,.58,1)},v.cursorfreezed||(v.timerscroll.tm=setInterval(function(){v.showCursor(v.getScrollTop(),v.getScrollLeft())},60))}v.synched("doScroll-set",function(){v.timer=0,v.scrollendtrapped&&(v.scrollrunning=!0),v.setScrollTop(v.newscrolly),v.setScrollLeft(v.newscrollx),v.scrollendtrapped||v.onScrollTransitionEnd()})},50)))},this.cancelScroll=function(){if(!v.scrollendtrapped)return!0;var e=v.getScrollTop(),o=v.getScrollLeft();return v.scrollrunning=!1,x.transitionend||clearTimeout(x.transitionend),v.scrollendtrapped=!1,v._unbind(v.doc,x.transitionend,v.onScrollTransitionEnd),v.prepareTransition(0),v.setScrollTop(e),v.railh&&v.setScrollLeft(o),v.timerscroll&&v.timerscroll.tm&&clearInterval(v.timerscroll.tm),v.timerscroll=!1,v.cursorfreezed=!1,v.showCursor(e,o),v},this.onScrollTransitionEnd=function(){v.scrollendtrapped&&v._unbind(v.doc,x.transitionend,v.onScrollTransitionEnd),v.scrollendtrapped=!1,v.prepareTransition(0),v.timerscroll&&v.timerscroll.tm&&clearInterval(v.timerscroll.tm),v.timerscroll=!1;var e=v.getScrollTop(),o=v.getScrollLeft();return v.setScrollTop(e),v.railh&&v.setScrollLeft(o),v.noticeCursor(!1,e,o),v.cursorfreezed=!1,0>e?e=0:e>v.page.maxh&&(e=v.page.maxh),0>o?o=0:o>v.page.maxw&&(o=v.page.maxw),e!=v.newscrolly||o!=v.newscrollx?v.doScrollPos(o,e,v.opt.snapbackspeed):(v.onscrollend&&v.scrollrunning&&v.triggerScrollEnd(),void(v.scrollrunning=!1))}):(this.doScrollLeft=function(e,o){var t=v.scrollrunning?v.newscrolly:v.getScrollTop();v.doScrollPos(e,t,o)},this.doScrollTop=function(e,o){var t=v.scrollrunning?v.newscrollx:v.getScrollLeft();v.doScrollPos(t,e,o)},this.doScrollPos=function(e,o,t){function r(){if(v.cancelAnimationFrame)return!0;if(v.scrollrunning=!0,h=1-h)return v.timer=d(r)||1;var e=0,o=sy=v.getScrollTop();if(v.dst.ay){o=v.bzscroll?v.dst.py+v.bzscroll.getNow()*v.dst.ay:v.newscrolly;var t=o-sy;(0>t&&o<v.newscrolly||t>0&&o>v.newscrolly)&&(o=v.newscrolly),v.setScrollTop(o),o==v.newscrolly&&(e=1)}else e=1;var i=sx=v.getScrollLeft();if(v.dst.ax){i=v.bzscroll?v.dst.px+v.bzscroll.getNow()*v.dst.ax:v.newscrollx;var t=i-sx;(0>t&&i<v.newscrollx||t>0&&i>v.newscrollx)&&(i=v.newscrollx),v.setScrollLeft(i),i==v.newscrollx&&(e+=1)}else e+=1;2==e?(v.timer=0,v.cursorfreezed=!1,v.bzscroll=!1,v.scrollrunning=!1,0>o?o=0:o>v.page.maxh&&(o=v.page.maxh),0>i?i=0:i>v.page.maxw&&(i=v.page.maxw),i!=v.newscrollx||o!=v.newscrolly?v.doScrollPos(i,o):v.onscrollend&&v.triggerScrollEnd()):v.timer=d(r)||1}var o=void 0===o||o===!1?v.getScrollTop(!0):o;if(v.timer&&v.newscrolly==o&&v.newscrollx==e)return!0;v.timer&&u(v.timer),v.timer=0;var i=v.getScrollTop(),n=v.getScrollLeft();((v.newscrolly-i)*(o-i)<0||(v.newscrollx-n)*(e-n)<0)&&v.cancelScroll(),v.newscrolly=o,v.newscrollx=e,v.bouncescroll&&v.rail.visibility||(v.newscrolly<0?v.newscrolly=0:v.newscrolly>v.page.maxh&&(v.newscrolly=v.page.maxh)),v.bouncescroll&&v.railh.visibility||(v.newscrollx<0?v.newscrollx=0:v.newscrollx>v.page.maxw&&(v.newscrollx=v.page.maxw)),v.dst={},v.dst.x=e-n,v.dst.y=o-i,v.dst.px=n,v.dst.py=i;var s=Math.round(Math.sqrt(Math.pow(v.dst.x,2)+Math.pow(v.dst.y,2)));v.dst.ax=v.dst.x/s,v.dst.ay=v.dst.y/s;var l=0,a=s;0==v.dst.x?(l=i,a=o,v.dst.ay=1,v.dst.py=0):0==v.dst.y&&(l=n,a=e,v.dst.ax=1,v.dst.px=0);var c=v.getTransitionSpeed(s);if(t&&1>=t&&(c*=t),v.bzscroll=c>0?v.bzscroll?v.bzscroll.update(a,c):new BezierClass(l,a,c,0,1,0,1):!1,!v.timer){(i==v.page.maxh&&o>=v.page.maxh||n==v.page.maxw&&e>=v.page.maxw)&&v.checkContentSize();var h=1;if(v.cancelAnimationFrame=!1,v.timer=1,v.onscrollstart&&!v.scrollrunning){var p={type:"scrollstart",current:{x:n,y:i},request:{x:e,y:o},end:{x:v.newscrollx,y:v.newscrolly},speed:c};v.onscrollstart.call(v,p)}r(),(i==v.page.maxh&&o>=i||n==v.page.maxw&&e>=n)&&v.checkContentSize(),v.noticeCursor()}},this.cancelScroll=function(){return v.timer&&u(v.timer),v.timer=0,v.bzscroll=!1,v.scrollrunning=!1,v}):(this.doScrollLeft=function(e,o){var t=v.getScrollTop();v.doScrollPos(e,t,o)},this.doScrollTop=function(e,o){var t=v.getScrollLeft();v.doScrollPos(t,e,o)},this.doScrollPos=function(e,o){var t=e>v.page.maxw?v.page.maxw:e;0>t&&(t=0);var r=o>v.page.maxh?v.page.maxh:o;0>r&&(r=0),v.synched("scroll",function(){v.setScrollTop(r),v.setScrollLeft(t)})},this.cancelScroll=function(){}),this.doScrollBy=function(e,o){var t=0;if(o)t=Math.floor((v.scroll.y-e)*v.scrollratio.y);else{var r=v.timer?v.newscrolly:v.getScrollTop(!0);t=r-e}if(v.bouncescroll){var i=Math.round(v.view.h/2);-i>t?t=-i:t>v.page.maxh+i&&(t=v.page.maxh+i)}return v.cursorfreezed=!1,py=v.getScrollTop(!0),0>t&&0>=py?v.noticeCursor():t>v.page.maxh&&py>=v.page.maxh?(v.checkContentSize(),v.noticeCursor()):void v.doScrollTop(t)},this.doScrollLeftBy=function(e,o){var t=0;if(o)t=Math.floor((v.scroll.x-e)*v.scrollratio.x);else{var r=v.timer?v.newscrollx:v.getScrollLeft(!0);t=r-e}if(v.bouncescroll){var i=Math.round(v.view.w/2);-i>t?t=-i:t>v.page.maxw+i&&(t=v.page.maxw+i)}return v.cursorfreezed=!1,px=v.getScrollLeft(!0),0>t&&0>=px?v.noticeCursor():t>v.page.maxw&&px>=v.page.maxw?v.noticeCursor():void v.doScrollLeft(t)},this.doScrollTo=function(e,o){var t=o?Math.round(e*v.scrollratio.y):e;0>t?t=0:t>v.page.maxh&&(t=v.page.maxh),v.cursorfreezed=!1,v.doScrollTop(e)},this.checkContentSize=function(){var e=v.getContentSize();(e.h!=v.page.h||e.w!=v.page.w)&&v.resize(!1,e)},v.onscroll=function(){v.rail.drag||v.cursorfreezed||v.synched("scroll",function(){v.scroll.y=Math.round(v.getScrollTop()*(1/v.scrollratio.y)),v.railh&&(v.scroll.x=Math.round(v.getScrollLeft()*(1/v.scrollratio.x))),v.noticeCursor()})},v.bind(v.docscroll,"scroll",v.onscroll),this.doZoomIn=function(e){if(!v.zoomactive){v.zoomactive=!0,v.zoomrestore={style:{}};var o=["position","top","left","zIndex","backgroundColor","marginTop","marginBottom","marginLeft","marginRight"],t=v.win[0].style;for(var r in o){var i=o[r];v.zoomrestore.style[i]=void 0!==t[i]?t[i]:""}v.zoomrestore.style.width=v.win.css("width"),v.zoomrestore.style.height=v.win.css("height"),v.zoomrestore.padding={w:v.win.outerWidth()-v.win.width(),h:v.win.outerHeight()-v.win.height()},x.isios4&&(v.zoomrestore.scrollTop=a(window).scrollTop(),a(window).scrollTop(0)),v.win.css({position:x.isios4?"absolute":"fixed",top:0,left:0,"z-index":l+100,margin:"0px"});var n=v.win.css("backgroundColor");return(""==n||/transparent|rgba\(0, 0, 0, 0\)|rgba\(0,0,0,0\)/.test(n))&&v.win.css("backgroundColor","#fff"),v.rail.css({"z-index":l+101}),v.zoom.css({"z-index":l+102}),v.zoom.css("backgroundPosition","0px -18px"),v.resizeZoom(),v.onzoomin&&v.onzoomin.call(v),v.cancelEvent(e)}},this.doZoomOut=function(e){return v.zoomactive?(v.zoomactive=!1,v.win.css("margin",""),v.win.css(v.zoomrestore.style),x.isios4&&a(window).scrollTop(v.zoomrestore.scrollTop),v.rail.css({"z-index":v.zindex}),v.zoom.css({"z-index":v.zindex}),v.zoomrestore=!1,v.zoom.css("backgroundPosition","0px 0px"),v.onResize(),v.onzoomout&&v.onzoomout.call(v),v.cancelEvent(e)):void 0},this.doZoom=function(e){return v.zoomactive?v.doZoomOut(e):v.doZoomIn(e)},this.resizeZoom=function(){if(v.zoomactive){var e=v.getScrollTop();v.win.css({width:a(window).width()-v.zoomrestore.padding.w+"px",height:a(window).height()-v.zoomrestore.padding.h+"px"}),v.onResize(),v.setScrollTop(Math.min(v.page.maxh,e))
}},this.init(),a.nicescroll.push(this)},b=function(e){var o=this;this.nc=e,this.lastx=0,this.lasty=0,this.speedx=0,this.speedy=0,this.lasttime=0,this.steptime=0,this.snapx=!1,this.snapy=!1,this.demulx=0,this.demuly=0,this.lastscrollx=-1,this.lastscrolly=-1,this.chkx=0,this.chky=0,this.timer=0,this.time=function(){return+new Date},this.reset=function(e,t){o.stop();var r=o.time();o.steptime=0,o.lasttime=r,o.speedx=0,o.speedy=0,o.lastx=e,o.lasty=t,o.lastscrollx=-1,o.lastscrolly=-1},this.update=function(e,t){var r=o.time();o.steptime=r-o.lasttime,o.lasttime=r;var i=t-o.lasty,n=e-o.lastx,s=o.nc.getScrollTop(),l=o.nc.getScrollLeft(),a=s+i,c=l+n;o.snapx=0>c||c>o.nc.page.maxw,o.snapy=0>a||a>o.nc.page.maxh,o.speedx=n,o.speedy=i,o.lastx=e,o.lasty=t},this.stop=function(){o.nc.unsynched("domomentum2d"),o.timer&&clearTimeout(o.timer),o.timer=0,o.lastscrollx=-1,o.lastscrolly=-1},this.doSnapy=function(e,t){var r=!1;0>t?(t=0,r=!0):t>o.nc.page.maxh&&(t=o.nc.page.maxh,r=!0),0>e?(e=0,r=!0):e>o.nc.page.maxw&&(e=o.nc.page.maxw,r=!0),r?o.nc.doScrollPos(e,t,o.nc.opt.snapbackspeed):o.nc.triggerScrollEnd()},this.doMomentum=function(e){var t=o.time(),r=e?t+e:o.lasttime,i=o.nc.getScrollLeft(),n=o.nc.getScrollTop(),s=o.nc.page.maxh,l=o.nc.page.maxw;o.speedx=l>0?Math.min(60,o.speedx):0,o.speedy=s>0?Math.min(60,o.speedy):0;var a=r&&60>=t-r;(0>n||n>s||0>i||i>l)&&(a=!1);var c=o.speedy&&a?o.speedy:!1,d=o.speedx&&a?o.speedx:!1;if(c||d){var u=Math.max(16,o.steptime);if(u>50){var h=u/50;o.speedx*=h,o.speedy*=h,u=50}o.demulxy=0,o.lastscrollx=o.nc.getScrollLeft(),o.chkx=o.lastscrollx,o.lastscrolly=o.nc.getScrollTop(),o.chky=o.lastscrolly;var p=o.lastscrollx,m=o.lastscrolly,f=function(){var e=o.time()-t>600?.04:.02;o.speedx&&(p=Math.floor(o.lastscrollx-o.speedx*(1-o.demulxy)),o.lastscrollx=p,(0>p||p>l)&&(e=.1)),o.speedy&&(m=Math.floor(o.lastscrolly-o.speedy*(1-o.demulxy)),o.lastscrolly=m,(0>m||m>s)&&(e=.1)),o.demulxy=Math.min(1,o.demulxy+e),o.nc.synched("domomentum2d",function(){if(o.speedx){var e=o.nc.getScrollLeft();e!=o.chkx&&o.stop(),o.chkx=p,o.nc.setScrollLeft(p)}if(o.speedy){var t=o.nc.getScrollTop();t!=o.chky&&o.stop(),o.chky=m,o.nc.setScrollTop(m)}o.timer||(o.nc.hideCursor(),o.doSnapy(p,m))}),o.demulxy<1?o.timer=setTimeout(f,u):(o.stop(),o.nc.hideCursor(),o.doSnapy(p,m))};f()}else o.doSnapy(o.nc.getScrollLeft(),o.nc.getScrollTop())}},y=e.fn.scrollTop;e.cssHooks.pageYOffset={get:function(e){var o=a.data(e,"__nicescroll")||!1;return o&&o.ishwscroll?o.getScrollTop():y.call(e)},set:function(e,o){var t=a.data(e,"__nicescroll")||!1;return t&&t.ishwscroll?t.setScrollTop(parseInt(o)):y.call(e,o),this}},e.fn.scrollTop=function(e){if(void 0===e){var o=this[0]?a.data(this[0],"__nicescroll")||!1:!1;return o&&o.ishwscroll?o.getScrollTop():y.call(this)}return this.each(function(){var o=a.data(this,"__nicescroll")||!1;o&&o.ishwscroll?o.setScrollTop(parseInt(e)):y.call(a(this),e)})};var x=e.fn.scrollLeft;a.cssHooks.pageXOffset={get:function(e){var o=a.data(e,"__nicescroll")||!1;return o&&o.ishwscroll?o.getScrollLeft():x.call(e)},set:function(e,o){var t=a.data(e,"__nicescroll")||!1;return t&&t.ishwscroll?t.setScrollLeft(parseInt(o)):x.call(e,o),this}},e.fn.scrollLeft=function(e){if(void 0===e){var o=this[0]?a.data(this[0],"__nicescroll")||!1:!1;return o&&o.ishwscroll?o.getScrollLeft():x.call(this)}return this.each(function(){var o=a.data(this,"__nicescroll")||!1;o&&o.ishwscroll?o.setScrollLeft(parseInt(e)):x.call(a(this),e)})};var S=function(e){var o=this;if(this.length=0,this.name="nicescrollarray",this.each=function(e){for(var t=0,r=0;t<o.length;t++)e.call(o[t],r++);return o},this.push=function(e){o[o.length]=e,o.length++},this.eq=function(e){return o[e]},e)for(var t=0;t<e.length;t++){var r=a.data(e[t],"__nicescroll")||!1;r&&(this[this.length]=r,this.length++)}return this};t(S.prototype,["show","hide","toggle","onResize","resize","remove","stop","doScrollPos"],function(e,o){e[o]=function(){var e=arguments;return this.each(function(){this[o].apply(this,e)})}}),e.fn.getNiceScroll=function(e){if(void 0===e)return new S(this);var o=this[e]&&a.data(this[e],"__nicescroll")||!1;return o},e.extend(e.expr[":"],{nicescroll:function(e){return a.data(e,"__nicescroll")?!0:!1}}),a.fn.niceScroll=function(e,o){void 0===o&&("object"!=typeof e||"jquery"in e||(o=e,e=!1));var t=new S;void 0===o&&(o={}),e&&(o.doc=a(e),o.win=a(this));var r=!("doc"in o);return r||"win"in o||(o.win=a(this)),this.each(function(){var e=a(this).data("__nicescroll")||!1;e||(o.doc=r?a(this):o.doc,e=new v(o,a(this)),a(this).data("__nicescroll",e)),t.push(e)}),1==t.length?t[0]:t},window.NiceScroll={getjQuery:function(){return e}},a.nicescroll||(a.nicescroll=new S,a.nicescroll.options=f)}),/* ========================================================================
 * Bootstrap: affix.js v3.2.0
 * http://getbootstrap.com/javascript/#affix
 * ========================================================================
 * Copyright 2011-2014 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */
+function($){"use strict";function Plugin(option){return this.each(function(){var $this=$(this),data=$this.data("bs.affix"),options="object"==typeof option&&option;data||$this.data("bs.affix",data=new Affix(this,options)),"string"==typeof option&&data[option]()})}var Affix=function(element,options){this.options=$.extend({},Affix.DEFAULTS,options),this.$target=$(this.options.target).on("scroll.bs.affix.data-api",$.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",$.proxy(this.checkPositionWithEventLoop,this)),this.$element=$(element),this.affixed=this.unpin=this.pinnedOffset=null,this.checkPosition()};Affix.VERSION="3.2.0",Affix.RESET="affix affix-top affix-bottom",Affix.DEFAULTS={offset:0,target:window},Affix.prototype.getPinnedOffset=function(){if(this.pinnedOffset)return this.pinnedOffset;this.$element.removeClass(Affix.RESET).addClass("affix");var scrollTop=this.$target.scrollTop(),position=this.$element.offset();return this.pinnedOffset=position.top-scrollTop},Affix.prototype.checkPositionWithEventLoop=function(){setTimeout($.proxy(this.checkPosition,this),1)},Affix.prototype.checkPosition=function(){if(this.$element.is(":visible")){var scrollHeight=$(document).height(),scrollTop=this.$target.scrollTop(),position=this.$element.offset(),offset=this.options.offset,offsetTop=offset.top,offsetBottom=offset.bottom;"object"!=typeof offset&&(offsetBottom=offsetTop=offset),"function"==typeof offsetTop&&(offsetTop=offset.top(this.$element)),"function"==typeof offsetBottom&&(offsetBottom=offset.bottom(this.$element));var affix=null!=this.unpin&&scrollTop+this.unpin<=position.top?!1:null!=offsetBottom&&position.top+this.$element.height()>=scrollHeight-offsetBottom?"bottom":null!=offsetTop&&offsetTop>=scrollTop?"top":!1;if(this.affixed!==affix){null!=this.unpin&&this.$element.css("top","");var affixType="affix"+(affix?"-"+affix:""),e=$.Event(affixType+".bs.affix");this.$element.trigger(e),e.isDefaultPrevented()||(this.affixed=affix,this.unpin="bottom"==affix?this.getPinnedOffset():null,this.$element.removeClass(Affix.RESET).addClass(affixType).trigger($.Event(affixType.replace("affix","affixed"))),"bottom"==affix&&this.$element.offset({top:scrollHeight-this.$element.height()-offsetBottom}))}}};var old=$.fn.affix;$.fn.affix=Plugin,$.fn.affix.Constructor=Affix,$.fn.affix.noConflict=function(){return $.fn.affix=old,this},$(window).on("load",function(){$('[data-spy="affix"]').each(function(){var $spy=$(this),data=$spy.data();data.offset=data.offset||{},data.offsetBottom&&(data.offset.bottom=data.offsetBottom),data.offsetTop&&(data.offset.top=data.offsetTop),Plugin.call($spy,data)})})}(jQuery),/* ========================================================================
 * Bootstrap: alert.js v3.2.0
 * http://getbootstrap.com/javascript/#alerts
 * ========================================================================
 * Copyright 2011-2014 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */
+function($){"use strict";function Plugin(option){return this.each(function(){var $this=$(this),data=$this.data("bs.alert");data||$this.data("bs.alert",data=new Alert(this)),"string"==typeof option&&data[option].call($this)})}var dismiss='[data-dismiss="alert"]',Alert=function(el){$(el).on("click",dismiss,this.close)};Alert.VERSION="3.2.0",Alert.prototype.close=function(e){function removeElement(){$parent.detach().trigger("closed.bs.alert").remove()}var $this=$(this),selector=$this.attr("data-target");selector||(selector=$this.attr("href"),selector=selector&&selector.replace(/.*(?=#[^\s]*$)/,""));var $parent=$(selector);e&&e.preventDefault(),$parent.length||($parent=$this.hasClass("alert")?$this:$this.parent()),$parent.trigger(e=$.Event("close.bs.alert")),e.isDefaultPrevented()||($parent.removeClass("in"),$.support.transition&&$parent.hasClass("fade")?$parent.one("bsTransitionEnd",removeElement).emulateTransitionEnd(150):removeElement())};var old=$.fn.alert;$.fn.alert=Plugin,$.fn.alert.Constructor=Alert,$.fn.alert.noConflict=function(){return $.fn.alert=old,this},$(document).on("click.bs.alert.data-api",dismiss,Alert.prototype.close)}(jQuery),/* ========================================================================
 * Bootstrap: button.js v3.2.0
 * http://getbootstrap.com/javascript/#buttons
 * ========================================================================
 * Copyright 2011-2014 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */
+function($){"use strict";function Plugin(option){return this.each(function(){var $this=$(this),data=$this.data("bs.button"),options="object"==typeof option&&option;data||$this.data("bs.button",data=new Button(this,options)),"toggle"==option?data.toggle():option&&data.setState(option)})}var Button=function(element,options){this.$element=$(element),this.options=$.extend({},Button.DEFAULTS,options),this.isLoading=!1};Button.VERSION="3.2.0",Button.DEFAULTS={loadingText:"loading..."},Button.prototype.setState=function(state){var d="disabled",$el=this.$element,val=$el.is("input")?"val":"html",data=$el.data();state+="Text",null==data.resetText&&$el.data("resetText",$el[val]()),$el[val](null==data[state]?this.options[state]:data[state]),setTimeout($.proxy(function(){"loadingText"==state?(this.isLoading=!0,$el.addClass(d).attr(d,d)):this.isLoading&&(this.isLoading=!1,$el.removeClass(d).removeAttr(d))},this),0)},Button.prototype.toggle=function(){var changed=!0,$parent=this.$element.closest('[data-toggle="buttons"]');if($parent.length){var $input=this.$element.find("input");"radio"==$input.prop("type")&&($input.prop("checked")&&this.$element.hasClass("active")?changed=!1:$parent.find(".active").removeClass("active")),changed&&$input.prop("checked",!this.$element.hasClass("active")).trigger("change")}changed&&this.$element.toggleClass("active")};var old=$.fn.button;$.fn.button=Plugin,$.fn.button.Constructor=Button,$.fn.button.noConflict=function(){return $.fn.button=old,this},$(document).on("click.bs.button.data-api",'[data-toggle^="button"]',function(e){var $btn=$(e.target);$btn.hasClass("btn")||($btn=$btn.closest(".btn")),Plugin.call($btn,"toggle"),e.preventDefault()})}(jQuery),/* ========================================================================
 * Bootstrap: carousel.js v3.2.0
 * http://getbootstrap.com/javascript/#carousel
 * ========================================================================
 * Copyright 2011-2014 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */
+function($){"use strict";function Plugin(option){return this.each(function(){var $this=$(this),data=$this.data("bs.carousel"),options=$.extend({},Carousel.DEFAULTS,$this.data(),"object"==typeof option&&option),action="string"==typeof option?option:options.slide;data||$this.data("bs.carousel",data=new Carousel(this,options)),"number"==typeof option?data.to(option):action?data[action]():options.interval&&data.pause().cycle()})}var Carousel=function(element,options){this.$element=$(element).on("keydown.bs.carousel",$.proxy(this.keydown,this)),this.$indicators=this.$element.find(".carousel-indicators"),this.options=options,this.paused=this.sliding=this.interval=this.$active=this.$items=null,"hover"==this.options.pause&&this.$element.on("mouseenter.bs.carousel",$.proxy(this.pause,this)).on("mouseleave.bs.carousel",$.proxy(this.cycle,this))};Carousel.VERSION="3.2.0",Carousel.DEFAULTS={interval:5e3,pause:"hover",wrap:!0},Carousel.prototype.keydown=function(e){switch(e.which){case 37:this.prev();break;case 39:this.next();break;default:return}e.preventDefault()},Carousel.prototype.cycle=function(e){return e||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval($.proxy(this.next,this),this.options.interval)),this},Carousel.prototype.getItemIndex=function(item){return this.$items=item.parent().children(".item"),this.$items.index(item||this.$active)},Carousel.prototype.to=function(pos){var that=this,activeIndex=this.getItemIndex(this.$active=this.$element.find(".item.active"));return pos>this.$items.length-1||0>pos?void 0:this.sliding?this.$element.one("slid.bs.carousel",function(){that.to(pos)}):activeIndex==pos?this.pause().cycle():this.slide(pos>activeIndex?"next":"prev",$(this.$items[pos]))},Carousel.prototype.pause=function(e){return e||(this.paused=!0),this.$element.find(".next, .prev").length&&$.support.transition&&(this.$element.trigger($.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this},Carousel.prototype.next=function(){return this.sliding?void 0:this.slide("next")},Carousel.prototype.prev=function(){return this.sliding?void 0:this.slide("prev")},Carousel.prototype.slide=function(type,next){var $active=this.$element.find(".item.active"),$next=next||$active[type](),isCycling=this.interval,direction="next"==type?"left":"right",fallback="next"==type?"first":"last",that=this;if(!$next.length){if(!this.options.wrap)return;$next=this.$element.find(".item")[fallback]()}if($next.hasClass("active"))return this.sliding=!1;var relatedTarget=$next[0],slideEvent=$.Event("slide.bs.carousel",{relatedTarget:relatedTarget,direction:direction});if(this.$element.trigger(slideEvent),!slideEvent.isDefaultPrevented()){if(this.sliding=!0,isCycling&&this.pause(),this.$indicators.length){this.$indicators.find(".active").removeClass("active");var $nextIndicator=$(this.$indicators.children()[this.getItemIndex($next)]);$nextIndicator&&$nextIndicator.addClass("active")}var slidEvent=$.Event("slid.bs.carousel",{relatedTarget:relatedTarget,direction:direction});return $.support.transition&&this.$element.hasClass("slide")?($next.addClass(type),$next[0].offsetWidth,$active.addClass(direction),$next.addClass(direction),$active.one("bsTransitionEnd",function(){$next.removeClass([type,direction].join(" ")).addClass("active"),$active.removeClass(["active",direction].join(" ")),that.sliding=!1,setTimeout(function(){that.$element.trigger(slidEvent)},0)}).emulateTransitionEnd(1e3*$active.css("transition-duration").slice(0,-1))):($active.removeClass("active"),$next.addClass("active"),this.sliding=!1,this.$element.trigger(slidEvent)),isCycling&&this.cycle(),this}};var old=$.fn.carousel;$.fn.carousel=Plugin,$.fn.carousel.Constructor=Carousel,$.fn.carousel.noConflict=function(){return $.fn.carousel=old,this},$(document).on("click.bs.carousel.data-api","[data-slide], [data-slide-to]",function(e){var href,$this=$(this),$target=$($this.attr("data-target")||(href=$this.attr("href"))&&href.replace(/.*(?=#[^\s]+$)/,""));if($target.hasClass("carousel")){var options=$.extend({},$target.data(),$this.data()),slideIndex=$this.attr("data-slide-to");slideIndex&&(options.interval=!1),Plugin.call($target,options),slideIndex&&$target.data("bs.carousel").to(slideIndex),e.preventDefault()}}),$(window).on("load",function(){$('[data-ride="carousel"]').each(function(){var $carousel=$(this);Plugin.call($carousel,$carousel.data())})})}(jQuery),/* ========================================================================
 * Bootstrap: collapse.js v3.2.0
 * http://getbootstrap.com/javascript/#collapse
 * ========================================================================
 * Copyright 2011-2014 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */
+function($){"use strict";function Plugin(option){return this.each(function(){var $this=$(this),data=$this.data("bs.collapse"),options=$.extend({},Collapse.DEFAULTS,$this.data(),"object"==typeof option&&option);!data&&options.toggle&&"show"==option&&(option=!option),data||$this.data("bs.collapse",data=new Collapse(this,options)),"string"==typeof option&&data[option]()})}var Collapse=function(element,options){this.$element=$(element),this.options=$.extend({},Collapse.DEFAULTS,options),this.transitioning=null,this.options.parent&&(this.$parent=$(this.options.parent)),this.options.toggle&&this.toggle()};Collapse.VERSION="3.2.0",Collapse.DEFAULTS={toggle:!0},Collapse.prototype.dimension=function(){var hasWidth=this.$element.hasClass("width");return hasWidth?"width":"height"},Collapse.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var startEvent=$.Event("show.bs.collapse");if(this.$element.trigger(startEvent),!startEvent.isDefaultPrevented()){var actives=this.$parent&&this.$parent.find("> .panel > .in");if(actives&&actives.length){var hasData=actives.data("bs.collapse");if(hasData&&hasData.transitioning)return;Plugin.call(actives,"hide"),hasData||actives.data("bs.collapse",null)}var dimension=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[dimension](0),this.transitioning=1;var complete=function(){this.$element.removeClass("collapsing").addClass("collapse in")[dimension](""),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!$.support.transition)return complete.call(this);var scrollSize=$.camelCase(["scroll",dimension].join("-"));this.$element.one("bsTransitionEnd",$.proxy(complete,this)).emulateTransitionEnd(350)[dimension](this.$element[0][scrollSize])}}},Collapse.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var startEvent=$.Event("hide.bs.collapse");if(this.$element.trigger(startEvent),!startEvent.isDefaultPrevented()){var dimension=this.dimension();this.$element[dimension](this.$element[dimension]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse").removeClass("in"),this.transitioning=1;var complete=function(){this.transitioning=0,this.$element.trigger("hidden.bs.collapse").removeClass("collapsing").addClass("collapse")};return $.support.transition?(this.$element[dimension](0).one("bsTransitionEnd",$.proxy(complete,this)).emulateTransitionEnd(350),void 0):complete.call(this)}}},Collapse.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()};var old=$.fn.collapse;$.fn.collapse=Plugin,$.fn.collapse.Constructor=Collapse,$.fn.collapse.noConflict=function(){return $.fn.collapse=old,this},$(document).on("click.bs.collapse.data-api",'[data-toggle="collapse"]',function(e){var href,$this=$(this),target=$this.attr("data-target")||e.preventDefault()||(href=$this.attr("href"))&&href.replace(/.*(?=#[^\s]+$)/,""),$target=$(target),data=$target.data("bs.collapse"),option=data?"toggle":$this.data(),parent=$this.attr("data-parent"),$parent=parent&&$(parent);data&&data.transitioning||($parent&&$parent.find('[data-toggle="collapse"][data-parent="'+parent+'"]').not($this).addClass("collapsed"),$this[$target.hasClass("in")?"addClass":"removeClass"]("collapsed")),Plugin.call($target,option)})}(jQuery),/* ========================================================================
 * Bootstrap: dropdown.js v3.2.0
 * http://getbootstrap.com/javascript/#dropdowns
 * ========================================================================
 * Copyright 2011-2014 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */
+function($){"use strict";function clearMenus(e){e&&3===e.which||($(backdrop).remove(),$(toggle).each(function(){var $parent=getParent($(this)),relatedTarget={relatedTarget:this};$parent.hasClass("open")&&($parent.trigger(e=$.Event("hide.bs.dropdown",relatedTarget)),e.isDefaultPrevented()||$parent.removeClass("open").trigger("hidden.bs.dropdown",relatedTarget))}))}function getParent($this){var selector=$this.attr("data-target");selector||(selector=$this.attr("href"),selector=selector&&/#[A-Za-z]/.test(selector)&&selector.replace(/.*(?=#[^\s]*$)/,""));var $parent=selector&&$(selector);return $parent&&$parent.length?$parent:$this.parent()}function Plugin(option){return this.each(function(){var $this=$(this),data=$this.data("bs.dropdown");data||$this.data("bs.dropdown",data=new Dropdown(this)),"string"==typeof option&&data[option].call($this)})}var backdrop=".dropdown-backdrop",toggle='[data-toggle="dropdown"]',Dropdown=function(element){$(element).on("click.bs.dropdown",this.toggle)};Dropdown.VERSION="3.2.0",Dropdown.prototype.toggle=function(e){var $this=$(this);if(!$this.is(".disabled, :disabled")){var $parent=getParent($this),isActive=$parent.hasClass("open");if(clearMenus(),!isActive){"ontouchstart"in document.documentElement&&!$parent.closest(".navbar-nav").length&&$('<div class="dropdown-backdrop"/>').insertAfter($(this)).on("click",clearMenus);var relatedTarget={relatedTarget:this};if($parent.trigger(e=$.Event("show.bs.dropdown",relatedTarget)),e.isDefaultPrevented())return;$this.trigger("focus"),$parent.toggleClass("open").trigger("shown.bs.dropdown",relatedTarget)}return!1}},Dropdown.prototype.keydown=function(e){if(/(38|40|27)/.test(e.keyCode)){var $this=$(this);if(e.preventDefault(),e.stopPropagation(),!$this.is(".disabled, :disabled")){var $parent=getParent($this),isActive=$parent.hasClass("open");if(!isActive||isActive&&27==e.keyCode)return 27==e.which&&$parent.find(toggle).trigger("focus"),$this.trigger("click");var desc=" li:not(.divider):visible a",$items=$parent.find('[role="menu"]'+desc+', [role="listbox"]'+desc);if($items.length){var index=$items.index($items.filter(":focus"));38==e.keyCode&&index>0&&index--,40==e.keyCode&&index<$items.length-1&&index++,~index||(index=0),$items.eq(index).trigger("focus")}}}};var old=$.fn.dropdown;$.fn.dropdown=Plugin,$.fn.dropdown.Constructor=Dropdown,$.fn.dropdown.noConflict=function(){return $.fn.dropdown=old,this},$(document).on("click.bs.dropdown.data-api",clearMenus).on("click.bs.dropdown.data-api",".dropdown form",function(e){e.stopPropagation()}).on("click.bs.dropdown.data-api",toggle,Dropdown.prototype.toggle).on("keydown.bs.dropdown.data-api",toggle+', [role="menu"], [role="listbox"]',Dropdown.prototype.keydown)}(jQuery),/* ========================================================================
 * Bootstrap: tab.js v3.2.0
 * http://getbootstrap.com/javascript/#tabs
 * ========================================================================
 * Copyright 2011-2014 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */
+function($){"use strict";function Plugin(option){return this.each(function(){var $this=$(this),data=$this.data("bs.tab");data||$this.data("bs.tab",data=new Tab(this)),"string"==typeof option&&data[option]()})}var Tab=function(element){this.element=$(element)};Tab.VERSION="3.2.0",Tab.prototype.show=function(){var $this=this.element,$ul=$this.closest("ul:not(.dropdown-menu)"),selector=$this.data("target");if(selector||(selector=$this.attr("href"),selector=selector&&selector.replace(/.*(?=#[^\s]*$)/,"")),!$this.parent("li").hasClass("active")){var previous=$ul.find(".active:last a")[0],e=$.Event("show.bs.tab",{relatedTarget:previous});if($this.trigger(e),!e.isDefaultPrevented()){var $target=$(selector);this.activate($this.closest("li"),$ul),this.activate($target,$target.parent(),function(){$this.trigger({type:"shown.bs.tab",relatedTarget:previous})})}}},Tab.prototype.activate=function(element,container,callback){function next(){$active.removeClass("active").find("> .dropdown-menu > .active").removeClass("active"),element.addClass("active"),transition?(element[0].offsetWidth,element.addClass("in")):element.removeClass("fade"),element.parent(".dropdown-menu")&&element.closest("li.dropdown").addClass("active"),callback&&callback()}var $active=container.find("> .active"),transition=callback&&$.support.transition&&$active.hasClass("fade");transition?$active.one("bsTransitionEnd",next).emulateTransitionEnd(150):next(),$active.removeClass("in")};var old=$.fn.tab;$.fn.tab=Plugin,$.fn.tab.Constructor=Tab,$.fn.tab.noConflict=function(){return $.fn.tab=old,this},$(document).on("click.bs.tab.data-api",'[data-toggle="tab"], [data-toggle="pill"]',function(e){e.preventDefault(),Plugin.call($(this),"show")})}(jQuery),/* ========================================================================
 * Bootstrap: transition.js v3.2.0
 * http://getbootstrap.com/javascript/#transitions
 * ========================================================================
 * Copyright 2011-2014 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */
+function($){"use strict";function transitionEnd(){var el=document.createElement("bootstrap"),transEndEventNames={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var name in transEndEventNames)if(void 0!==el.style[name])return{end:transEndEventNames[name]};return!1}$.fn.emulateTransitionEnd=function(duration){var called=!1,$el=this;$(this).one("bsTransitionEnd",function(){called=!0});var callback=function(){called||$($el).trigger($.support.transition.end)};return setTimeout(callback,duration),this},$(function(){$.support.transition=transitionEnd(),$.support.transition&&($.event.special.bsTransitionEnd={bindType:$.support.transition.end,delegateType:$.support.transition.end,handle:function(e){return $(e.target).is(this)?e.handleObj.handler.apply(this,arguments):void 0}})})}(jQuery),/* ========================================================================
 * Bootstrap: scrollspy.js v3.2.0
 * http://getbootstrap.com/javascript/#scrollspy
 * ========================================================================
 * Copyright 2011-2014 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */
+function($){"use strict";function ScrollSpy(element,options){var process=$.proxy(this.process,this);this.$body=$("body"),this.$scrollElement=$(element).is("body")?$(window):$(element),this.options=$.extend({},ScrollSpy.DEFAULTS,options),this.selector=(this.options.target||"")+" .nav li > a",this.offsets=[],this.targets=[],this.activeTarget=null,this.scrollHeight=0,this.$scrollElement.on("scroll.bs.scrollspy",process),this.refresh(),this.process()}function Plugin(option){return this.each(function(){var $this=$(this),data=$this.data("bs.scrollspy"),options="object"==typeof option&&option;data||$this.data("bs.scrollspy",data=new ScrollSpy(this,options)),"string"==typeof option&&data[option]()})}ScrollSpy.VERSION="3.2.0",ScrollSpy.DEFAULTS={offset:10},ScrollSpy.prototype.getScrollHeight=function(){return this.$scrollElement[0].scrollHeight||Math.max(this.$body[0].scrollHeight,document.documentElement.scrollHeight)},ScrollSpy.prototype.refresh=function(){var offsetMethod="offset",offsetBase=0;$.isWindow(this.$scrollElement[0])||(offsetMethod="position",offsetBase=this.$scrollElement.scrollTop()),this.offsets=[],this.targets=[],this.scrollHeight=this.getScrollHeight();var self=this;this.$body.find(this.selector).map(function(){var $el=$(this),href=$el.data("target")||$el.attr("href"),$href=/^#./.test(href)&&$(href);return $href&&$href.length&&$href.is(":visible")&&[[$href[offsetMethod]().top+offsetBase,href]]||null}).sort(function(a,b){return a[0]-b[0]}).each(function(){self.offsets.push(this[0]),self.targets.push(this[1])})},ScrollSpy.prototype.process=function(){var i,scrollTop=this.$scrollElement.scrollTop()+this.options.offset,scrollHeight=this.getScrollHeight(),maxScroll=this.options.offset+scrollHeight-this.$scrollElement.height(),offsets=this.offsets,targets=this.targets,activeTarget=this.activeTarget;if(this.scrollHeight!=scrollHeight&&this.refresh(),scrollTop>=maxScroll)return activeTarget!=(i=targets[targets.length-1])&&this.activate(i);if(activeTarget&&scrollTop<=offsets[0])return activeTarget!=(i=targets[0])&&this.activate(i);for(i=offsets.length;i--;)activeTarget!=targets[i]&&scrollTop>=offsets[i]&&(!offsets[i+1]||scrollTop<=offsets[i+1])&&this.activate(targets[i])},ScrollSpy.prototype.activate=function(target){this.activeTarget=target,$(this.selector).parentsUntil(this.options.target,".active").removeClass("active");var selector=this.selector+'[data-target="'+target+'"],'+this.selector+'[href="'+target+'"]',active=$(selector).parents("li").addClass("active");active.parent(".dropdown-menu").length&&(active=active.closest("li.dropdown").addClass("active")),active.trigger("activate.bs.scrollspy")};var old=$.fn.scrollspy;$.fn.scrollspy=Plugin,$.fn.scrollspy.Constructor=ScrollSpy,$.fn.scrollspy.noConflict=function(){return $.fn.scrollspy=old,this},$(window).on("load.bs.scrollspy.data-api",function(){$('[data-spy="scroll"]').each(function(){var $spy=$(this);Plugin.call($spy,$spy.data())})})}(jQuery),/* ========================================================================
 * Bootstrap: modal.js v3.2.0
 * http://getbootstrap.com/javascript/#modals
 * ========================================================================
 * Copyright 2011-2014 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */
+function($){"use strict";function Plugin(option,_relatedTarget){return this.each(function(){var $this=$(this),data=$this.data("bs.modal"),options=$.extend({},Modal.DEFAULTS,$this.data(),"object"==typeof option&&option);data||$this.data("bs.modal",data=new Modal(this,options)),"string"==typeof option?data[option](_relatedTarget):options.show&&data.show(_relatedTarget)})}var Modal=function(element,options){this.options=options,this.$body=$(document.body),this.$element=$(element),this.$backdrop=this.isShown=null,this.scrollbarWidth=0,this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,$.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))};Modal.VERSION="3.2.0",Modal.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},Modal.prototype.toggle=function(_relatedTarget){return this.isShown?this.hide():this.show(_relatedTarget)},Modal.prototype.show=function(_relatedTarget){var that=this,e=$.Event("show.bs.modal",{relatedTarget:_relatedTarget});this.$element.trigger(e),this.isShown||e.isDefaultPrevented()||(this.isShown=!0,this.checkScrollbar(),this.$body.addClass("modal-open"),this.setScrollbar(),this.escape(),this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',$.proxy(this.hide,this)),this.backdrop(function(){var transition=$.support.transition&&that.$element.hasClass("fade");that.$element.parent().length||that.$element.appendTo(that.$body),that.$element.show().scrollTop(0),transition&&that.$element[0].offsetWidth,that.$element.addClass("in").attr("aria-hidden",!1),that.enforceFocus();var e=$.Event("shown.bs.modal",{relatedTarget:_relatedTarget});transition?that.$element.find(".modal-dialog").one("bsTransitionEnd",function(){that.$element.trigger("focus").trigger(e)}).emulateTransitionEnd(300):that.$element.trigger("focus").trigger(e)}))},Modal.prototype.hide=function(e){e&&e.preventDefault(),e=$.Event("hide.bs.modal"),this.$element.trigger(e),this.isShown&&!e.isDefaultPrevented()&&(this.isShown=!1,this.$body.removeClass("modal-open"),this.resetScrollbar(),this.escape(),$(document).off("focusin.bs.modal"),this.$element.removeClass("in").attr("aria-hidden",!0).off("click.dismiss.bs.modal"),$.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",$.proxy(this.hideModal,this)).emulateTransitionEnd(300):this.hideModal())},Modal.prototype.enforceFocus=function(){$(document).off("focusin.bs.modal").on("focusin.bs.modal",$.proxy(function(e){this.$element[0]===e.target||this.$element.has(e.target).length||this.$element.trigger("focus")},this))},Modal.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keyup.dismiss.bs.modal",$.proxy(function(e){27==e.which&&this.hide()},this)):this.isShown||this.$element.off("keyup.dismiss.bs.modal")},Modal.prototype.hideModal=function(){var that=this;this.$element.hide(),this.backdrop(function(){that.$element.trigger("hidden.bs.modal")})},Modal.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},Modal.prototype.backdrop=function(callback){var that=this,animate=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var doAnimate=$.support.transition&&animate;if(this.$backdrop=$('<div class="modal-backdrop '+animate+'" />').appendTo(this.$body),this.$element.on("click.dismiss.bs.modal",$.proxy(function(e){e.target===e.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus.call(this.$element[0]):this.hide.call(this))},this)),doAnimate&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!callback)return;doAnimate?this.$backdrop.one("bsTransitionEnd",callback).emulateTransitionEnd(150):callback()}else if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass("in");var callbackRemove=function(){that.removeBackdrop(),callback&&callback()};$.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one("bsTransitionEnd",callbackRemove).emulateTransitionEnd(150):callbackRemove()}else callback&&callback()},Modal.prototype.checkScrollbar=function(){document.body.clientWidth>=window.innerWidth||(this.scrollbarWidth=this.scrollbarWidth||this.measureScrollbar())},Modal.prototype.setScrollbar=function(){var bodyPad=parseInt(this.$body.css("padding-right")||0,10);this.scrollbarWidth&&this.$body.css("padding-right",bodyPad+this.scrollbarWidth)},Modal.prototype.resetScrollbar=function(){this.$body.css("padding-right","")},Modal.prototype.measureScrollbar=function(){var scrollDiv=document.createElement("div");scrollDiv.className="modal-scrollbar-measure",this.$body.append(scrollDiv);var scrollbarWidth=scrollDiv.offsetWidth-scrollDiv.clientWidth;return this.$body[0].removeChild(scrollDiv),scrollbarWidth};var old=$.fn.modal;$.fn.modal=Plugin,$.fn.modal.Constructor=Modal,$.fn.modal.noConflict=function(){return $.fn.modal=old,this},$(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(e){var $this=$(this),href=$this.attr("href"),$target=$($this.attr("data-target")||href&&href.replace(/.*(?=#[^\s]+$)/,"")),option=$target.data("bs.modal")?"toggle":$.extend({remote:!/#/.test(href)&&href},$target.data(),$this.data());$this.is("a")&&e.preventDefault(),$target.one("show.bs.modal",function(showEvent){showEvent.isDefaultPrevented()||$target.one("hidden.bs.modal",function(){$this.is(":visible")&&$this.trigger("focus")})}),Plugin.call($target,option,this)})}(jQuery),/* ========================================================================
 * Bootstrap: tooltip.js v3.2.0
 * http://getbootstrap.com/javascript/#tooltip
 * Inspired by the original jQuery.tipsy by Jason Frame
 * ========================================================================
 * Copyright 2011-2014 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */
+function($){"use strict";function Plugin(option){return this.each(function(){var $this=$(this),data=$this.data("bs.tooltip"),options="object"==typeof option&&option;(data||"destroy"!=option)&&(data||$this.data("bs.tooltip",data=new Tooltip(this,options)),"string"==typeof option&&data[option]())})}var Tooltip=function(element,options){this.type=this.options=this.enabled=this.timeout=this.hoverState=this.$element=null,this.init("tooltip",element,options)};Tooltip.VERSION="3.2.0",Tooltip.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1,viewport:{selector:"body",padding:0}},Tooltip.prototype.init=function(type,element,options){this.enabled=!0,this.type=type,this.$element=$(element),this.options=this.getOptions(options),this.$viewport=this.options.viewport&&$(this.options.viewport.selector||this.options.viewport);for(var triggers=this.options.trigger.split(" "),i=triggers.length;i--;){var trigger=triggers[i];if("click"==trigger)this.$element.on("click."+this.type,this.options.selector,$.proxy(this.toggle,this));else if("manual"!=trigger){var eventIn="hover"==trigger?"mouseenter":"focusin",eventOut="hover"==trigger?"mouseleave":"focusout";this.$element.on(eventIn+"."+this.type,this.options.selector,$.proxy(this.enter,this)),this.$element.on(eventOut+"."+this.type,this.options.selector,$.proxy(this.leave,this))}}this.options.selector?this._options=$.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},Tooltip.prototype.getDefaults=function(){return Tooltip.DEFAULTS},Tooltip.prototype.getOptions=function(options){return options=$.extend({},this.getDefaults(),this.$element.data(),options),options.delay&&"number"==typeof options.delay&&(options.delay={show:options.delay,hide:options.delay}),options},Tooltip.prototype.getDelegateOptions=function(){var options={},defaults=this.getDefaults();return this._options&&$.each(this._options,function(key,value){defaults[key]!=value&&(options[key]=value)}),options},Tooltip.prototype.enter=function(obj){var self=obj instanceof this.constructor?obj:$(obj.currentTarget).data("bs."+this.type);return self||(self=new this.constructor(obj.currentTarget,this.getDelegateOptions()),$(obj.currentTarget).data("bs."+this.type,self)),clearTimeout(self.timeout),self.hoverState="in",self.options.delay&&self.options.delay.show?(self.timeout=setTimeout(function(){"in"==self.hoverState&&self.show()},self.options.delay.show),void 0):self.show()},Tooltip.prototype.leave=function(obj){var self=obj instanceof this.constructor?obj:$(obj.currentTarget).data("bs."+this.type);return self||(self=new this.constructor(obj.currentTarget,this.getDelegateOptions()),$(obj.currentTarget).data("bs."+this.type,self)),clearTimeout(self.timeout),self.hoverState="out",self.options.delay&&self.options.delay.hide?(self.timeout=setTimeout(function(){"out"==self.hoverState&&self.hide()},self.options.delay.hide),void 0):self.hide()},Tooltip.prototype.show=function(){var e=$.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){this.$element.trigger(e);var inDom=$.contains(document.documentElement,this.$element[0]);if(e.isDefaultPrevented()||!inDom)return;var that=this,$tip=this.tip(),tipId=this.getUID(this.type);this.setContent(),$tip.attr("id",tipId),this.$element.attr("aria-describedby",tipId),this.options.animation&&$tip.addClass("fade");var placement="function"==typeof this.options.placement?this.options.placement.call(this,$tip[0],this.$element[0]):this.options.placement,autoToken=/\s?auto?\s?/i,autoPlace=autoToken.test(placement);autoPlace&&(placement=placement.replace(autoToken,"")||"top"),$tip.detach().css({top:0,left:0,display:"block"}).addClass(placement).data("bs."+this.type,this),this.options.container?$tip.appendTo(this.options.container):$tip.insertAfter(this.$element);var pos=this.getPosition(),actualWidth=$tip[0].offsetWidth,actualHeight=$tip[0].offsetHeight;if(autoPlace){var orgPlacement=placement,$parent=this.$element.parent(),parentDim=this.getPosition($parent);placement="bottom"==placement&&pos.top+pos.height+actualHeight-parentDim.scroll>parentDim.height?"top":"top"==placement&&pos.top-parentDim.scroll-actualHeight<0?"bottom":"right"==placement&&pos.right+actualWidth>parentDim.width?"left":"left"==placement&&pos.left-actualWidth<parentDim.left?"right":placement,$tip.removeClass(orgPlacement).addClass(placement)}var calculatedOffset=this.getCalculatedOffset(placement,pos,actualWidth,actualHeight);this.applyPlacement(calculatedOffset,placement);var complete=function(){that.$element.trigger("shown.bs."+that.type),that.hoverState=null};$.support.transition&&this.$tip.hasClass("fade")?$tip.one("bsTransitionEnd",complete).emulateTransitionEnd(150):complete()}},Tooltip.prototype.applyPlacement=function(offset,placement){var $tip=this.tip(),width=$tip[0].offsetWidth,height=$tip[0].offsetHeight,marginTop=parseInt($tip.css("margin-top"),10),marginLeft=parseInt($tip.css("margin-left"),10);isNaN(marginTop)&&(marginTop=0),isNaN(marginLeft)&&(marginLeft=0),offset.top=offset.top+marginTop,offset.left=offset.left+marginLeft,$.offset.setOffset($tip[0],$.extend({using:function(props){$tip.css({top:Math.round(props.top),left:Math.round(props.left)})}},offset),0),$tip.addClass("in");var actualWidth=$tip[0].offsetWidth,actualHeight=$tip[0].offsetHeight;"top"==placement&&actualHeight!=height&&(offset.top=offset.top+height-actualHeight);var delta=this.getViewportAdjustedDelta(placement,offset,actualWidth,actualHeight);delta.left?offset.left+=delta.left:offset.top+=delta.top;var arrowDelta=delta.left?2*delta.left-width+actualWidth:2*delta.top-height+actualHeight,arrowPosition=delta.left?"left":"top",arrowOffsetPosition=delta.left?"offsetWidth":"offsetHeight";$tip.offset(offset),this.replaceArrow(arrowDelta,$tip[0][arrowOffsetPosition],arrowPosition)},Tooltip.prototype.replaceArrow=function(delta,dimension,position){this.arrow().css(position,delta?50*(1-delta/dimension)+"%":"")},Tooltip.prototype.setContent=function(){var $tip=this.tip(),title=this.getTitle();$tip.find(".tooltip-inner")[this.options.html?"html":"text"](title),$tip.removeClass("fade in top bottom left right")},Tooltip.prototype.hide=function(){function complete(){"in"!=that.hoverState&&$tip.detach(),that.$element.trigger("hidden.bs."+that.type)}var that=this,$tip=this.tip(),e=$.Event("hide.bs."+this.type);return this.$element.removeAttr("aria-describedby"),this.$element.trigger(e),e.isDefaultPrevented()?void 0:($tip.removeClass("in"),$.support.transition&&this.$tip.hasClass("fade")?$tip.one("bsTransitionEnd",complete).emulateTransitionEnd(150):complete(),this.hoverState=null,this)},Tooltip.prototype.fixTitle=function(){var $e=this.$element;($e.attr("title")||"string"!=typeof $e.attr("data-original-title"))&&$e.attr("data-original-title",$e.attr("title")||"").attr("title","")},Tooltip.prototype.hasContent=function(){return this.getTitle()},Tooltip.prototype.getPosition=function($element){$element=$element||this.$element;var el=$element[0],isBody="BODY"==el.tagName;return $.extend({},"function"==typeof el.getBoundingClientRect?el.getBoundingClientRect():null,{scroll:isBody?document.documentElement.scrollTop||document.body.scrollTop:$element.scrollTop(),width:isBody?$(window).width():$element.outerWidth(),height:isBody?$(window).height():$element.outerHeight()},isBody?{top:0,left:0}:$element.offset())},Tooltip.prototype.getCalculatedOffset=function(placement,pos,actualWidth,actualHeight){return"bottom"==placement?{top:pos.top+pos.height,left:pos.left+pos.width/2-actualWidth/2}:"top"==placement?{top:pos.top-actualHeight,left:pos.left+pos.width/2-actualWidth/2}:"left"==placement?{top:pos.top+pos.height/2-actualHeight/2,left:pos.left-actualWidth}:{top:pos.top+pos.height/2-actualHeight/2,left:pos.left+pos.width}},Tooltip.prototype.getViewportAdjustedDelta=function(placement,pos,actualWidth,actualHeight){var delta={top:0,left:0};if(!this.$viewport)return delta;var viewportPadding=this.options.viewport&&this.options.viewport.padding||0,viewportDimensions=this.getPosition(this.$viewport);if(/right|left/.test(placement)){var topEdgeOffset=pos.top-viewportPadding-viewportDimensions.scroll,bottomEdgeOffset=pos.top+viewportPadding-viewportDimensions.scroll+actualHeight;topEdgeOffset<viewportDimensions.top?delta.top=viewportDimensions.top-topEdgeOffset:bottomEdgeOffset>viewportDimensions.top+viewportDimensions.height&&(delta.top=viewportDimensions.top+viewportDimensions.height-bottomEdgeOffset)}else{var leftEdgeOffset=pos.left-viewportPadding,rightEdgeOffset=pos.left+viewportPadding+actualWidth;leftEdgeOffset<viewportDimensions.left?delta.left=viewportDimensions.left-leftEdgeOffset:rightEdgeOffset>viewportDimensions.width&&(delta.left=viewportDimensions.left+viewportDimensions.width-rightEdgeOffset)}return delta},Tooltip.prototype.getTitle=function(){var title,$e=this.$element,o=this.options;return title=$e.attr("data-original-title")||("function"==typeof o.title?o.title.call($e[0]):o.title)},Tooltip.prototype.getUID=function(prefix){do prefix+=~~(1e6*Math.random());while(document.getElementById(prefix));return prefix},Tooltip.prototype.tip=function(){return this.$tip=this.$tip||$(this.options.template)},Tooltip.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},Tooltip.prototype.validate=function(){this.$element[0].parentNode||(this.hide(),this.$element=null,this.options=null)},Tooltip.prototype.enable=function(){this.enabled=!0},Tooltip.prototype.disable=function(){this.enabled=!1},Tooltip.prototype.toggleEnabled=function(){this.enabled=!this.enabled},Tooltip.prototype.toggle=function(e){var self=this;e&&(self=$(e.currentTarget).data("bs."+this.type),self||(self=new this.constructor(e.currentTarget,this.getDelegateOptions()),$(e.currentTarget).data("bs."+this.type,self))),self.tip().hasClass("in")?self.leave(self):self.enter(self)},Tooltip.prototype.destroy=function(){clearTimeout(this.timeout),this.hide().$element.off("."+this.type).removeData("bs."+this.type)};var old=$.fn.tooltip;$.fn.tooltip=Plugin,$.fn.tooltip.Constructor=Tooltip,$.fn.tooltip.noConflict=function(){return $.fn.tooltip=old,this}}(jQuery),/* ========================================================================
 * Bootstrap: popover.js v3.2.0
 * http://getbootstrap.com/javascript/#popovers
 * ========================================================================
 * Copyright 2011-2014 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */
+function($){"use strict";function Plugin(option){return this.each(function(){var $this=$(this),data=$this.data("bs.popover"),options="object"==typeof option&&option;(data||"destroy"!=option)&&(data||$this.data("bs.popover",data=new Popover(this,options)),"string"==typeof option&&data[option]())})}var Popover=function(element,options){this.init("popover",element,options)};if(!$.fn.tooltip)throw new Error("Popover requires tooltip.js");Popover.VERSION="3.2.0",Popover.DEFAULTS=$.extend({},$.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),Popover.prototype=$.extend({},$.fn.tooltip.Constructor.prototype),Popover.prototype.constructor=Popover,Popover.prototype.getDefaults=function(){return Popover.DEFAULTS},Popover.prototype.setContent=function(){var $tip=this.tip(),title=this.getTitle(),content=this.getContent();$tip.find(".popover-title")[this.options.html?"html":"text"](title),$tip.find(".popover-content").empty()[this.options.html?"string"==typeof content?"html":"append":"text"](content),$tip.removeClass("fade top bottom left right in"),$tip.find(".popover-title").html()||$tip.find(".popover-title").hide()},Popover.prototype.hasContent=function(){return this.getTitle()||this.getContent()},Popover.prototype.getContent=function(){var $e=this.$element,o=this.options;return $e.attr("data-content")||("function"==typeof o.content?o.content.call($e[0]):o.content)},Popover.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")},Popover.prototype.tip=function(){return this.$tip||(this.$tip=$(this.options.template)),this.$tip};var old=$.fn.popover;$.fn.popover=Plugin,$.fn.popover.Constructor=Popover,$.fn.popover.noConflict=function(){return $.fn.popover=old,this}}(jQuery),/* ========================================================================
 * bootstrap-switch - v3.0.2
 * http://www.bootstrap-switch.org
 * ========================================================================
 * Copyright 2012-2013 Mattia Larentis
 *
 * ========================================================================
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * ========================================================================
 */
function(){var t=[].slice;!function(e,s){"use strict";var o;return o=function(){function t(t,s){null==s&&(s={}),this.$element=e(t),this.options=e.extend({},e.fn.bootstrapSwitch.defaults,{state:this.$element.is(":checked"),size:this.$element.data("size"),animate:this.$element.data("animate"),disabled:this.$element.is(":disabled"),readonly:this.$element.is("[readonly]"),indeterminate:this.$element.data("indeterminate"),onColor:this.$element.data("on-color"),offColor:this.$element.data("off-color"),onText:this.$element.data("on-text"),offText:this.$element.data("off-text"),labelText:this.$element.data("label-text"),baseClass:this.$element.data("base-class"),wrapperClass:this.$element.data("wrapper-class"),radioAllOff:this.$element.data("radio-all-off")},s),this.$wrapper=e("<div>",{"class":function(t){return function(){var e;return e=[""+t.options.baseClass].concat(t._getClasses(t.options.wrapperClass)),e.push(t.options.state?""+t.options.baseClass+"-on":""+t.options.baseClass+"-off"),null!=t.options.size&&e.push(""+t.options.baseClass+"-"+t.options.size),t.options.animate&&e.push(""+t.options.baseClass+"-animate"),t.options.disabled&&e.push(""+t.options.baseClass+"-disabled"),t.options.readonly&&e.push(""+t.options.baseClass+"-readonly"),t.options.indeterminate&&e.push(""+t.options.baseClass+"-indeterminate"),t.$element.attr("id")&&e.push(""+t.options.baseClass+"-id-"+t.$element.attr("id")),e.join(" ")}}(this)()}),this.$container=e("<div>",{"class":""+this.options.baseClass+"-container"}),this.$on=e("<span>",{html:this.options.onText,"class":""+this.options.baseClass+"-handle-on "+this.options.baseClass+"-"+this.options.onColor}),this.$off=e("<span>",{html:this.options.offText,"class":""+this.options.baseClass+"-handle-off "+this.options.baseClass+"-"+this.options.offColor}),this.$label=e("<label>",{html:this.options.labelText,"class":""+this.options.baseClass+"-label"}),this.options.indeterminate&&this.$element.prop("indeterminate",!0),this.$element.on("init.bootstrapSwitch",function(e){return function(){return e.options.onInit.apply(t,arguments)}}(this)),this.$element.on("switchChange.bootstrapSwitch",function(e){return function(){return e.options.onSwitchChange.apply(t,arguments)}}(this)),this.$container=this.$element.wrap(this.$container).parent(),this.$wrapper=this.$container.wrap(this.$wrapper).parent(),this.$element.before(this.$on).before(this.$label).before(this.$off).trigger("init.bootstrapSwitch"),this._elementHandlers(),this._handleHandlers(),this._labelHandlers(),this._formHandler()}return t.prototype._constructor=t,t.prototype.state=function(t,e){return"undefined"==typeof t?this.options.state:this.options.disabled||this.options.readonly||this.options.indeterminate?this.$element:this.options.state&&!this.options.radioAllOff&&this.$element.is(":radio")?this.$element:(t=!!t,this.$element.prop("checked",t).trigger("change.bootstrapSwitch",e),this.$element)},t.prototype.toggleState=function(t){return this.options.disabled||this.options.readonly||this.options.indeterminate?this.$element:this.$element.prop("checked",!this.options.state).trigger("change.bootstrapSwitch",t)},t.prototype.size=function(t){return"undefined"==typeof t?this.options.size:(null!=this.options.size&&this.$wrapper.removeClass(""+this.options.baseClass+"-"+this.options.size),t&&this.$wrapper.addClass(""+this.options.baseClass+"-"+t),this.options.size=t,this.$element)},t.prototype.animate=function(t){return"undefined"==typeof t?this.options.animate:(t=!!t,this.$wrapper[t?"addClass":"removeClass"](""+this.options.baseClass+"-animate"),this.options.animate=t,this.$element)},t.prototype.disabled=function(t){return"undefined"==typeof t?this.options.disabled:(t=!!t,this.$wrapper[t?"addClass":"removeClass"](""+this.options.baseClass+"-disabled"),this.$element.prop("disabled",t),this.options.disabled=t,this.$element)},t.prototype.toggleDisabled=function(){return this.$element.prop("disabled",!this.options.disabled),this.$wrapper.toggleClass(""+this.options.baseClass+"-disabled"),this.options.disabled=!this.options.disabled,this.$element},t.prototype.readonly=function(t){return"undefined"==typeof t?this.options.readonly:(t=!!t,this.$wrapper[t?"addClass":"removeClass"](""+this.options.baseClass+"-readonly"),this.$element.prop("readonly",t),this.options.readonly=t,this.$element)},t.prototype.toggleReadonly=function(){return this.$element.prop("readonly",!this.options.readonly),this.$wrapper.toggleClass(""+this.options.baseClass+"-readonly"),this.options.readonly=!this.options.readonly,this.$element},t.prototype.indeterminate=function(t){return"undefined"==typeof t?this.options.indeterminate:(t=!!t,this.$wrapper[t?"addClass":"removeClass"](""+this.options.baseClass+"-indeterminate"),this.$element.prop("indeterminate",t),this.options.indeterminate=t,this.$element)},t.prototype.toggleIndeterminate=function(){return this.$element.prop("indeterminate",!this.options.indeterminate),this.$wrapper.toggleClass(""+this.options.baseClass+"-indeterminate"),this.options.indeterminate=!this.options.indeterminate,this.$element},t.prototype.onColor=function(t){var e;return e=this.options.onColor,"undefined"==typeof t?e:(null!=e&&this.$on.removeClass(""+this.options.baseClass+"-"+e),this.$on.addClass(""+this.options.baseClass+"-"+t),this.options.onColor=t,this.$element)},t.prototype.offColor=function(t){var e;return e=this.options.offColor,"undefined"==typeof t?e:(null!=e&&this.$off.removeClass(""+this.options.baseClass+"-"+e),this.$off.addClass(""+this.options.baseClass+"-"+t),this.options.offColor=t,this.$element)},t.prototype.onText=function(t){return"undefined"==typeof t?this.options.onText:(this.$on.html(t),this.options.onText=t,this.$element)},t.prototype.offText=function(t){return"undefined"==typeof t?this.options.offText:(this.$off.html(t),this.options.offText=t,this.$element)},t.prototype.labelText=function(t){return"undefined"==typeof t?this.options.labelText:(this.$label.html(t),this.options.labelText=t,this.$element)},t.prototype.baseClass=function(){return this.options.baseClass},t.prototype.wrapperClass=function(t){return"undefined"==typeof t?this.options.wrapperClass:(t||(t=e.fn.bootstrapSwitch.defaults.wrapperClass),this.$wrapper.removeClass(this._getClasses(this.options.wrapperClass).join(" ")),this.$wrapper.addClass(this._getClasses(t).join(" ")),this.options.wrapperClass=t,this.$element)},t.prototype.radioAllOff=function(t){return"undefined"==typeof t?this.options.radioAllOff:(this.options.radioAllOff=t,this.$element)},t.prototype.onInit=function(t){return"undefined"==typeof t?this.options.onInit:(t||(t=e.fn.bootstrapSwitch.defaults.onInit),this.options.onInit=t,this.$element)},t.prototype.onSwitchChange=function(t){return"undefined"==typeof t?this.options.onSwitchChange:(t||(t=e.fn.bootstrapSwitch.defaults.onSwitchChange),this.options.onSwitchChange=t,this.$element)},t.prototype.destroy=function(){var t;return t=this.$element.closest("form"),t.length&&t.off("reset.bootstrapSwitch").removeData("bootstrap-switch"),this.$container.children().not(this.$element).remove(),this.$element.unwrap().unwrap().off(".bootstrapSwitch").removeData("bootstrap-switch"),this.$element},t.prototype._elementHandlers=function(){return this.$element.on({"change.bootstrapSwitch":function(t){return function(s,o){var n;return s.preventDefault(),s.stopImmediatePropagation(),n=t.$element.is(":checked"),n!==t.options.state?(t.options.state=n,t.$wrapper.removeClass(n?""+t.options.baseClass+"-off":""+t.options.baseClass+"-on").addClass(n?""+t.options.baseClass+"-on":""+t.options.baseClass+"-off"),o?void 0:(t.$element.is(":radio")&&e("[name='"+t.$element.attr("name")+"']").not(t.$element).prop("checked",!1).trigger("change.bootstrapSwitch",!0),t.$element.trigger("switchChange.bootstrapSwitch",[n]))):void 0}}(this),"focus.bootstrapSwitch":function(t){return function(e){return e.preventDefault(),t.$wrapper.addClass(""+t.options.baseClass+"-focused")}}(this),"blur.bootstrapSwitch":function(t){return function(e){return e.preventDefault(),t.$wrapper.removeClass(""+t.options.baseClass+"-focused")}}(this),"keydown.bootstrapSwitch":function(t){return function(e){if(e.which&&!t.options.disabled&&!t.options.readonly&&!t.options.indeterminate)switch(e.which){case 37:return e.preventDefault(),e.stopImmediatePropagation(),t.state(!1);case 39:return e.preventDefault(),e.stopImmediatePropagation(),t.state(!0)}}}(this)})},t.prototype._handleHandlers=function(){return this.$on.on("click.bootstrapSwitch",function(t){return function(){return t.state(!1),t.$element.trigger("focus.bootstrapSwitch")}}(this)),this.$off.on("click.bootstrapSwitch",function(t){return function(){return t.state(!0),t.$element.trigger("focus.bootstrapSwitch")}}(this))},t.prototype._labelHandlers=function(){return this.$label.on({"mousemove.bootstrapSwitch touchmove.bootstrapSwitch":function(t){return function(e){var s,o,n,i;return t.isLabelDragging?(e.preventDefault(),t.isLabelDragged=!0,o=e.pageX||e.originalEvent.touches[0].pageX,n=(o-t.$wrapper.offset().left)/t.$wrapper.width()*100,s=25,i=75,t.options.animate&&t.$wrapper.removeClass(""+t.options.baseClass+"-animate"),s>n?n=s:n>i&&(n=i),t.$container.css("margin-left",""+(n-i)+"%"),t.$element.trigger("focus.bootstrapSwitch")):void 0}}(this),"mousedown.bootstrapSwitch touchstart.bootstrapSwitch":function(t){return function(e){return t.isLabelDragging||t.options.disabled||t.options.readonly||t.options.indeterminate?void 0:(e.preventDefault(),t.isLabelDragging=!0,t.$element.trigger("focus.bootstrapSwitch"))}}(this),"mouseup.bootstrapSwitch touchend.bootstrapSwitch":function(t){return function(e){return t.isLabelDragging?(e.preventDefault(),t.isLabelDragged?(t.isLabelDragged=!1,t.state(parseInt(t.$container.css("margin-left"),10)>-(t.$container.width()/6)),t.options.animate&&t.$wrapper.addClass(""+t.options.baseClass+"-animate"),t.$container.css("margin-left","")):t.state(!t.options.state),t.isLabelDragging=!1):void 0}}(this),"mouseleave.bootstrapSwitch":function(t){return function(){return t.$label.trigger("mouseup.bootstrapSwitch")}}(this)})},t.prototype._formHandler=function(){var t;return t=this.$element.closest("form"),t.data("bootstrap-switch")?void 0:t.on("reset.bootstrapSwitch",function(){return s.setTimeout(function(){return t.find("input").filter(function(){return e(this).data("bootstrap-switch")}).each(function(){return e(this).bootstrapSwitch("state",this.checked)})},1)}).data("bootstrap-switch",!0)},t.prototype._getClasses=function(t){var s,o,n,i;if(!e.isArray(t))return[""+this.options.baseClass+"-"+t];for(o=[],n=0,i=t.length;i>n;n++)s=t[n],o.push(""+this.options.baseClass+"-"+s);return o},t}(),e.fn.bootstrapSwitch=function(){var s,n,i;return n=arguments[0],s=2<=arguments.length?t.call(arguments,1):[],i=this,this.each(function(){var t,a;return t=e(this),a=t.data("bootstrap-switch"),a||t.data("bootstrap-switch",a=new o(this,n)),"string"==typeof n?i=a[n].apply(a,s):void 0}),i},e.fn.bootstrapSwitch.Constructor=o,e.fn.bootstrapSwitch.defaults={state:!0,size:null,animate:!0,disabled:!1,readonly:!1,indeterminate:!1,onColor:"primary",offColor:"default",onText:"ON",offText:"OFF",labelText:"&nbsp;",baseClass:"bootstrap-switch",wrapperClass:"wrapper",radioAllOff:!1,onInit:function(){},onSwitchChange:function(){}}}(window.jQuery,window)}.call(this),function(undefined){function defaultParsingFlags(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1}}function padToken(func,count){return function(a){return leftZeroFill(func.call(this,a),count)}}function ordinalizeToken(func,period){return function(a){return this.lang().ordinal(func.call(this,a),period)}}function Language(){}function Moment(config){checkOverflow(config),extend(this,config)}function Duration(duration){var normalizedInput=normalizeObjectUnits(duration),years=normalizedInput.year||0,months=normalizedInput.month||0,weeks=normalizedInput.week||0,days=normalizedInput.day||0,hours=normalizedInput.hour||0,minutes=normalizedInput.minute||0,seconds=normalizedInput.second||0,milliseconds=normalizedInput.millisecond||0;this._milliseconds=+milliseconds+1e3*seconds+6e4*minutes+36e5*hours,this._days=+days+7*weeks,this._months=+months+12*years,this._data={},this._bubble()}function extend(a,b){for(var i in b)b.hasOwnProperty(i)&&(a[i]=b[i]);return b.hasOwnProperty("toString")&&(a.toString=b.toString),b.hasOwnProperty("valueOf")&&(a.valueOf=b.valueOf),a}function cloneMoment(m){var i,result={};for(i in m)m.hasOwnProperty(i)&&momentProperties.hasOwnProperty(i)&&(result[i]=m[i]);return result}function absRound(number){return 0>number?Math.ceil(number):Math.floor(number)}function leftZeroFill(number,targetLength,forceSign){for(var output=""+Math.abs(number),sign=number>=0;output.length<targetLength;)output="0"+output;return(sign?forceSign?"+":"":"-")+output}function addOrSubtractDurationFromMoment(mom,duration,isAdding,ignoreUpdateOffset){var minutes,hours,milliseconds=duration._milliseconds,days=duration._days,months=duration._months;milliseconds&&mom._d.setTime(+mom._d+milliseconds*isAdding),(days||months)&&(minutes=mom.minute(),hours=mom.hour()),days&&mom.date(mom.date()+days*isAdding),months&&mom.month(mom.month()+months*isAdding),milliseconds&&!ignoreUpdateOffset&&moment.updateOffset(mom),(days||months)&&(mom.minute(minutes),mom.hour(hours))}function isArray(input){return"[object Array]"===Object.prototype.toString.call(input)}function isDate(input){return"[object Date]"===Object.prototype.toString.call(input)||input instanceof Date}function compareArrays(array1,array2,dontConvert){var i,len=Math.min(array1.length,array2.length),lengthDiff=Math.abs(array1.length-array2.length),diffs=0;for(i=0;len>i;i++)(dontConvert&&array1[i]!==array2[i]||!dontConvert&&toInt(array1[i])!==toInt(array2[i]))&&diffs++;return diffs+lengthDiff}function normalizeUnits(units){if(units){var lowered=units.toLowerCase().replace(/(.)s$/,"$1");units=unitAliases[units]||camelFunctions[lowered]||lowered}return units}function normalizeObjectUnits(inputObject){var normalizedProp,prop,normalizedInput={};for(prop in inputObject)inputObject.hasOwnProperty(prop)&&(normalizedProp=normalizeUnits(prop),normalizedProp&&(normalizedInput[normalizedProp]=inputObject[prop]));return normalizedInput}function makeList(field){var count,setter;if(0===field.indexOf("week"))count=7,setter="day";else{if(0!==field.indexOf("month"))return;count=12,setter="month"}moment[field]=function(format,index){var i,getter,method=moment.fn._lang[field],results=[];if("number"==typeof format&&(index=format,format=undefined),getter=function(i){var m=moment().utc().set(setter,i);return method.call(moment.fn._lang,m,format||"")},null!=index)return getter(index);for(i=0;count>i;i++)results.push(getter(i));return results}}function toInt(argumentForCoercion){var coercedNumber=+argumentForCoercion,value=0;return 0!==coercedNumber&&isFinite(coercedNumber)&&(value=coercedNumber>=0?Math.floor(coercedNumber):Math.ceil(coercedNumber)),value}function daysInMonth(year,month){return new Date(Date.UTC(year,month+1,0)).getUTCDate()}function daysInYear(year){return isLeapYear(year)?366:365}function isLeapYear(year){return year%4===0&&year%100!==0||year%400===0}function checkOverflow(m){var overflow;m._a&&-2===m._pf.overflow&&(overflow=m._a[MONTH]<0||m._a[MONTH]>11?MONTH:m._a[DATE]<1||m._a[DATE]>daysInMonth(m._a[YEAR],m._a[MONTH])?DATE:m._a[HOUR]<0||m._a[HOUR]>23?HOUR:m._a[MINUTE]<0||m._a[MINUTE]>59?MINUTE:m._a[SECOND]<0||m._a[SECOND]>59?SECOND:m._a[MILLISECOND]<0||m._a[MILLISECOND]>999?MILLISECOND:-1,m._pf._overflowDayOfYear&&(YEAR>overflow||overflow>DATE)&&(overflow=DATE),m._pf.overflow=overflow)}function isValid(m){return null==m._isValid&&(m._isValid=!isNaN(m._d.getTime())&&m._pf.overflow<0&&!m._pf.empty&&!m._pf.invalidMonth&&!m._pf.nullInput&&!m._pf.invalidFormat&&!m._pf.userInvalidated,m._strict&&(m._isValid=m._isValid&&0===m._pf.charsLeftOver&&0===m._pf.unusedTokens.length)),m._isValid}function normalizeLanguage(key){return key?key.toLowerCase().replace("_","-"):key}function makeAs(input,model){return model._isUTC?moment(input).zone(model._offset||0):moment(input).local()}function loadLang(key,values){return values.abbr=key,languages[key]||(languages[key]=new Language),languages[key].set(values),languages[key]}function unloadLang(key){delete languages[key]}function getLangDefinition(key){var j,lang,next,split,i=0,get=function(k){if(!languages[k]&&hasModule)try{require("./lang/"+k)}catch(e){}return languages[k]};if(!key)return moment.fn._lang;if(!isArray(key)){if(lang=get(key))return lang;key=[key]}for(;i<key.length;){for(split=normalizeLanguage(key[i]).split("-"),j=split.length,next=normalizeLanguage(key[i+1]),next=next?next.split("-"):null;j>0;){if(lang=get(split.slice(0,j).join("-")))return lang;if(next&&next.length>=j&&compareArrays(split,next,!0)>=j-1)break;j--}i++}return moment.fn._lang}function removeFormattingTokens(input){return input.match(/\[[\s\S]/)?input.replace(/^\[|\]$/g,""):input.replace(/\\/g,"")}function makeFormatFunction(format){var i,length,array=format.match(formattingTokens);for(i=0,length=array.length;length>i;i++)array[i]=formatTokenFunctions[array[i]]?formatTokenFunctions[array[i]]:removeFormattingTokens(array[i]);return function(mom){var output="";for(i=0;length>i;i++)output+=array[i]instanceof Function?array[i].call(mom,format):array[i];return output}}function formatMoment(m,format){return m.isValid()?(format=expandFormat(format,m.lang()),formatFunctions[format]||(formatFunctions[format]=makeFormatFunction(format)),formatFunctions[format](m)):m.lang().invalidDate()}function expandFormat(format,lang){function replaceLongDateFormatTokens(input){return lang.longDateFormat(input)||input}var i=5;for(localFormattingTokens.lastIndex=0;i>=0&&localFormattingTokens.test(format);)format=format.replace(localFormattingTokens,replaceLongDateFormatTokens),localFormattingTokens.lastIndex=0,i-=1;return format}function getParseRegexForToken(token,config){var a,strict=config._strict;switch(token){case"DDDD":return parseTokenThreeDigits;case"YYYY":case"GGGG":case"gggg":return strict?parseTokenFourDigits:parseTokenOneToFourDigits;case"Y":case"G":case"g":return parseTokenSignedNumber;case"YYYYYY":case"YYYYY":case"GGGGG":case"ggggg":return strict?parseTokenSixDigits:parseTokenOneToSixDigits;case"S":if(strict)return parseTokenOneDigit;case"SS":if(strict)return parseTokenTwoDigits;case"SSS":if(strict)return parseTokenThreeDigits;case"DDD":return parseTokenOneToThreeDigits;case"MMM":case"MMMM":case"dd":case"ddd":case"dddd":return parseTokenWord;case"a":case"A":return getLangDefinition(config._l)._meridiemParse;case"X":return parseTokenTimestampMs;case"Z":case"ZZ":return parseTokenTimezone;case"T":return parseTokenT;case"SSSS":return parseTokenDigits;case"MM":case"DD":case"YY":case"GG":case"gg":case"HH":case"hh":case"mm":case"ss":case"ww":case"WW":return strict?parseTokenTwoDigits:parseTokenOneOrTwoDigits;case"M":case"D":case"d":case"H":case"h":case"m":case"s":case"w":case"W":case"e":case"E":return parseTokenOneOrTwoDigits;default:return a=new RegExp(regexpEscape(unescapeFormat(token.replace("\\","")),"i"))}}function timezoneMinutesFromString(string){string=string||"";var possibleTzMatches=string.match(parseTokenTimezone)||[],tzChunk=possibleTzMatches[possibleTzMatches.length-1]||[],parts=(tzChunk+"").match(parseTimezoneChunker)||["-",0,0],minutes=+(60*parts[1])+toInt(parts[2]);return"+"===parts[0]?-minutes:minutes}function addTimeToArrayFromToken(token,input,config){var a,datePartArray=config._a;switch(token){case"M":case"MM":null!=input&&(datePartArray[MONTH]=toInt(input)-1);break;case"MMM":case"MMMM":a=getLangDefinition(config._l).monthsParse(input),null!=a?datePartArray[MONTH]=a:config._pf.invalidMonth=input;break;case"D":case"DD":null!=input&&(datePartArray[DATE]=toInt(input));break;case"DDD":case"DDDD":null!=input&&(config._dayOfYear=toInt(input));break;case"YY":datePartArray[YEAR]=toInt(input)+(toInt(input)>68?1900:2e3);break;case"YYYY":case"YYYYY":case"YYYYYY":datePartArray[YEAR]=toInt(input);break;case"a":case"A":config._isPm=getLangDefinition(config._l).isPM(input);break;case"H":case"HH":case"h":case"hh":datePartArray[HOUR]=toInt(input);break;case"m":case"mm":datePartArray[MINUTE]=toInt(input);break;case"s":case"ss":datePartArray[SECOND]=toInt(input);break;case"S":case"SS":case"SSS":case"SSSS":datePartArray[MILLISECOND]=toInt(1e3*("0."+input));break;case"X":config._d=new Date(1e3*parseFloat(input));break;case"Z":case"ZZ":config._useUTC=!0,config._tzm=timezoneMinutesFromString(input);break;case"w":case"ww":case"W":case"WW":case"d":case"dd":case"ddd":case"dddd":case"e":case"E":token=token.substr(0,1);case"gg":case"gggg":case"GG":case"GGGG":case"GGGGG":token=token.substr(0,2),input&&(config._w=config._w||{},config._w[token]=input)}}function dateFromConfig(config){var i,date,currentDate,yearToUse,fixYear,w,temp,lang,weekday,week,input=[];if(!config._d){for(currentDate=currentDateArray(config),config._w&&null==config._a[DATE]&&null==config._a[MONTH]&&(fixYear=function(val){var int_val=parseInt(val,10);return val?val.length<3?int_val>68?1900+int_val:2e3+int_val:int_val:null==config._a[YEAR]?moment().weekYear():config._a[YEAR]},w=config._w,null!=w.GG||null!=w.W||null!=w.E?temp=dayOfYearFromWeeks(fixYear(w.GG),w.W||1,w.E,4,1):(lang=getLangDefinition(config._l),weekday=null!=w.d?parseWeekday(w.d,lang):null!=w.e?parseInt(w.e,10)+lang._week.dow:0,week=parseInt(w.w,10)||1,null!=w.d&&weekday<lang._week.dow&&week++,temp=dayOfYearFromWeeks(fixYear(w.gg),week,weekday,lang._week.doy,lang._week.dow)),config._a[YEAR]=temp.year,config._dayOfYear=temp.dayOfYear),config._dayOfYear&&(yearToUse=null==config._a[YEAR]?currentDate[YEAR]:config._a[YEAR],config._dayOfYear>daysInYear(yearToUse)&&(config._pf._overflowDayOfYear=!0),date=makeUTCDate(yearToUse,0,config._dayOfYear),config._a[MONTH]=date.getUTCMonth(),config._a[DATE]=date.getUTCDate()),i=0;3>i&&null==config._a[i];++i)config._a[i]=input[i]=currentDate[i];for(;7>i;i++)config._a[i]=input[i]=null==config._a[i]?2===i?1:0:config._a[i];input[HOUR]+=toInt((config._tzm||0)/60),input[MINUTE]+=toInt((config._tzm||0)%60),config._d=(config._useUTC?makeUTCDate:makeDate).apply(null,input)}}function dateFromObject(config){var normalizedInput;config._d||(normalizedInput=normalizeObjectUnits(config._i),config._a=[normalizedInput.year,normalizedInput.month,normalizedInput.day,normalizedInput.hour,normalizedInput.minute,normalizedInput.second,normalizedInput.millisecond],dateFromConfig(config))}function currentDateArray(config){var now=new Date;return config._useUTC?[now.getUTCFullYear(),now.getUTCMonth(),now.getUTCDate()]:[now.getFullYear(),now.getMonth(),now.getDate()]}function makeDateFromStringAndFormat(config){config._a=[],config._pf.empty=!0;var i,parsedInput,tokens,token,skipped,lang=getLangDefinition(config._l),string=""+config._i,stringLength=string.length,totalParsedInputLength=0;for(tokens=expandFormat(config._f,lang).match(formattingTokens)||[],i=0;i<tokens.length;i++)token=tokens[i],parsedInput=(string.match(getParseRegexForToken(token,config))||[])[0],parsedInput&&(skipped=string.substr(0,string.indexOf(parsedInput)),skipped.length>0&&config._pf.unusedInput.push(skipped),string=string.slice(string.indexOf(parsedInput)+parsedInput.length),totalParsedInputLength+=parsedInput.length),formatTokenFunctions[token]?(parsedInput?config._pf.empty=!1:config._pf.unusedTokens.push(token),addTimeToArrayFromToken(token,parsedInput,config)):config._strict&&!parsedInput&&config._pf.unusedTokens.push(token);config._pf.charsLeftOver=stringLength-totalParsedInputLength,string.length>0&&config._pf.unusedInput.push(string),config._isPm&&config._a[HOUR]<12&&(config._a[HOUR]+=12),config._isPm===!1&&12===config._a[HOUR]&&(config._a[HOUR]=0),dateFromConfig(config),checkOverflow(config)}function unescapeFormat(s){return s.replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(matched,p1,p2,p3,p4){return p1||p2||p3||p4})}function regexpEscape(s){return s.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function makeDateFromStringAndArray(config){var tempConfig,bestMoment,scoreToBeat,i,currentScore;if(0===config._f.length)return config._pf.invalidFormat=!0,config._d=new Date(0/0),void 0;for(i=0;i<config._f.length;i++)currentScore=0,tempConfig=extend({},config),tempConfig._pf=defaultParsingFlags(),tempConfig._f=config._f[i],makeDateFromStringAndFormat(tempConfig),isValid(tempConfig)&&(currentScore+=tempConfig._pf.charsLeftOver,currentScore+=10*tempConfig._pf.unusedTokens.length,tempConfig._pf.score=currentScore,(null==scoreToBeat||scoreToBeat>currentScore)&&(scoreToBeat=currentScore,bestMoment=tempConfig));extend(config,bestMoment||tempConfig)}function makeDateFromString(config){var i,l,string=config._i,match=isoRegex.exec(string);if(match){for(config._pf.iso=!0,i=0,l=isoDates.length;l>i;i++)if(isoDates[i][1].exec(string)){config._f=isoDates[i][0]+(match[6]||" ");break}for(i=0,l=isoTimes.length;l>i;i++)if(isoTimes[i][1].exec(string)){config._f+=isoTimes[i][0];break}string.match(parseTokenTimezone)&&(config._f+="Z"),makeDateFromStringAndFormat(config)}else config._d=new Date(string)}function makeDateFromInput(config){var input=config._i,matched=aspNetJsonRegex.exec(input);input===undefined?config._d=new Date:matched?config._d=new Date(+matched[1]):"string"==typeof input?makeDateFromString(config):isArray(input)?(config._a=input.slice(0),dateFromConfig(config)):isDate(input)?config._d=new Date(+input):"object"==typeof input?dateFromObject(config):config._d=new Date(input)}function makeDate(y,m,d,h,M,s,ms){var date=new Date(y,m,d,h,M,s,ms);return 1970>y&&date.setFullYear(y),date}function makeUTCDate(y){var date=new Date(Date.UTC.apply(null,arguments));return 1970>y&&date.setUTCFullYear(y),date}function parseWeekday(input,language){if("string"==typeof input)if(isNaN(input)){if(input=language.weekdaysParse(input),"number"!=typeof input)return null}else input=parseInt(input,10);return input}function substituteTimeAgo(string,number,withoutSuffix,isFuture,lang){return lang.relativeTime(number||1,!!withoutSuffix,string,isFuture)}function relativeTime(milliseconds,withoutSuffix,lang){var seconds=round(Math.abs(milliseconds)/1e3),minutes=round(seconds/60),hours=round(minutes/60),days=round(hours/24),years=round(days/365),args=45>seconds&&["s",seconds]||1===minutes&&["m"]||45>minutes&&["mm",minutes]||1===hours&&["h"]||22>hours&&["hh",hours]||1===days&&["d"]||25>=days&&["dd",days]||45>=days&&["M"]||345>days&&["MM",round(days/30)]||1===years&&["y"]||["yy",years];return args[2]=withoutSuffix,args[3]=milliseconds>0,args[4]=lang,substituteTimeAgo.apply({},args)}function weekOfYear(mom,firstDayOfWeek,firstDayOfWeekOfYear){var adjustedMoment,end=firstDayOfWeekOfYear-firstDayOfWeek,daysToDayOfWeek=firstDayOfWeekOfYear-mom.day();return daysToDayOfWeek>end&&(daysToDayOfWeek-=7),end-7>daysToDayOfWeek&&(daysToDayOfWeek+=7),adjustedMoment=moment(mom).add("d",daysToDayOfWeek),{week:Math.ceil(adjustedMoment.dayOfYear()/7),year:adjustedMoment.year()}}function dayOfYearFromWeeks(year,week,weekday,firstDayOfWeekOfYear,firstDayOfWeek){var daysToAdd,dayOfYear,d=makeUTCDate(year,0,1).getUTCDay();return weekday=null!=weekday?weekday:firstDayOfWeek,daysToAdd=firstDayOfWeek-d+(d>firstDayOfWeekOfYear?7:0)-(firstDayOfWeek>d?7:0),dayOfYear=7*(week-1)+(weekday-firstDayOfWeek)+daysToAdd+1,{year:dayOfYear>0?year:year-1,dayOfYear:dayOfYear>0?dayOfYear:daysInYear(year-1)+dayOfYear}}function makeMoment(config){var input=config._i,format=config._f;return null===input?moment.invalid({nullInput:!0}):("string"==typeof input&&(config._i=input=getLangDefinition().preparse(input)),moment.isMoment(input)?(config=cloneMoment(input),config._d=new Date(+input._d)):format?isArray(format)?makeDateFromStringAndArray(config):makeDateFromStringAndFormat(config):makeDateFromInput(config),new Moment(config))}function makeGetterAndSetter(name,key){moment.fn[name]=moment.fn[name+"s"]=function(input){var utc=this._isUTC?"UTC":"";return null!=input?(this._d["set"+utc+key](input),moment.updateOffset(this),this):this._d["get"+utc+key]()}}function makeDurationGetter(name){moment.duration.fn[name]=function(){return this._data[name]}}function makeDurationAsGetter(name,factor){moment.duration.fn["as"+name]=function(){return+this/factor}}function makeGlobal(deprecate){var warned=!1,local_moment=moment;"undefined"==typeof ender&&(deprecate?(global.moment=function(){return!warned&&console&&console.warn&&(warned=!0,console.warn("Accessing Moment through the global scope is deprecated, and will be removed in an upcoming release.")),local_moment.apply(null,arguments)},extend(global.moment,local_moment)):global.moment=moment)}for(var moment,i,VERSION="2.5.1",global=this,round=Math.round,YEAR=0,MONTH=1,DATE=2,HOUR=3,MINUTE=4,SECOND=5,MILLISECOND=6,languages={},momentProperties={_isAMomentObject:null,_i:null,_f:null,_l:null,_strict:null,_isUTC:null,_offset:null,_pf:null,_lang:null},hasModule="undefined"!=typeof module&&module.exports&&"undefined"!=typeof require,aspNetJsonRegex=/^\/?Date\((\-?\d+)/i,aspNetTimeSpanJsonRegex=/(\-)?(?:(\d*)\.)?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?)?/,isoDurationRegex=/^(-)?P(?:(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?)?|([0-9,.]*)W)$/,formattingTokens=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|S{1,4}|X|zz?|ZZ?|.)/g,localFormattingTokens=/(\[[^\[]*\])|(\\)?(LT|LL?L?L?|l{1,4})/g,parseTokenOneOrTwoDigits=/\d\d?/,parseTokenOneToThreeDigits=/\d{1,3}/,parseTokenOneToFourDigits=/\d{1,4}/,parseTokenOneToSixDigits=/[+\-]?\d{1,6}/,parseTokenDigits=/\d+/,parseTokenWord=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,parseTokenTimezone=/Z|[\+\-]\d\d:?\d\d/gi,parseTokenT=/T/i,parseTokenTimestampMs=/[\+\-]?\d+(\.\d{1,3})?/,parseTokenOneDigit=/\d/,parseTokenTwoDigits=/\d\d/,parseTokenThreeDigits=/\d{3}/,parseTokenFourDigits=/\d{4}/,parseTokenSixDigits=/[+-]?\d{6}/,parseTokenSignedNumber=/[+-]?\d+/,isoRegex=/^\s*(?:[+-]\d{6}|\d{4})-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,isoFormat="YYYY-MM-DDTHH:mm:ssZ",isoDates=[["YYYYYY-MM-DD",/[+-]\d{6}-\d{2}-\d{2}/],["YYYY-MM-DD",/\d{4}-\d{2}-\d{2}/],["GGGG-[W]WW-E",/\d{4}-W\d{2}-\d/],["GGGG-[W]WW",/\d{4}-W\d{2}/],["YYYY-DDD",/\d{4}-\d{3}/]],isoTimes=[["HH:mm:ss.SSSS",/(T| )\d\d:\d\d:\d\d\.\d{1,3}/],["HH:mm:ss",/(T| )\d\d:\d\d:\d\d/],["HH:mm",/(T| )\d\d:\d\d/],["HH",/(T| )\d\d/]],parseTimezoneChunker=/([\+\-]|\d\d)/gi,proxyGettersAndSetters="Date|Hours|Minutes|Seconds|Milliseconds".split("|"),unitMillisecondFactors={Milliseconds:1,Seconds:1e3,Minutes:6e4,Hours:36e5,Days:864e5,Months:2592e6,Years:31536e6},unitAliases={ms:"millisecond",s:"second",m:"minute",h:"hour",d:"day",D:"date",w:"week",W:"isoWeek",M:"month",y:"year",DDD:"dayOfYear",e:"weekday",E:"isoWeekday",gg:"weekYear",GG:"isoWeekYear"},camelFunctions={dayofyear:"dayOfYear",isoweekday:"isoWeekday",isoweek:"isoWeek",weekyear:"weekYear",isoweekyear:"isoWeekYear"},formatFunctions={},ordinalizeTokens="DDD w W M D d".split(" "),paddedTokens="M D H h m s w W".split(" "),formatTokenFunctions={M:function(){return this.month()+1},MMM:function(format){return this.lang().monthsShort(this,format)},MMMM:function(format){return this.lang().months(this,format)},D:function(){return this.date()},DDD:function(){return this.dayOfYear()},d:function(){return this.day()},dd:function(format){return this.lang().weekdaysMin(this,format)},ddd:function(format){return this.lang().weekdaysShort(this,format)},dddd:function(format){return this.lang().weekdays(this,format)},w:function(){return this.week()},W:function(){return this.isoWeek()},YY:function(){return leftZeroFill(this.year()%100,2)},YYYY:function(){return leftZeroFill(this.year(),4)},YYYYY:function(){return leftZeroFill(this.year(),5)},YYYYYY:function(){var y=this.year(),sign=y>=0?"+":"-";return sign+leftZeroFill(Math.abs(y),6)},gg:function(){return leftZeroFill(this.weekYear()%100,2)},gggg:function(){return leftZeroFill(this.weekYear(),4)},ggggg:function(){return leftZeroFill(this.weekYear(),5)},GG:function(){return leftZeroFill(this.isoWeekYear()%100,2)},GGGG:function(){return leftZeroFill(this.isoWeekYear(),4)},GGGGG:function(){return leftZeroFill(this.isoWeekYear(),5)},e:function(){return this.weekday()},E:function(){return this.isoWeekday()},a:function(){return this.lang().meridiem(this.hours(),this.minutes(),!0)},A:function(){return this.lang().meridiem(this.hours(),this.minutes(),!1)},H:function(){return this.hours()},h:function(){return this.hours()%12||12},m:function(){return this.minutes()
},s:function(){return this.seconds()},S:function(){return toInt(this.milliseconds()/100)},SS:function(){return leftZeroFill(toInt(this.milliseconds()/10),2)},SSS:function(){return leftZeroFill(this.milliseconds(),3)},SSSS:function(){return leftZeroFill(this.milliseconds(),3)},Z:function(){var a=-this.zone(),b="+";return 0>a&&(a=-a,b="-"),b+leftZeroFill(toInt(a/60),2)+":"+leftZeroFill(toInt(a)%60,2)},ZZ:function(){var a=-this.zone(),b="+";return 0>a&&(a=-a,b="-"),b+leftZeroFill(toInt(a/60),2)+leftZeroFill(toInt(a)%60,2)},z:function(){return this.zoneAbbr()},zz:function(){return this.zoneName()},X:function(){return this.unix()},Q:function(){return this.quarter()}},lists=["months","monthsShort","weekdays","weekdaysShort","weekdaysMin"];ordinalizeTokens.length;)i=ordinalizeTokens.pop(),formatTokenFunctions[i+"o"]=ordinalizeToken(formatTokenFunctions[i],i);for(;paddedTokens.length;)i=paddedTokens.pop(),formatTokenFunctions[i+i]=padToken(formatTokenFunctions[i],2);for(formatTokenFunctions.DDDD=padToken(formatTokenFunctions.DDD,3),extend(Language.prototype,{set:function(config){var prop,i;for(i in config)prop=config[i],"function"==typeof prop?this[i]=prop:this["_"+i]=prop},_months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),months:function(m){return this._months[m.month()]},_monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),monthsShort:function(m){return this._monthsShort[m.month()]},monthsParse:function(monthName){var i,mom,regex;for(this._monthsParse||(this._monthsParse=[]),i=0;12>i;i++)if(this._monthsParse[i]||(mom=moment.utc([2e3,i]),regex="^"+this.months(mom,"")+"|^"+this.monthsShort(mom,""),this._monthsParse[i]=new RegExp(regex.replace(".",""),"i")),this._monthsParse[i].test(monthName))return i},_weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdays:function(m){return this._weekdays[m.day()]},_weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysShort:function(m){return this._weekdaysShort[m.day()]},_weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),weekdaysMin:function(m){return this._weekdaysMin[m.day()]},weekdaysParse:function(weekdayName){var i,mom,regex;for(this._weekdaysParse||(this._weekdaysParse=[]),i=0;7>i;i++)if(this._weekdaysParse[i]||(mom=moment([2e3,1]).day(i),regex="^"+this.weekdays(mom,"")+"|^"+this.weekdaysShort(mom,"")+"|^"+this.weekdaysMin(mom,""),this._weekdaysParse[i]=new RegExp(regex.replace(".",""),"i")),this._weekdaysParse[i].test(weekdayName))return i},_longDateFormat:{LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D YYYY",LLL:"MMMM D YYYY LT",LLLL:"dddd, MMMM D YYYY LT"},longDateFormat:function(key){var output=this._longDateFormat[key];return!output&&this._longDateFormat[key.toUpperCase()]&&(output=this._longDateFormat[key.toUpperCase()].replace(/MMMM|MM|DD|dddd/g,function(val){return val.slice(1)}),this._longDateFormat[key]=output),output},isPM:function(input){return"p"===(input+"").toLowerCase().charAt(0)},_meridiemParse:/[ap]\.?m?\.?/i,meridiem:function(hours,minutes,isLower){return hours>11?isLower?"pm":"PM":isLower?"am":"AM"},_calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},calendar:function(key,mom){var output=this._calendar[key];return"function"==typeof output?output.apply(mom):output},_relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},relativeTime:function(number,withoutSuffix,string,isFuture){var output=this._relativeTime[string];return"function"==typeof output?output(number,withoutSuffix,string,isFuture):output.replace(/%d/i,number)},pastFuture:function(diff,output){var format=this._relativeTime[diff>0?"future":"past"];return"function"==typeof format?format(output):format.replace(/%s/i,output)},ordinal:function(number){return this._ordinal.replace("%d",number)},_ordinal:"%d",preparse:function(string){return string},postformat:function(string){return string},week:function(mom){return weekOfYear(mom,this._week.dow,this._week.doy).week},_week:{dow:0,doy:6},_invalidDate:"Invalid date",invalidDate:function(){return this._invalidDate}}),moment=function(input,format,lang,strict){var c;return"boolean"==typeof lang&&(strict=lang,lang=undefined),c={},c._isAMomentObject=!0,c._i=input,c._f=format,c._l=lang,c._strict=strict,c._isUTC=!1,c._pf=defaultParsingFlags(),makeMoment(c)},moment.utc=function(input,format,lang,strict){var c;return"boolean"==typeof lang&&(strict=lang,lang=undefined),c={},c._isAMomentObject=!0,c._useUTC=!0,c._isUTC=!0,c._l=lang,c._i=input,c._f=format,c._strict=strict,c._pf=defaultParsingFlags(),makeMoment(c).utc()},moment.unix=function(input){return moment(1e3*input)},moment.duration=function(input,key){var sign,ret,parseIso,duration=input,match=null;return moment.isDuration(input)?duration={ms:input._milliseconds,d:input._days,M:input._months}:"number"==typeof input?(duration={},key?duration[key]=input:duration.milliseconds=input):(match=aspNetTimeSpanJsonRegex.exec(input))?(sign="-"===match[1]?-1:1,duration={y:0,d:toInt(match[DATE])*sign,h:toInt(match[HOUR])*sign,m:toInt(match[MINUTE])*sign,s:toInt(match[SECOND])*sign,ms:toInt(match[MILLISECOND])*sign}):(match=isoDurationRegex.exec(input))&&(sign="-"===match[1]?-1:1,parseIso=function(inp){var res=inp&&parseFloat(inp.replace(",","."));return(isNaN(res)?0:res)*sign},duration={y:parseIso(match[2]),M:parseIso(match[3]),d:parseIso(match[4]),h:parseIso(match[5]),m:parseIso(match[6]),s:parseIso(match[7]),w:parseIso(match[8])}),ret=new Duration(duration),moment.isDuration(input)&&input.hasOwnProperty("_lang")&&(ret._lang=input._lang),ret},moment.version=VERSION,moment.defaultFormat=isoFormat,moment.updateOffset=function(){},moment.lang=function(key,values){var r;return key?(values?loadLang(normalizeLanguage(key),values):null===values?(unloadLang(key),key="en"):languages[key]||getLangDefinition(key),r=moment.duration.fn._lang=moment.fn._lang=getLangDefinition(key),r._abbr):moment.fn._lang._abbr},moment.langData=function(key){return key&&key._lang&&key._lang._abbr&&(key=key._lang._abbr),getLangDefinition(key)},moment.isMoment=function(obj){return obj instanceof Moment||null!=obj&&obj.hasOwnProperty("_isAMomentObject")},moment.isDuration=function(obj){return obj instanceof Duration},i=lists.length-1;i>=0;--i)makeList(lists[i]);for(moment.normalizeUnits=function(units){return normalizeUnits(units)},moment.invalid=function(flags){var m=moment.utc(0/0);return null!=flags?extend(m._pf,flags):m._pf.userInvalidated=!0,m},moment.parseZone=function(input){return moment(input).parseZone()},extend(moment.fn=Moment.prototype,{clone:function(){return moment(this)},valueOf:function(){return+this._d+6e4*(this._offset||0)},unix:function(){return Math.floor(+this/1e3)},toString:function(){return this.clone().lang("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},toDate:function(){return this._offset?new Date(+this):this._d},toISOString:function(){var m=moment(this).utc();return 0<m.year()&&m.year()<=9999?formatMoment(m,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):formatMoment(m,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")},toArray:function(){var m=this;return[m.year(),m.month(),m.date(),m.hours(),m.minutes(),m.seconds(),m.milliseconds()]},isValid:function(){return isValid(this)},isDSTShifted:function(){return this._a?this.isValid()&&compareArrays(this._a,(this._isUTC?moment.utc(this._a):moment(this._a)).toArray())>0:!1},parsingFlags:function(){return extend({},this._pf)},invalidAt:function(){return this._pf.overflow},utc:function(){return this.zone(0)},local:function(){return this.zone(0),this._isUTC=!1,this},format:function(inputString){var output=formatMoment(this,inputString||moment.defaultFormat);return this.lang().postformat(output)},add:function(input,val){var dur;return dur="string"==typeof input?moment.duration(+val,input):moment.duration(input,val),addOrSubtractDurationFromMoment(this,dur,1),this},subtract:function(input,val){var dur;return dur="string"==typeof input?moment.duration(+val,input):moment.duration(input,val),addOrSubtractDurationFromMoment(this,dur,-1),this},diff:function(input,units,asFloat){var diff,output,that=makeAs(input,this),zoneDiff=6e4*(this.zone()-that.zone());return units=normalizeUnits(units),"year"===units||"month"===units?(diff=432e5*(this.daysInMonth()+that.daysInMonth()),output=12*(this.year()-that.year())+(this.month()-that.month()),output+=(this-moment(this).startOf("month")-(that-moment(that).startOf("month")))/diff,output-=6e4*(this.zone()-moment(this).startOf("month").zone()-(that.zone()-moment(that).startOf("month").zone()))/diff,"year"===units&&(output/=12)):(diff=this-that,output="second"===units?diff/1e3:"minute"===units?diff/6e4:"hour"===units?diff/36e5:"day"===units?(diff-zoneDiff)/864e5:"week"===units?(diff-zoneDiff)/6048e5:diff),asFloat?output:absRound(output)},from:function(time,withoutSuffix){return moment.duration(this.diff(time)).lang(this.lang()._abbr).humanize(!withoutSuffix)},fromNow:function(withoutSuffix){return this.from(moment(),withoutSuffix)},calendar:function(){var sod=makeAs(moment(),this).startOf("day"),diff=this.diff(sod,"days",!0),format=-6>diff?"sameElse":-1>diff?"lastWeek":0>diff?"lastDay":1>diff?"sameDay":2>diff?"nextDay":7>diff?"nextWeek":"sameElse";return this.format(this.lang().calendar(format,this))},isLeapYear:function(){return isLeapYear(this.year())},isDST:function(){return this.zone()<this.clone().month(0).zone()||this.zone()<this.clone().month(5).zone()},day:function(input){var day=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=input?(input=parseWeekday(input,this.lang()),this.add({d:input-day})):day},month:function(input){var dayOfMonth,utc=this._isUTC?"UTC":"";return null!=input?"string"==typeof input&&(input=this.lang().monthsParse(input),"number"!=typeof input)?this:(dayOfMonth=this.date(),this.date(1),this._d["set"+utc+"Month"](input),this.date(Math.min(dayOfMonth,this.daysInMonth())),moment.updateOffset(this),this):this._d["get"+utc+"Month"]()},startOf:function(units){switch(units=normalizeUnits(units)){case"year":this.month(0);case"month":this.date(1);case"week":case"isoWeek":case"day":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===units?this.weekday(0):"isoWeek"===units&&this.isoWeekday(1),this},endOf:function(units){return units=normalizeUnits(units),this.startOf(units).add("isoWeek"===units?"week":units,1).subtract("ms",1)},isAfter:function(input,units){return units="undefined"!=typeof units?units:"millisecond",+this.clone().startOf(units)>+moment(input).startOf(units)},isBefore:function(input,units){return units="undefined"!=typeof units?units:"millisecond",+this.clone().startOf(units)<+moment(input).startOf(units)},isSame:function(input,units){return units=units||"ms",+this.clone().startOf(units)===+makeAs(input,this).startOf(units)},min:function(other){return other=moment.apply(null,arguments),this>other?this:other},max:function(other){return other=moment.apply(null,arguments),other>this?this:other},zone:function(input){var offset=this._offset||0;return null==input?this._isUTC?offset:this._d.getTimezoneOffset():("string"==typeof input&&(input=timezoneMinutesFromString(input)),Math.abs(input)<16&&(input=60*input),this._offset=input,this._isUTC=!0,offset!==input&&addOrSubtractDurationFromMoment(this,moment.duration(offset-input,"m"),1,!0),this)},zoneAbbr:function(){return this._isUTC?"UTC":""},zoneName:function(){return this._isUTC?"Coordinated Universal Time":""},parseZone:function(){return this._tzm?this.zone(this._tzm):"string"==typeof this._i&&this.zone(this._i),this},hasAlignedHourOffset:function(input){return input=input?moment(input).zone():0,(this.zone()-input)%60===0},daysInMonth:function(){return daysInMonth(this.year(),this.month())},dayOfYear:function(input){var dayOfYear=round((moment(this).startOf("day")-moment(this).startOf("year"))/864e5)+1;return null==input?dayOfYear:this.add("d",input-dayOfYear)},quarter:function(){return Math.ceil((this.month()+1)/3)},weekYear:function(input){var year=weekOfYear(this,this.lang()._week.dow,this.lang()._week.doy).year;return null==input?year:this.add("y",input-year)},isoWeekYear:function(input){var year=weekOfYear(this,1,4).year;return null==input?year:this.add("y",input-year)},week:function(input){var week=this.lang().week(this);return null==input?week:this.add("d",7*(input-week))},isoWeek:function(input){var week=weekOfYear(this,1,4).week;return null==input?week:this.add("d",7*(input-week))},weekday:function(input){var weekday=(this.day()+7-this.lang()._week.dow)%7;return null==input?weekday:this.add("d",input-weekday)},isoWeekday:function(input){return null==input?this.day()||7:this.day(this.day()%7?input:input-7)},get:function(units){return units=normalizeUnits(units),this[units]()},set:function(units,value){return units=normalizeUnits(units),"function"==typeof this[units]&&this[units](value),this},lang:function(key){return key===undefined?this._lang:(this._lang=getLangDefinition(key),this)}}),i=0;i<proxyGettersAndSetters.length;i++)makeGetterAndSetter(proxyGettersAndSetters[i].toLowerCase().replace(/s$/,""),proxyGettersAndSetters[i]);makeGetterAndSetter("year","FullYear"),moment.fn.days=moment.fn.day,moment.fn.months=moment.fn.month,moment.fn.weeks=moment.fn.week,moment.fn.isoWeeks=moment.fn.isoWeek,moment.fn.toJSON=moment.fn.toISOString,extend(moment.duration.fn=Duration.prototype,{_bubble:function(){var seconds,minutes,hours,years,milliseconds=this._milliseconds,days=this._days,months=this._months,data=this._data;data.milliseconds=milliseconds%1e3,seconds=absRound(milliseconds/1e3),data.seconds=seconds%60,minutes=absRound(seconds/60),data.minutes=minutes%60,hours=absRound(minutes/60),data.hours=hours%24,days+=absRound(hours/24),data.days=days%30,months+=absRound(days/30),data.months=months%12,years=absRound(months/12),data.years=years},weeks:function(){return absRound(this.days()/7)},valueOf:function(){return this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*toInt(this._months/12)},humanize:function(withSuffix){var difference=+this,output=relativeTime(difference,!withSuffix,this.lang());return withSuffix&&(output=this.lang().pastFuture(difference,output)),this.lang().postformat(output)},add:function(input,val){var dur=moment.duration(input,val);return this._milliseconds+=dur._milliseconds,this._days+=dur._days,this._months+=dur._months,this._bubble(),this},subtract:function(input,val){var dur=moment.duration(input,val);return this._milliseconds-=dur._milliseconds,this._days-=dur._days,this._months-=dur._months,this._bubble(),this},get:function(units){return units=normalizeUnits(units),this[units.toLowerCase()+"s"]()},as:function(units){return units=normalizeUnits(units),this["as"+units.charAt(0).toUpperCase()+units.slice(1)+"s"]()},lang:moment.fn.lang,toIsoString:function(){var years=Math.abs(this.years()),months=Math.abs(this.months()),days=Math.abs(this.days()),hours=Math.abs(this.hours()),minutes=Math.abs(this.minutes()),seconds=Math.abs(this.seconds()+this.milliseconds()/1e3);return this.asSeconds()?(this.asSeconds()<0?"-":"")+"P"+(years?years+"Y":"")+(months?months+"M":"")+(days?days+"D":"")+(hours||minutes||seconds?"T":"")+(hours?hours+"H":"")+(minutes?minutes+"M":"")+(seconds?seconds+"S":""):"P0D"}});for(i in unitMillisecondFactors)unitMillisecondFactors.hasOwnProperty(i)&&(makeDurationAsGetter(i,unitMillisecondFactors[i]),makeDurationGetter(i.toLowerCase()));makeDurationAsGetter("Weeks",6048e5),moment.duration.fn.asMonths=function(){return(+this-31536e6*this.years())/2592e6+12*this.years()},moment.lang("en",{ordinal:function(number){var b=number%10,output=1===toInt(number%100/10)?"th":1===b?"st":2===b?"nd":3===b?"rd":"th";return number+output}}),hasModule?(module.exports=moment,makeGlobal(!0)):"function"==typeof define&&define.amd?define("moment",function(require,exports,module){return module.config&&module.config()&&module.config().noGlobal!==!0&&makeGlobal(module.config().noGlobal===undefined),moment}):makeGlobal()}.call(this),function(global){"use strict";function BigNumber(n,b){var e,i,isNum,digits,valid,x=this;if(!(x instanceof BigNumber))return new BigNumber(n,b);if(n instanceof BigNumber){if(id=0,b===e)return x.s=n.s,x.e=n.e,x.c=(n=n.c)?n.slice():n,void 0;n+=""}if("string"!=typeof n&&(n=(isNum="number"==typeof n||"[object Number]"==Object.prototype.toString.call(n))&&0===n&&0>1/n?"-0":n+""),b===e&&isValid.test(n))x.s="-"==n.charAt(0)?(n=n.slice(1),-1):1;else{if(10==b)return setMode(n,DECIMAL_PLACES,ROUNDING_MODE);if(n=trim.call(n).replace(/^\+(?!-)/,""),x.s="-"==n.charAt(0)?(n=n.replace(/^-(?!-)/,""),-1):1,null!=b?b!=(0|b)&&ERRORS||(outOfRange=!(b>=2&&36>=b))?(ifExceptionsThrow(b,2),valid=isValid.test(n)):(digits="["+DIGITS.slice(0,b=0|b)+"]+",n=n.replace(/\.$/,"").replace(/^\./,"0."),(valid=new RegExp("^"+digits+"(?:\\."+digits+")?$","i").test(n))?(isNum&&(n.replace(".","").length>15&&ifExceptionsThrow(n,0),isNum=!isNum),n=convert(n,10,b,x.s)):"Infinity"!=n&&"NaN"!=n&&(ifExceptionsThrow(n,1,b),n="NaN")):valid=isValid.test(n),!valid)return x.c=x.e=null,"Infinity"!=n&&("NaN"!=n&&ifExceptionsThrow(n,3),x.s=null),id=0,void 0}for((e=n.indexOf("."))>-1&&(n=n.replace(".","")),(i=n.search(/e/i))>0?(0>e&&(e=i),e+=+n.slice(i+1),n=n.substring(0,i)):0>e&&(e=n.length),b=n.length,isNum&&b>15&&ifExceptionsThrow(n,0),i=id=0;"0"==n.charAt(i);i++);if((e-=i+1)>MAX_EXP)x.c=x.e=null;else if(i==b||MIN_EXP>e)x.c=[x.e=0];else{for(;"0"==n.charAt(--b););for(x.e=e,x.c=[],e=0;b>=i;x.c[e++]=+n.charAt(i++));}}function ifExceptionsThrow(arg,i,j,isArray,isRange,isErrors){if(ERRORS){var method=["new BigNumber","cmp","div","eq","gt","gte","lt","lte","minus","mod","plus","times","toFr"][id?0>id?-id:id:0>1/id?1:0]+"()",error=outOfRange?" out of range":" not a"+(isRange?" non-zero":"n")+" integer";throw error=([method+" number type has more than 15 significant digits",method+" not a base "+j+" number",method+" base"+error,method+" not a number"][i]||j+"() "+i+(isErrors?" not a boolean or binary digit":error+(isArray?" or not ["+(outOfRange?" negative, positive":" integer, integer")+" ]":"")))+": "+arg,outOfRange=id=0,{name:"BigNumber Error",message:error,toString:function(){return this.name+": "+this.message}}}}function convert(nStr,baseOut,baseIn,sign){function strToArr(str,bIn){var j,arrL,i=0,strL=str.length,arr=[0];for(bIn=bIn||baseIn;strL>i;i++){for(arrL=arr.length,j=0;arrL>j;arr[j]*=bIn,j++);for(arr[0]+=DIGITS.indexOf(str.charAt(i)),j=0;j<arr.length;j++)arr[j]>baseOut-1&&(null==arr[j+1]&&(arr[j+1]=0),arr[j+1]+=arr[j]/baseOut^0,arr[j]%=baseOut)}return arr.reverse()}function arrToStr(arr){for(var i=0,arrL=arr.length,str="";arrL>i;str+=DIGITS.charAt(arr[i++]));return str}var e,dvs,dvd,nArr,fracArr,fracBN;if(nStr=nStr.toLowerCase(),(e=nStr.indexOf("."))>-1)if(e=nStr.length-e-1,dvs=strToArr(new BigNumber(baseIn).pow(e).toF(),10),nArr=nStr.split("."),dvd=strToArr(nArr[1]),nArr=strToArr(nArr[0]),fracBN=divide(dvd,dvs,dvd.length-dvs.length,sign,baseOut,1&nArr[nArr.length-1]),fracArr=fracBN.c,e=fracBN.e){for(;++e;fracArr.unshift(0));nStr=arrToStr(nArr)+"."+arrToStr(fracArr)}else fracArr[0]?nArr[e=nArr.length-1]<baseOut-1?(++nArr[e],nStr=arrToStr(nArr)):nStr=new BigNumber(arrToStr(nArr),baseOut).plus(ONE).toS(baseOut):nStr=arrToStr(nArr);else nStr=arrToStr(strToArr(nStr));return nStr}function divide(dvd,dvs,exp,s,base,isOdd){var dvsL,dvsT,next,cmp,remI,dvsZ=dvs.slice(),dvdI=dvsL=dvs.length,dvdL=dvd.length,rem=dvd.slice(0,dvsL),remL=rem.length,quo=new BigNumber(ONE),qc=quo.c=[],qi=0,dig=DECIMAL_PLACES+(quo.e=exp)+1;for(quo.s=s,s=0>dig?0:dig;remL++<dvsL;rem.push(0));dvsZ.unshift(0);do{for(next=0;base>next;next++){if(dvsL!=(remL=rem.length))cmp=dvsL>remL?1:-1;else for(remI=-1,cmp=0;++remI<dvsL;)if(dvs[remI]!=rem[remI]){cmp=dvs[remI]>rem[remI]?1:-1;break}if(!(0>cmp))break;for(dvsT=remL==dvsL?dvs:dvsZ;remL;){if(rem[--remL]<dvsT[remL]){for(remI=remL;remI&&!rem[--remI];rem[remI]=base-1);--rem[remI],rem[remL]+=base}rem[remL]-=dvsT[remL]}for(;!rem[0];rem.shift());}qc[qi++]=cmp?next:++next,rem[0]&&cmp?rem[remL]=dvd[dvdI]||0:rem=[dvd[dvdI]]}while((dvdI++<dvdL||null!=rem[0])&&s--);return qc[0]||1==qi||(--quo.e,qc.shift()),qi>dig&&rnd(quo,DECIMAL_PLACES,base,isOdd,null!=rem[0]),quo.e>MAX_EXP?quo.c=quo.e=null:quo.e<MIN_EXP&&(quo.c=[quo.e=0]),quo}function format(n,d,exp){var i=d-(n=new BigNumber(n)).e,c=n.c;if(!c)return n.toS();for(c.length>++d&&rnd(n,i,10),i=0==c[0]?i+1:exp?d:n.e+i+1;c.length<i;c.push(0));return i=n.e,1==exp||2==exp&&(--d<i||TO_EXP_NEG>=i)?(n.s<0&&c[0]?"-":"")+(c.length>1?(c.splice(1,0,"."),c.join("")):c[0])+(0>i?"e":"e+")+i:n.toS()}function rnd(x,dp,base,isOdd,r){var xc=x.c,isNeg=x.s<0,half=base/2,i=x.e+dp+1,next=xc[i],more=r||0>i||null!=xc[i+1];if(r=4>ROUNDING_MODE?(null!=next||more)&&(0==ROUNDING_MODE||2==ROUNDING_MODE&&!isNeg||3==ROUNDING_MODE&&isNeg):next>half||next==half&&(4==ROUNDING_MODE||more||6==ROUNDING_MODE&&(1&xc[i-1]||!dp&&isOdd)||7==ROUNDING_MODE&&!isNeg||8==ROUNDING_MODE&&isNeg),1>i||!xc[0])return xc.length=0,xc.push(0),r?(xc[0]=1,x.e=-dp):x.e=0,x;if(xc.length=i--,r)for(--base;++xc[i]>base;)xc[i]=0,i--||(++x.e,xc.unshift(1));for(i=xc.length;!xc[--i];xc.pop());return x}function setMode(x,dp,rm){var r=ROUNDING_MODE;return ROUNDING_MODE=rm,x=new BigNumber(x),x.c&&rnd(x,dp,10),ROUNDING_MODE=r,x}/*
      bignumber.js v1.1.0
      A JavaScript library for arbitrary-precision arithmetic.
      https://github.com/MikeMcl/bignumber.js
      Copyright (c) 2012 Michael Mclaughlin <M8ch88l@gmail.com>
      MIT Expat Licence
    */
var outOfRange,MAX=1e9,MAX_POWER=1e6,DECIMAL_PLACES=20,ROUNDING_MODE=4,TO_EXP_NEG=-7,TO_EXP_POS=21,MIN_EXP=-MAX,MAX_EXP=MAX,ERRORS=!0,parse=parseInt,P=BigNumber.prototype,DIGITS="0123456789abcdefghijklmnopqrstuvwxyz",id=0,isValid=/^-?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,trim=String.prototype.trim||function(){return this.replace(/^\s+|\s+$/g,"")},ONE=BigNumber(1);BigNumber.ROUND_UP=0,BigNumber.ROUND_DOWN=1,BigNumber.ROUND_CEIL=2,BigNumber.ROUND_FLOOR=3,BigNumber.ROUND_HALF_UP=4,BigNumber.ROUND_HALF_DOWN=5,BigNumber.ROUND_HALF_EVEN=6,BigNumber.ROUND_HALF_CEIL=7,BigNumber.ROUND_HALF_FLOOR=8,BigNumber.config=function(){var v,p,i=0,r={},a=arguments,o=a[0],c="config",inRange=function(n,lo,hi){return!((outOfRange=lo>n||n>hi)||parse(n)!=n&&0!==n)},has=o&&"object"==typeof o?function(){return o.hasOwnProperty(p)?null!=(v=o[p]):void 0}:function(){return a.length>i?null!=(v=a[i++]):void 0};return has(p="DECIMAL_PLACES")&&(inRange(v,0,MAX)?DECIMAL_PLACES=0|v:ifExceptionsThrow(v,p,c)),r[p]=DECIMAL_PLACES,has(p="ROUNDING_MODE")&&(inRange(v,0,8)?ROUNDING_MODE=0|v:ifExceptionsThrow(v,p,c)),r[p]=ROUNDING_MODE,has(p="EXPONENTIAL_AT")&&(inRange(v,-MAX,MAX)?TO_EXP_NEG=-(TO_EXP_POS=~~(0>v?-v:+v)):!outOfRange&&v&&inRange(v[0],-MAX,0)&&inRange(v[1],0,MAX)?(TO_EXP_NEG=~~v[0],TO_EXP_POS=~~v[1]):ifExceptionsThrow(v,p,c,1)),r[p]=[TO_EXP_NEG,TO_EXP_POS],has(p="RANGE")&&(inRange(v,-MAX,MAX)&&~~v?MIN_EXP=-(MAX_EXP=~~(0>v?-v:+v)):!outOfRange&&v&&inRange(v[0],-MAX,-1)&&inRange(v[1],1,MAX)?(MIN_EXP=~~v[0],MAX_EXP=~~v[1]):ifExceptionsThrow(v,p,c,1,1)),r[p]=[MIN_EXP,MAX_EXP],has(p="ERRORS")&&(v===!!v||1===v||0===v?(outOfRange=id=0,parse=(ERRORS=!!v)?parseInt:parseFloat):ifExceptionsThrow(v,p,c,0,0,1)),r[p]=ERRORS,r},P.abs=P.absoluteValue=function(){var x=new BigNumber(this);return x.s<0&&(x.s=1),x},P.ceil=function(){return setMode(this,0,2)},P.comparedTo=P.cmp=function(y,b){var a,x=this,xc=x.c,yc=(id=-id,y=new BigNumber(y,b)).c,i=x.s,j=y.s,k=x.e,l=y.e;if(!i||!j)return null;if(a=xc&&!xc[0],b=yc&&!yc[0],a||b)return a?b?0:-j:i;if(i!=j)return i;if(a=0>i,b=k==l,!xc||!yc)return b?0:!xc^a?1:-1;if(!b)return k>l^a?1:-1;for(i=-1,j=(k=xc.length)<(l=yc.length)?k:l;++i<j;)if(xc[i]!=yc[i])return xc[i]>yc[i]^a?1:-1;return k==l?0:k>l^a?1:-1},P.dividedBy=P.div=function(y,b){var xc=this.c,xe=this.e,xs=this.s,yc=(id=2,y=new BigNumber(y,b)).c,ye=y.e,ys=y.s,s=xs==ys?1:-1;return(xe||xc&&xc[0])&&(ye||yc&&yc[0])?divide(xc,yc,xe-ye,s,10):new BigNumber(xs&&ys&&(xc?!yc||xc[0]!=yc[0]:yc)?xc&&0==xc[0]||!yc?0*s:s/0:0/0)},P.equals=P.eq=function(n,b){return id=3,0===this.cmp(n,b)},P.floor=function(){return setMode(this,0,3)},P.greaterThan=P.gt=function(n,b){return id=4,this.cmp(n,b)>0},P.greaterThanOrEqualTo=P.gte=function(n,b){return id=5,1==(b=this.cmp(n,b))||0===b},P.isFinite=P.isF=function(){return!!this.c},P.isNaN=function(){return!this.s},P.isNegative=P.isNeg=function(){return this.s<0},P.isZero=P.isZ=function(){return!!this.c&&0==this.c[0]},P.lessThan=P.lt=function(n,b){return id=6,this.cmp(n,b)<0},P.lessThanOrEqualTo=P.lte=function(n,b){return id=7,-1==(b=this.cmp(n,b))||0===b},P.minus=function(y,b){var d,i,j,xLTy,x=this,a=x.s;if(b=(id=8,y=new BigNumber(y,b)).s,!a||!b)return new BigNumber(0/0);if(a!=b)return y.s=-b,x.plus(y);var xc=x.c,xe=x.e,yc=y.c,ye=y.e;if(!xe||!ye){if(!xc||!yc)return xc?(y.s=-b,y):new BigNumber(yc?x:0/0);if(!xc[0]||!yc[0])return yc[0]?(y.s=-b,y):new BigNumber(xc[0]?x:0)}if(xc=xc.slice(),a=xe-ye){for(d=(xLTy=0>a)?(a=-a,xc):(ye=xe,yc),d.reverse(),b=a;b--;d.push(0));d.reverse()}else for(j=((xLTy=xc.length<yc.length)?xc:yc).length,a=b=0;j>b;b++)if(xc[b]!=yc[b]){xLTy=xc[b]<yc[b];break}if(xLTy&&(d=xc,xc=yc,yc=d,y.s=-y.s),(b=-((j=xc.length)-yc.length))>0)for(;b--;xc[j++]=0);for(b=yc.length;b>a;){if(xc[--b]<yc[b]){for(i=b;i&&!xc[--i];xc[i]=9);--xc[i],xc[b]+=10}xc[b]-=yc[b]}for(;0==xc[--j];xc.pop());for(;0==xc[0];xc.shift(),--ye);return(MIN_EXP>ye||!xc[0])&&(xc=[ye=0]),y.c=xc,y.e=ye,y},P.modulo=P.mod=function(y,b){var x=this,xc=x.c,yc=(id=9,y=new BigNumber(y,b)).c,i=x.s,j=y.s;return b=!i||!j||yc&&!yc[0],b||xc&&!xc[0]?new BigNumber(b?0/0:x):(x.s=y.s=1,b=1==y.cmp(x),x.s=i,y.s=j,b?new BigNumber(x):(i=DECIMAL_PLACES,j=ROUNDING_MODE,DECIMAL_PLACES=0,ROUNDING_MODE=1,x=x.div(y),DECIMAL_PLACES=i,ROUNDING_MODE=j,this.minus(x.times(y))))},P.negated=P.neg=function(){var x=new BigNumber(this);return x.s=-x.s||null,x},P.plus=function(y,b){var d,x=this,a=x.s;if(b=(id=10,y=new BigNumber(y,b)).s,!a||!b)return new BigNumber(0/0);if(a!=b)return y.s=-b,x.minus(y);var xe=x.e,xc=x.c,ye=y.e,yc=y.c;if(!xe||!ye){if(!xc||!yc)return new BigNumber(a/0);if(!xc[0]||!yc[0])return yc[0]?y:new BigNumber(xc[0]?x:0*a)}if(xc=xc.slice(),a=xe-ye){for(d=a>0?(ye=xe,yc):(a=-a,xc),d.reverse();a--;d.push(0));d.reverse()}for(xc.length-yc.length<0&&(d=yc,yc=xc,xc=d),a=yc.length,b=0;a;b=(xc[--a]=xc[a]+yc[a]+b)/10^0,xc[a]%=10);for(b&&(xc.unshift(b),++ye>MAX_EXP&&(xc=ye=null)),a=xc.length;0==xc[--a];xc.pop());return y.c=xc,y.e=ye,y},P.toPower=P.pow=function(e){var i=0*e==0?0|e:e,x=new BigNumber(this),y=new BigNumber(ONE);if(((outOfRange=-MAX_POWER>e||e>MAX_POWER)&&(i=1*e/0)||parse(e)!=e&&0!==e&&!(i=0/0))&&!ifExceptionsThrow(e,"exponent","pow")||!i)return new BigNumber(Math.pow(x.toS(),i));for(i=0>i?-i:i;1&i&&(y=y.times(x)),i>>=1,i;)x=x.times(x);return 0>e?ONE.div(y):y},P.round=function(dp,rm){return dp=null==dp||((outOfRange=0>dp||dp>MAX)||parse(dp)!=dp)&&!ifExceptionsThrow(dp,"decimal places","round")?0:0|dp,rm=null==rm||((outOfRange=0>rm||rm>8)||parse(rm)!=rm&&0!==rm)&&!ifExceptionsThrow(rm,"mode","round")?ROUNDING_MODE:0|rm,setMode(this,dp,rm)},P.squareRoot=P.sqrt=function(){var estimate,r,approx,x=this,xc=x.c,i=x.s,e=x.e,half=new BigNumber("0.5");if(1!==i||!xc||!xc[0])return new BigNumber(!i||0>i&&(!xc||xc[0])?0/0:xc?x:1/0);i=Math.sqrt(x.toS()),0==i||i==1/0?(estimate=xc.join(""),estimate.length+e&1||(estimate+="0"),r=new BigNumber(Math.sqrt(estimate).toString()),r.e=((e+1)/2|0)-(0>e||1&e)):r=new BigNumber(i.toString()),i=r.e+(DECIMAL_PLACES+=4);do approx=r,r=half.times(approx.plus(x.div(approx)));while(approx.c.slice(0,i).join("")!==r.c.slice(0,i).join(""));return rnd(r,DECIMAL_PLACES-=4,10),r},P.times=function(y,b){var c,x=this,xc=x.c,yc=(id=11,y=new BigNumber(y,b)).c,i=x.e,j=y.e,a=x.s;if(y.s=a==(b=y.s)?1:-1,!((i||xc&&xc[0])&&(j||yc&&yc[0])))return new BigNumber(!a||!b||xc&&!xc[0]&&!yc||yc&&!yc[0]&&!xc?0/0:xc&&yc?0*y.s:y.s/0);for(y.e=i+j,(a=xc.length)<(b=yc.length)&&(c=xc,xc=yc,yc=c,j=a,a=b,b=j),j=a+b,c=[];j--;c.push(0));for(i=b-1;i>-1;i--){for(b=0,j=a+i;j>i;b=c[j]+yc[i]*xc[j-i-1]+b,c[j--]=b%10|0,b=b/10|0);b&&(c[j]=(c[j]+b)%10)}for(b&&++y.e,!c[0]&&c.shift(),j=c.length;!c[--j];c.pop());return y.c=y.e>MAX_EXP?y.e=null:y.e<MIN_EXP?[y.e=0]:c,y},P.toExponential=P.toE=function(dp){return format(this,(null==dp||((outOfRange=0>dp||dp>MAX)||parse(dp)!=dp&&0!==dp)&&!ifExceptionsThrow(dp,"decimal places","toE"))&&this.c?this.c.length-1:0|dp,1)},P.toFixed=P.toF=function(dp){var n,str,d,x=this;return null==dp||((outOfRange=0>dp||dp>MAX)||parse(dp)!=dp&&0!==dp)&&!ifExceptionsThrow(dp,"decimal places","toF")||(d=x.e+(0|dp)),n=TO_EXP_NEG,dp=TO_EXP_POS,TO_EXP_NEG=-(TO_EXP_POS=1/0),d==str?str=x.toS():(str=format(x,d),x.s<0&&x.c&&(x.c[0]?str.indexOf("-")<0&&(str="-"+str):str=str.replace(/^-/,""))),TO_EXP_NEG=n,TO_EXP_POS=dp,str},P.toFraction=P.toFr=function(maxD){var q,frac,n0,d0,d2,n,e,n1=d0=new BigNumber(ONE),d1=n0=new BigNumber("0"),x=this,xc=x.c,exp=MAX_EXP,dp=DECIMAL_PLACES,rm=ROUNDING_MODE,d=new BigNumber(ONE);if(!xc)return x.toS();for(e=d.e=xc.length-x.e-1,(null==maxD||(!(id=12,n=new BigNumber(maxD)).s||(outOfRange=n.cmp(n1)<0||!n.c)||ERRORS&&n.e<n.c.length-1)&&!ifExceptionsThrow(maxD,"max denominator","toFr")||(maxD=n).cmp(d)>0)&&(maxD=e>0?d:n1),MAX_EXP=1/0,n=new BigNumber(xc.join("")),DECIMAL_PLACES=0,ROUNDING_MODE=1;q=n.div(d),d2=d0.plus(q.times(d1)),1!=d2.cmp(maxD);)d0=d1,d1=d2,n1=n0.plus(q.times(d2=n1)),n0=d2,d=n.minus(q.times(d2=d)),n=d2;return d2=maxD.minus(d0).div(d1),n0=n0.plus(d2.times(n1)),d0=d0.plus(d2.times(d1)),n0.s=n1.s=x.s,DECIMAL_PLACES=2*e,ROUNDING_MODE=rm,frac=n1.div(d1).minus(x).abs().cmp(n0.div(d0).minus(x).abs())<1?[n1.toS(),d1.toS()]:[n0.toS(),d0.toS()],MAX_EXP=exp,DECIMAL_PLACES=dp,frac},P.toPrecision=P.toP=function(sd){return null==sd||((outOfRange=1>sd||sd>MAX)||parse(sd)!=sd)&&!ifExceptionsThrow(sd,"precision","toP")?this.toS():format(this,0|--sd,2)},P.toString=P.toS=function(b){var u,str,strL,x=this,xe=x.e;if(null===xe)str=x.s?"Infinity":"NaN";else{if(b===u&&(TO_EXP_NEG>=xe||xe>=TO_EXP_POS))return format(x,x.c.length-1,1);if(str=x.c.join(""),0>xe){for(;++xe;str="0"+str);str="0."+str}else if(strL=str.length,xe>0)if(++xe>strL)for(xe-=strL;xe--;str+="0");else strL>xe&&(str=str.slice(0,xe)+"."+str.slice(xe));else if(u=str.charAt(0),strL>1)str=u+"."+str.slice(1);else if("0"==u)return u;if(null!=b)if((outOfRange=!(b>=2&&36>=b))||b!=(0|b)&&ERRORS)ifExceptionsThrow(b,"base","toS");else if(str=convert(str,0|b,10,x.s),"0"==str)return str}return x.s<0?"-"+str:str},P.valueOf=function(){return this.toS()},"undefined"!=typeof module&&module.exports?module.exports=BigNumber:"function"==typeof define&&define.amd?define(function(){return BigNumber}):global.BigNumber=BigNumber}(this),function(){var root=this,previousUnderscore=root._,breaker={},ArrayProto=Array.prototype,ObjProto=Object.prototype,FuncProto=Function.prototype,push=ArrayProto.push,slice=ArrayProto.slice,concat=ArrayProto.concat,toString=ObjProto.toString,hasOwnProperty=ObjProto.hasOwnProperty,nativeForEach=ArrayProto.forEach,nativeMap=ArrayProto.map,nativeReduce=ArrayProto.reduce,nativeReduceRight=ArrayProto.reduceRight,nativeFilter=ArrayProto.filter,nativeEvery=ArrayProto.every,nativeSome=ArrayProto.some,nativeIndexOf=ArrayProto.indexOf,nativeLastIndexOf=ArrayProto.lastIndexOf,nativeIsArray=Array.isArray,nativeKeys=Object.keys,nativeBind=FuncProto.bind,_=function(obj){return obj instanceof _?obj:this instanceof _?(this._wrapped=obj,void 0):new _(obj)};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=_),exports._=_):root._=_,_.VERSION="1.5.1";var each=_.each=_.forEach=function(obj,iterator,context){if(null!=obj)if(nativeForEach&&obj.forEach===nativeForEach)obj.forEach(iterator,context);else if(obj.length===+obj.length){for(var i=0,length=obj.length;length>i;i++)if(iterator.call(context,obj[i],i,obj)===breaker)return}else for(var keys=_.keys(obj),i=0,length=keys.length;length>i;i++)if(iterator.call(context,obj[keys[i]],keys[i],obj)===breaker)return};_.map=_.collect=function(obj,iterator,context){var results=[];return null==obj?results:nativeMap&&obj.map===nativeMap?obj.map(iterator,context):(each(obj,function(value,index,list){results.push(iterator.call(context,value,index,list))}),results)};var reduceError="Reduce of empty array with no initial value";_.reduce=_.foldl=_.inject=function(obj,iterator,memo,context){var initial=arguments.length>2;if(null==obj&&(obj=[]),nativeReduce&&obj.reduce===nativeReduce)return context&&(iterator=_.bind(iterator,context)),initial?obj.reduce(iterator,memo):obj.reduce(iterator);if(each(obj,function(value,index,list){initial?memo=iterator.call(context,memo,value,index,list):(memo=value,initial=!0)}),!initial)throw new TypeError(reduceError);return memo},_.reduceRight=_.foldr=function(obj,iterator,memo,context){var initial=arguments.length>2;if(null==obj&&(obj=[]),nativeReduceRight&&obj.reduceRight===nativeReduceRight)return context&&(iterator=_.bind(iterator,context)),initial?obj.reduceRight(iterator,memo):obj.reduceRight(iterator);var length=obj.length;if(length!==+length){var keys=_.keys(obj);length=keys.length}if(each(obj,function(value,index,list){index=keys?keys[--length]:--length,initial?memo=iterator.call(context,memo,obj[index],index,list):(memo=obj[index],initial=!0)}),!initial)throw new TypeError(reduceError);return memo},_.find=_.detect=function(obj,iterator,context){var result;return any(obj,function(value,index,list){return iterator.call(context,value,index,list)?(result=value,!0):void 0}),result},_.filter=_.select=function(obj,iterator,context){var results=[];return null==obj?results:nativeFilter&&obj.filter===nativeFilter?obj.filter(iterator,context):(each(obj,function(value,index,list){iterator.call(context,value,index,list)&&results.push(value)}),results)},_.reject=function(obj,iterator,context){return _.filter(obj,function(value,index,list){return!iterator.call(context,value,index,list)},context)},_.every=_.all=function(obj,iterator,context){iterator||(iterator=_.identity);var result=!0;return null==obj?result:nativeEvery&&obj.every===nativeEvery?obj.every(iterator,context):(each(obj,function(value,index,list){return(result=result&&iterator.call(context,value,index,list))?void 0:breaker}),!!result)};var any=_.some=_.any=function(obj,iterator,context){iterator||(iterator=_.identity);var result=!1;return null==obj?result:nativeSome&&obj.some===nativeSome?obj.some(iterator,context):(each(obj,function(value,index,list){return result||(result=iterator.call(context,value,index,list))?breaker:void 0}),!!result)};_.contains=_.include=function(obj,target){return null==obj?!1:nativeIndexOf&&obj.indexOf===nativeIndexOf?-1!=obj.indexOf(target):any(obj,function(value){return value===target})},_.invoke=function(obj,method){var args=slice.call(arguments,2),isFunc=_.isFunction(method);return _.map(obj,function(value){return(isFunc?method:value[method]).apply(value,args)})},_.pluck=function(obj,key){return _.map(obj,function(value){return value[key]})},_.where=function(obj,attrs,first){return _.isEmpty(attrs)?first?void 0:[]:_[first?"find":"filter"](obj,function(value){for(var key in attrs)if(attrs[key]!==value[key])return!1;return!0})},_.findWhere=function(obj,attrs){return _.where(obj,attrs,!0)},_.max=function(obj,iterator,context){if(!iterator&&_.isArray(obj)&&obj[0]===+obj[0]&&obj.length<65535)return Math.max.apply(Math,obj);if(!iterator&&_.isEmpty(obj))return-1/0;var result={computed:-1/0,value:-1/0};return each(obj,function(value,index,list){var computed=iterator?iterator.call(context,value,index,list):value;computed>result.computed&&(result={value:value,computed:computed})}),result.value},_.min=function(obj,iterator,context){if(!iterator&&_.isArray(obj)&&obj[0]===+obj[0]&&obj.length<65535)return Math.min.apply(Math,obj);if(!iterator&&_.isEmpty(obj))return 1/0;var result={computed:1/0,value:1/0};return each(obj,function(value,index,list){var computed=iterator?iterator.call(context,value,index,list):value;computed<result.computed&&(result={value:value,computed:computed})}),result.value},_.shuffle=function(obj){var rand,index=0,shuffled=[];return each(obj,function(value){rand=_.random(index++),shuffled[index-1]=shuffled[rand],shuffled[rand]=value}),shuffled};var lookupIterator=function(value){return _.isFunction(value)?value:function(obj){return obj[value]}};_.sortBy=function(obj,value,context){var iterator=lookupIterator(value);return _.pluck(_.map(obj,function(value,index,list){return{value:value,index:index,criteria:iterator.call(context,value,index,list)}}).sort(function(left,right){var a=left.criteria,b=right.criteria;if(a!==b){if(a>b||void 0===a)return 1;if(b>a||void 0===b)return-1}return left.index<right.index?-1:1}),"value")};var group=function(behavior){return function(obj,value,context){var result={},iterator=null==value?_.identity:lookupIterator(value);return each(obj,function(value,index){var key=iterator.call(context,value,index,obj);behavior(result,key,value)}),result}};_.groupBy=group(function(result,key,value){(_.has(result,key)?result[key]:result[key]=[]).push(value)}),_.indexBy=group(function(result,key,value){result[key]=value}),_.countBy=group(function(result,key){_.has(result,key)?result[key]++:result[key]=1}),_.sortedIndex=function(array,obj,iterator,context){iterator=null==iterator?_.identity:lookupIterator(iterator);for(var value=iterator.call(context,obj),low=0,high=array.length;high>low;){var mid=low+high>>>1;iterator.call(context,array[mid])<value?low=mid+1:high=mid}return low},_.toArray=function(obj){return obj?_.isArray(obj)?slice.call(obj):obj.length===+obj.length?_.map(obj,_.identity):_.values(obj):[]},_.size=function(obj){return null==obj?0:obj.length===+obj.length?obj.length:_.keys(obj).length},_.first=_.head=_.take=function(array,n,guard){return null==array?void 0:null==n||guard?array[0]:slice.call(array,0,n)},_.initial=function(array,n,guard){return slice.call(array,0,array.length-(null==n||guard?1:n))},_.last=function(array,n,guard){return null==array?void 0:null==n||guard?array[array.length-1]:slice.call(array,Math.max(array.length-n,0))},_.rest=_.tail=_.drop=function(array,n,guard){return slice.call(array,null==n||guard?1:n)},_.compact=function(array){return _.filter(array,_.identity)};var flatten=function(input,shallow,output){return shallow&&_.every(input,_.isArray)?concat.apply(output,input):(each(input,function(value){_.isArray(value)||_.isArguments(value)?shallow?push.apply(output,value):flatten(value,shallow,output):output.push(value)}),output)};_.flatten=function(array,shallow){return flatten(array,shallow,[])},_.without=function(array){return _.difference(array,slice.call(arguments,1))},_.uniq=_.unique=function(array,isSorted,iterator,context){_.isFunction(isSorted)&&(context=iterator,iterator=isSorted,isSorted=!1);var initial=iterator?_.map(array,iterator,context):array,results=[],seen=[];return each(initial,function(value,index){(isSorted?index&&seen[seen.length-1]===value:_.contains(seen,value))||(seen.push(value),results.push(array[index]))}),results},_.union=function(){return _.uniq(_.flatten(arguments,!0))},_.intersection=function(array){var rest=slice.call(arguments,1);return _.filter(_.uniq(array),function(item){return _.every(rest,function(other){return _.indexOf(other,item)>=0})})},_.difference=function(array){var rest=concat.apply(ArrayProto,slice.call(arguments,1));return _.filter(array,function(value){return!_.contains(rest,value)})},_.zip=function(){for(var length=_.max(_.pluck(arguments,"length").concat(0)),results=new Array(length),i=0;length>i;i++)results[i]=_.pluck(arguments,""+i);return results},_.object=function(list,values){if(null==list)return{};for(var result={},i=0,length=list.length;length>i;i++)values?result[list[i]]=values[i]:result[list[i][0]]=list[i][1];return result},_.indexOf=function(array,item,isSorted){if(null==array)return-1;var i=0,length=array.length;if(isSorted){if("number"!=typeof isSorted)return i=_.sortedIndex(array,item),array[i]===item?i:-1;i=0>isSorted?Math.max(0,length+isSorted):isSorted}if(nativeIndexOf&&array.indexOf===nativeIndexOf)return array.indexOf(item,isSorted);for(;length>i;i++)if(array[i]===item)return i;return-1},_.lastIndexOf=function(array,item,from){if(null==array)return-1;var hasIndex=null!=from;if(nativeLastIndexOf&&array.lastIndexOf===nativeLastIndexOf)return hasIndex?array.lastIndexOf(item,from):array.lastIndexOf(item);for(var i=hasIndex?from:array.length;i--;)if(array[i]===item)return i;return-1},_.range=function(start,stop,step){arguments.length<=1&&(stop=start||0,start=0),step=arguments[2]||1;for(var length=Math.max(Math.ceil((stop-start)/step),0),idx=0,range=new Array(length);length>idx;)range[idx++]=start,start+=step;return range};var ctor=function(){};_.bind=function(func,context){var args,bound;if(nativeBind&&func.bind===nativeBind)return nativeBind.apply(func,slice.call(arguments,1));if(!_.isFunction(func))throw new TypeError;return args=slice.call(arguments,2),bound=function(){if(!(this instanceof bound))return func.apply(context,args.concat(slice.call(arguments)));ctor.prototype=func.prototype;var self=new ctor;ctor.prototype=null;var result=func.apply(self,args.concat(slice.call(arguments)));return Object(result)===result?result:self}},_.partial=function(func){var args=slice.call(arguments,1);return function(){return func.apply(this,args.concat(slice.call(arguments)))}},_.bindAll=function(obj){var funcs=slice.call(arguments,1);if(0===funcs.length)throw new Error("bindAll must be passed function names");return each(funcs,function(f){obj[f]=_.bind(obj[f],obj)}),obj},_.memoize=function(func,hasher){var memo={};return hasher||(hasher=_.identity),function(){var key=hasher.apply(this,arguments);return _.has(memo,key)?memo[key]:memo[key]=func.apply(this,arguments)}},_.delay=function(func,wait){var args=slice.call(arguments,2);return setTimeout(function(){return func.apply(null,args)},wait)},_.defer=function(func){return _.delay.apply(_,[func,1].concat(slice.call(arguments,1)))},_.throttle=function(func,wait,options){var context,args,result,timeout=null,previous=0;options||(options={});var later=function(){previous=options.leading===!1?0:new Date,timeout=null,result=func.apply(context,args)};return function(){var now=new Date;previous||options.leading!==!1||(previous=now);var remaining=wait-(now-previous);return context=this,args=arguments,0>=remaining?(clearTimeout(timeout),timeout=null,previous=now,result=func.apply(context,args)):timeout||options.trailing===!1||(timeout=setTimeout(later,remaining)),result}},_.debounce=function(func,wait,immediate){var result,timeout=null;return function(){var context=this,args=arguments,later=function(){timeout=null,immediate||(result=func.apply(context,args))},callNow=immediate&&!timeout;return clearTimeout(timeout),timeout=setTimeout(later,wait),callNow&&(result=func.apply(context,args)),result}},_.once=function(func){var memo,ran=!1;return function(){return ran?memo:(ran=!0,memo=func.apply(this,arguments),func=null,memo)}},_.wrap=function(func,wrapper){return function(){var args=[func];return push.apply(args,arguments),wrapper.apply(this,args)}},_.compose=function(){var funcs=arguments;return function(){for(var args=arguments,i=funcs.length-1;i>=0;i--)args=[funcs[i].apply(this,args)];return args[0]}},_.after=function(times,func){return function(){return--times<1?func.apply(this,arguments):void 0}},_.keys=nativeKeys||function(obj){if(obj!==Object(obj))throw new TypeError("Invalid object");var keys=[];for(var key in obj)_.has(obj,key)&&keys.push(key);return keys},_.values=function(obj){for(var keys=_.keys(obj),length=keys.length,values=new Array(length),i=0;length>i;i++)values[i]=obj[keys[i]];return values},_.pairs=function(obj){for(var keys=_.keys(obj),length=keys.length,pairs=new Array(length),i=0;length>i;i++)pairs[i]=[keys[i],obj[keys[i]]];return pairs},_.invert=function(obj){for(var result={},keys=_.keys(obj),i=0,length=keys.length;length>i;i++)result[obj[keys[i]]]=keys[i];return result},_.functions=_.methods=function(obj){var names=[];for(var key in obj)_.isFunction(obj[key])&&names.push(key);return names.sort()},_.extend=function(obj){return each(slice.call(arguments,1),function(source){if(source)for(var prop in source)obj[prop]=source[prop]}),obj},_.pick=function(obj){var copy={},keys=concat.apply(ArrayProto,slice.call(arguments,1));return each(keys,function(key){key in obj&&(copy[key]=obj[key])}),copy},_.omit=function(obj){var copy={},keys=concat.apply(ArrayProto,slice.call(arguments,1));for(var key in obj)_.contains(keys,key)||(copy[key]=obj[key]);return copy},_.defaults=function(obj){return each(slice.call(arguments,1),function(source){if(source)for(var prop in source)void 0===obj[prop]&&(obj[prop]=source[prop])}),obj},_.clone=function(obj){return _.isObject(obj)?_.isArray(obj)?obj.slice():_.extend({},obj):obj},_.tap=function(obj,interceptor){return interceptor(obj),obj};var eq=function(a,b,aStack,bStack){if(a===b)return 0!==a||1/a==1/b;if(null==a||null==b)return a===b;a instanceof _&&(a=a._wrapped),b instanceof _&&(b=b._wrapped);var className=toString.call(a);if(className!=toString.call(b))return!1;switch(className){case"[object String]":return a==String(b);case"[object Number]":return a!=+a?b!=+b:0==a?1/a==1/b:a==+b;case"[object Date]":case"[object Boolean]":return+a==+b;case"[object RegExp]":return a.source==b.source&&a.global==b.global&&a.multiline==b.multiline&&a.ignoreCase==b.ignoreCase}if("object"!=typeof a||"object"!=typeof b)return!1;for(var length=aStack.length;length--;)if(aStack[length]==a)return bStack[length]==b;var aCtor=a.constructor,bCtor=b.constructor;if(aCtor!==bCtor&&!(_.isFunction(aCtor)&&aCtor instanceof aCtor&&_.isFunction(bCtor)&&bCtor instanceof bCtor))return!1;aStack.push(a),bStack.push(b);var size=0,result=!0;if("[object Array]"==className){if(size=a.length,result=size==b.length)for(;size--&&(result=eq(a[size],b[size],aStack,bStack)););}else{for(var key in a)if(_.has(a,key)&&(size++,!(result=_.has(b,key)&&eq(a[key],b[key],aStack,bStack))))break;if(result){for(key in b)if(_.has(b,key)&&!size--)break;result=!size}}return aStack.pop(),bStack.pop(),result};_.isEqual=function(a,b){return eq(a,b,[],[])},_.isEmpty=function(obj){if(null==obj)return!0;if(_.isArray(obj)||_.isString(obj))return 0===obj.length;for(var key in obj)if(_.has(obj,key))return!1;return!0},_.isElement=function(obj){return!(!obj||1!==obj.nodeType)},_.isArray=nativeIsArray||function(obj){return"[object Array]"==toString.call(obj)},_.isObject=function(obj){return obj===Object(obj)},each(["Arguments","Function","String","Number","Date","RegExp"],function(name){_["is"+name]=function(obj){return toString.call(obj)=="[object "+name+"]"}}),_.isArguments(arguments)||(_.isArguments=function(obj){return!(!obj||!_.has(obj,"callee"))}),"function"!=typeof/./&&(_.isFunction=function(obj){return"function"==typeof obj}),_.isFinite=function(obj){return isFinite(obj)&&!isNaN(parseFloat(obj))},_.isNaN=function(obj){return _.isNumber(obj)&&obj!=+obj},_.isBoolean=function(obj){return obj===!0||obj===!1||"[object Boolean]"==toString.call(obj)},_.isNull=function(obj){return null===obj},_.isUndefined=function(obj){return void 0===obj},_.has=function(obj,key){return hasOwnProperty.call(obj,key)},_.noConflict=function(){return root._=previousUnderscore,this},_.identity=function(value){return value},_.times=function(n,iterator,context){for(var accum=Array(Math.max(0,n)),i=0;n>i;i++)accum[i]=iterator.call(context,i);return accum},_.random=function(min,max){return null==max&&(max=min,min=0),min+Math.floor(Math.random()*(max-min+1))};var entityMap={escape:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;"}};entityMap.unescape=_.invert(entityMap.escape);var entityRegexes={escape:new RegExp("["+_.keys(entityMap.escape).join("")+"]","g"),unescape:new RegExp("("+_.keys(entityMap.unescape).join("|")+")","g")};_.each(["escape","unescape"],function(method){_[method]=function(string){return null==string?"":(""+string).replace(entityRegexes[method],function(match){return entityMap[method][match]})}}),_.result=function(object,property){if(null==object)return void 0;var value=object[property];return _.isFunction(value)?value.call(object):value},_.mixin=function(obj){each(_.functions(obj),function(name){var func=_[name]=obj[name];_.prototype[name]=function(){var args=[this._wrapped];return push.apply(args,arguments),result.call(this,func.apply(_,args))}})};var idCounter=0;_.uniqueId=function(prefix){var id=++idCounter+"";return prefix?prefix+id:id},_.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var noMatch=/(.)^/,escapes={"'":"'","\\":"\\","\r":"r","\n":"n","	":"t","\u2028":"u2028","\u2029":"u2029"},escaper=/\\|'|\r|\n|\t|\u2028|\u2029/g;_.template=function(text,data,settings){var render;settings=_.defaults({},settings,_.templateSettings);var matcher=new RegExp([(settings.escape||noMatch).source,(settings.interpolate||noMatch).source,(settings.evaluate||noMatch).source].join("|")+"|$","g"),index=0,source="__p+='";text.replace(matcher,function(match,escape,interpolate,evaluate,offset){return source+=text.slice(index,offset).replace(escaper,function(match){return"\\"+escapes[match]}),escape&&(source+="'+\n((__t=("+escape+"))==null?'':_.escape(__t))+\n'"),interpolate&&(source+="'+\n((__t=("+interpolate+"))==null?'':__t)+\n'"),evaluate&&(source+="';\n"+evaluate+"\n__p+='"),index=offset+match.length,match}),source+="';\n",settings.variable||(source="with(obj||{}){\n"+source+"}\n"),source="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+source+"return __p;\n";try{render=new Function(settings.variable||"obj","_",source)}catch(e){throw e.source=source,e}if(data)return render(data,_);var template=function(data){return render.call(this,data,_)};return template.source="function("+(settings.variable||"obj")+"){\n"+source+"}",template},_.chain=function(obj){return _(obj).chain()};var result=function(obj){return this._chain?_(obj).chain():obj};_.mixin(_),each(["pop","push","reverse","shift","sort","splice","unshift"],function(name){var method=ArrayProto[name];_.prototype[name]=function(){var obj=this._wrapped;return method.apply(obj,arguments),"shift"!=name&&"splice"!=name||0!==obj.length||delete obj[0],result.call(this,obj)}}),each(["concat","join","slice"],function(name){var method=ArrayProto[name];_.prototype[name]=function(){return result.call(this,method.apply(this._wrapped,arguments))}}),_.extend(_.prototype,{chain:function(){return this._chain=!0,this},value:function(){return this._wrapped}})}.call(this),/*! Cookies.js - 0.4.0; Copyright (c) 2014, Scott Hamper; http://www.opensource.org/licenses/MIT */
function(e){"use strict";var b=function(a,d,c){return 1===arguments.length?b.get(a):b.set(a,d,c)};b._document=document,b._navigator=navigator,b.defaults={path:"/"},b.get=function(a){return b._cachedDocumentCookie!==b._document.cookie&&b._renewCache(),b._cache[a]},b.set=function(a,d,c){return c=b._getExtendedOptions(c),c.expires=b._getExpiresDate(d===e?-1:c.expires),b._document.cookie=b._generateCookieString(a,d,c),b},b.expire=function(a,d){return b.set(a,e,d)},b._getExtendedOptions=function(a){return{path:a&&a.path||b.defaults.path,domain:a&&a.domain||b.defaults.domain,expires:a&&a.expires||b.defaults.expires,secure:a&&a.secure!==e?a.secure:b.defaults.secure}},b._isValidDate=function(a){return"[object Date]"===Object.prototype.toString.call(a)&&!isNaN(a.getTime())},b._getExpiresDate=function(a,d){switch(d=d||new Date,typeof a){case"number":a=new Date(d.getTime()+1e3*a);break;case"string":a=new Date(a)}if(a&&!b._isValidDate(a))throw Error("`expires` parameter cannot be converted to a valid Date instance");return a},b._generateCookieString=function(a,b,c){return a=a.replace(/[^#$&+\^`|]/g,encodeURIComponent),a=a.replace(/\(/g,"%28").replace(/\)/g,"%29"),b=(b+"").replace(/[^!#$&-+\--:<-\[\]-~]/g,encodeURIComponent),c=c||{},a=a+"="+b+(c.path?";path="+c.path:""),a+=c.domain?";domain="+c.domain:"",a+=c.expires?";expires="+c.expires.toUTCString():"",a+=c.secure?";secure":""},b._getCookieObjectFromString=function(a){var d={};a=a?a.split("; "):[];for(var c=0;c<a.length;c++){var f=b._getKeyValuePairFromCookieString(a[c]);d[f.key]===e&&(d[f.key]=f.value)}return d},b._getKeyValuePairFromCookieString=function(a){var b=a.indexOf("="),b=0>b?a.length:b;return{key:decodeURIComponent(a.substr(0,b)),value:decodeURIComponent(a.substr(b+1))}},b._renewCache=function(){b._cache=b._getCookieObjectFromString(b._document.cookie),b._cachedDocumentCookie=b._document.cookie},b._areEnabled=function(){var a="1"===b.set("cookies.js",1).get("cookies.js");return b.expire("cookies.js"),a},b.enabled=b._areEnabled(),"function"==typeof define&&define.amd?define(function(){return b}):"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=b),exports.Cookies=b):window.Cookies=b}(),!function(t,n){"object"==typeof exports&&"object"==typeof module?module.exports=n():"function"==typeof define&&define.amd?define(n):"object"==typeof exports?exports.flight=n():t.flight=n()}(this,function(){return function(t){function n(o){if(e[o])return e[o].exports;var i=e[o]={exports:{},id:o,loaded:!1};return t[o].call(i.exports,i,i.exports,n),i.loaded=!0,i.exports}var e={};return n.m=t,n.c=e,n.p="",n(0)}([function(t,n,e){var o,i;o=[e(1),e(2),e(3),e(4),e(5),e(6),e(7)],i=function(t,n,e,o,i,r,a){"use strict";return{advice:t,component:n,compose:e,debug:o,logger:i,registry:r,utils:a}}.apply(n,o),!(void 0!==i&&(t.exports=i))},function(t,n,e){var o,i;o=[e(7)],i=function(t){"use strict";var n={around:function(t,n){return function(){var e=0,o=arguments.length,i=new Array(o+1);for(i[0]=t.bind(this);o>e;e++)i[e+1]=arguments[e];return n.apply(this,i)}},before:function(t,n){var e="function"==typeof n?n:n.obj[n.fnName];return function(){return e.apply(this,arguments),t.apply(this,arguments)}},after:function(t,n){var e="function"==typeof n?n:n.obj[n.fnName];return function(){var n=(t.unbound||t).apply(this,arguments);return e.apply(this,arguments),n}},withAdvice:function(){["before","after","around"].forEach(function(e){this[e]=function(o,i){t.mutateProperty(this,o,function(){return this[o]="function"==typeof this[o]?n[e](this[o],i):i,this[o]})}},this)}};return n}.apply(n,o),!(void 0!==i&&(t.exports=i))},function(t,n,e){var o,i;o=[e(1),e(7),e(3),e(8),e(6),e(5),e(4)],i=function(t,n,e,o,i,r,a){"use strict";function s(){var t=i.findComponentInfo(this);t&&Object.keys(t.instances).forEach(function(n){var e=t.instances[n];e&&e.instance&&e.instance.teardown()})}function c(t){for(var e=arguments.length,o=new Array(e-1),r=1;e>r;r++)o[r-1]=arguments[r];if(!t)throw new Error("Component needs to be attachTo'd a jQuery object, native node or selector string");var a=n.merge.apply(n,o),s=i.findComponentInfo(this);$(t).each(function(t,n){s&&s.isAttachedTo(n)||(new this).initialize(n,a)}.bind(this))}function u(){var t=this.mixedIn||this.prototype.mixedIn||[];return t.map(function(t){if(null==t.name){var n=t.toString().match(l);return n&&n[1]?n[1]:""}return"withBase"!=t.name?t.name:""}).filter(Boolean).join(", ")}function f(){for(var l=arguments.length,h=new Array(l),p=0;l>p;p++)h[p]=arguments[p];var d=function(){};return d.toString=d.prototype.toString=u,a.enabled&&(d.describe=d.prototype.describe=d.toString()),d.attachTo=c,d.mixin=function(){var t=f(),o=Object.create(d.prototype);return o.mixedIn=[].concat(d.prototype.mixedIn),o.defaults=n.merge(d.prototype.defaults),o.attrDef=d.prototype.attrDef,e.mixin(o,arguments),t.prototype=o,t.prototype.constructor=t,t},d.teardownAll=s,a.enabled&&h.unshift(r),h.unshift(o,t.withAdvice,i.withRegistration),e.mixin(d.prototype,h),d}var l=/function (.*?)\s?\(/;return f.teardownAll=function(){i.components.slice().forEach(function(t){t.component.teardownAll()}),i.reset()},f}.apply(n,o),!(void 0!==i&&(t.exports=i))},function(t,n,e){var o,i;o=[e(7)],i=function(t){"use strict";function n(n,e){Object.keys(n).forEach(function(i){o.indexOf(i)<0&&t.propertyWritability(n,i,e)})}function e(t,e){t.mixedIn=t.hasOwnProperty("mixedIn")?t.mixedIn:[];for(var o=0;o<e.length;o++)-1==t.mixedIn.indexOf(e[o])&&(n(t,!1),e[o].call(t),t.mixedIn.push(e[o]));n(t,!0)}var o=["mixedIn","attrDef"];return{mixin:e}}.apply(n,o),!(void 0!==i&&(t.exports=i))},function(t,n,e){var o,i;o=[e(6)],i=function(t){"use strict";function n(t,e,o){o=o||{};var i=o.obj||window,r=o.path||(i==window?"window":""),a=Object.keys(i);a.forEach(function(o){(g[t]||t)(e,i,o)&&console.log([r,".",o].join(""),"->",["(",typeof i[o],")"].join(""),i[o]),"[object Object]"==Object.prototype.toString.call(i[o])&&i[o]!=i&&-1==r.split(".").indexOf(o)&&n(t,e,{obj:i[o],path:[r,o].join(".")})})}function e(t,e,o,i){e&&typeof o!=e?console.error([o,"must be",e].join(" ")):n(t,o,i)}function o(t,n){e("name","string",t,n)}function i(t,n){e("nameContains","string",t,n)}function r(t,n){e("type","function",t,n)}function a(t,n){e("value",null,t,n)}function s(t,n){e("valueCoerced",null,t,n)}function c(t,e){n(t,null,e)}function u(){var t=[].slice.call(arguments);v.eventNames.length||(v.eventNames=m),v.actions=t.length?t:m,p()}function f(){var t=[].slice.call(arguments);v.actions.length||(v.actions=m),v.eventNames=t.length?t:m,p()}function l(){v.actions=[],v.eventNames=[],p()}function h(){v.actions=m,v.eventNames=m,p()}function p(){try{window.localStorage&&(localStorage.setItem("logFilter_eventNames",v.eventNames),localStorage.setItem("logFilter_actions",v.actions))}catch(t){}}function d(){var t,n;try{t=window.localStorage&&localStorage.getItem("logFilter_eventNames"),n=window.localStorage&&localStorage.getItem("logFilter_actions")}catch(e){return}t&&(v.eventNames=t),n&&(v.actions=n),Object.keys(v).forEach(function(t){var n=v[t];"string"==typeof n&&n!==m&&(v[t]=n?n.split(","):[])})}var g={name:function(t,n,e){return t==e},nameContains:function(t,n,e){return e.indexOf(t)>-1},type:function(t,n,e){return n[e]instanceof t},value:function(t,n,e){return n[e]===t},valueCoerced:function(t,n,e){return n[e]==t}},m="all",v={eventNames:[],actions:[]};return{enable:function(t){this.enabled=!!t,t&&window.console&&(console.info("Booting in DEBUG mode"),console.info("You can configure event logging with DEBUG.events.logAll()/logNone()/logByName()/logByAction()")),d(),window.DEBUG=this},registry:t,find:{byName:o,byNameContains:i,byType:r,byValue:a,byValueCoerced:s,custom:c},events:{logFilter:v,logByAction:u,logByName:f,logAll:h,logNone:l}}}.apply(n,o),!(void 0!==i&&(t.exports=i))},function(t,n,e){var o,i;o=[e(7)],i=function(t){"use strict";function n(t){var n=t.tagName?t.tagName.toLowerCase():t.toString(),e=t.className?"."+t.className:"",o=n+e;return t.tagName?["'","'"].join(o):o}function e(t,e,o){if(window.DEBUG&&window.DEBUG.enabled){var r,a,s,c,u,f,l,h,p,d;"function"==typeof o[o.length-1]&&(c=o.pop(),c=c.unbound||c),1==o.length?(s=e.$node[0],a=o[0]):2!=o.length||"object"!=typeof o[1]||o[1].type?(s=o[0],a=o[1],"trigger"==t&&(u=o[2])):(s=e.$node[0],a=o[0],"trigger"==t&&(u=o[1])),r="object"==typeof a?a.type:a,f=DEBUG.events.logFilter,h="all"==f.actions||f.actions.indexOf(t)>-1,l=function(t){return t.test?t:new RegExp("^"+t.replace(/\*/g,".*")+"$")},p="all"==f.eventNames||f.eventNames.some(function(t){return l(t).test(r)}),h&&p&&(d=[i[t],t,"["+r+"]"],u&&d.push(u),d.push(n(s)),d.push(e.constructor.describe.split(" ").slice(0,3).join(" ")),console.groupCollapsed&&"trigger"==t&&console.groupCollapsed(t,r),console.info.apply(console,d))}}function o(){this.before("trigger",function(){e("trigger",this,t.toArray(arguments))}),console.groupCollapsed&&this.after("trigger",function(){console.groupEnd()}),this.before("on",function(){e("on",this,t.toArray(arguments))}),this.before("off",function(){e("off",this,t.toArray(arguments))})}var i={on:"<-",trigger:"->",off:"x "};return o}.apply(n,o),!(void 0!==i&&(t.exports=i))},function(t,n){var e,o;e=[],o=function(){"use strict";function t(t,n){var e,o,i,r=n.length;return"function"==typeof n[r-1]&&(r-=1,i=n[r]),"object"==typeof n[r-1]&&(r-=1),2==r?(e=n[0],o=n[1]):(e=t.node,o=n[0]),{element:e,type:o,callback:i}}function n(t,n){return t.element==n.element&&t.type==n.type&&(null==n.callback||t.callback==n.callback)}function e(){function e(t){this.component=t,this.attachedTo=[],this.instances={},this.addInstance=function(t){var n=new o(t);return this.instances[t.identity]=n,this.attachedTo.push(t.node),n},this.removeInstance=function(t){delete this.instances[t.identity];var n=this.attachedTo.indexOf(t.node);n>-1&&this.attachedTo.splice(n,1),Object.keys(this.instances).length||i.removeComponentInfo(this)},this.isAttachedTo=function(t){return this.attachedTo.indexOf(t)>-1}}function o(t){this.instance=t,this.events=[],this.addBind=function(t){this.events.push(t),i.events.push(t)},this.removeBind=function(t){for(var e,o=0;e=this.events[o];o++)n(e,t)&&this.events.splice(o,1)}}var i=this;(this.reset=function(){this.components=[],this.allInstances={},this.events=[]}).call(this),this.addInstance=function(t){var n=this.findComponentInfo(t);n||(n=new e(t.constructor),this.components.push(n));var o=n.addInstance(t);return this.allInstances[t.identity]=o,n},this.removeInstance=function(t){var n=this.findComponentInfo(t);n&&n.removeInstance(t),delete this.allInstances[t.identity]},this.removeComponentInfo=function(t){var n=this.components.indexOf(t);n>-1&&this.components.splice(n,1)},this.findComponentInfo=function(t){for(var n,e=t.attachTo?t:t.constructor,o=0;n=this.components[o];o++)if(n.component===e)return n;return null},this.findInstanceInfo=function(t){return this.allInstances[t.identity]||null},this.getBoundEventNames=function(t){return this.findInstanceInfo(t).events.map(function(t){return t.type})},this.findInstanceInfoByNode=function(t){var n=[];return Object.keys(this.allInstances).forEach(function(e){var o=this.allInstances[e];o.instance.node===t&&n.push(o)},this),n},this.on=function(n){for(var e,o=i.findInstanceInfo(this),r=arguments.length,a=1,s=new Array(r-1);r>a;a++)s[a-1]=arguments[a];if(o){e=n.apply(null,s),e&&(s[s.length-1]=e);var c=t(this,s);o.addBind(c)}},this.off=function(){var e=t(this,arguments),o=i.findInstanceInfo(this);o&&o.removeBind(e);for(var r,a=0;r=i.events[a];a++)n(r,e)&&i.events.splice(a,1)},i.trigger=function(){},this.teardown=function(){i.removeInstance(this)},this.withRegistration=function(){this.after("initialize",function(){i.addInstance(this)}),this.around("on",i.on),this.after("off",i.off),window.DEBUG&&(!1).enabled&&this.after("trigger",i.trigger),this.after("teardown",{obj:i,fnName:"teardown"})}}return new e}.apply(n,e),!(void 0!==o&&(t.exports=o))},function(t,n,e){var o,i;o=[e(4)],i=function(t){"use strict";function n(){var n=t.enabled&&!Object.propertyIsEnumerable("getOwnPropertyDescriptor");if(n)try{Object.getOwnPropertyDescriptor(Object,"keys")}catch(e){return!1}return n}var e=100,o={isDomObj:function(t){return!(!t.nodeType&&t!==window)},toArray:function(t,n){n=n||0;for(var e=t.length,o=new Array(e-n),i=n;e>i;i++)o[i-n]=t[i];return o},merge:function(){var t=arguments.length,n=new Array(t+1);if(0===t)return{};for(var e=0;t>e;e++)n[e+1]=arguments[e];return n[0]={},n[n.length-1]===!0&&(n.pop(),n.unshift(!0)),$.extend.apply(void 0,n)},push:function(t,n,e){return t&&Object.keys(n||{}).forEach(function(o){if(t[o]&&e)throw new Error('utils.push attempted to overwrite "'+o+'" while running in protected mode');"object"==typeof t[o]&&"object"==typeof n[o]?this.push(t[o],n[o]):t[o]=n[o]},this),t},getEnumerableProperty:function(t,n){return t.propertyIsEnumerable(n)?t[n]:void 0},compose:function(){var t=arguments;return function(){for(var n=arguments,e=t.length-1;e>=0;e--)n=[t[e].apply(this,n)];return n[0]}},uniqueArray:function(t){for(var n={},e=[],o=0,i=t.length;i>o;++o)n.hasOwnProperty(t[o])||(e.push(t[o]),n[t[o]]=1);return e},debounce:function(t,n,o){"number"!=typeof n&&(n=e);var i,r;return function(){var e=this,a=arguments,s=function(){i=null,o||(r=t.apply(e,a))},c=o&&!i;return i&&clearTimeout(i),i=setTimeout(s,n),c&&(r=t.apply(e,a)),r}},throttle:function(t,n){"number"!=typeof n&&(n=e);var o,i,r,a,s,c,u=this.debounce(function(){s=a=!1},n);return function(){o=this,i=arguments;var e=function(){r=null,s&&(c=t.apply(o,i)),u()};return r||(r=setTimeout(e,n)),a?s=!0:(a=!0,c=t.apply(o,i)),u(),c}},countThen:function(t,n){return function(){return--t?void 0:n.apply(this,arguments)}},delegate:function(t){return function(n,e){var o,i=$(n.target);Object.keys(t).forEach(function(r){return!n.isPropagationStopped()&&(o=i.closest(r)).length?(e=e||{},e.el=o[0],t[r].apply(this,[n,e])):void 0},this)}},once:function(t){var n,e;return function(){return n?e:(n=!0,e=t.apply(this,arguments))}},propertyWritability:function(t,e,o){n()&&t.hasOwnProperty(e)&&Object.defineProperty(t,e,{writable:o})},mutateProperty:function(t,e,o){var i;return n()&&t.hasOwnProperty(e)?(i=Object.getOwnPropertyDescriptor(t,e).writable,Object.defineProperty(t,e,{writable:!0}),o.call(t),void Object.defineProperty(t,e,{writable:i})):void o.call(t)}};return o}.apply(n,o),!(void 0!==i&&(t.exports=i))},function(t,n,e){var o,i;o=[e(7),e(6),e(4)],i=function(t,n,e){"use strict";function o(t){t.events.slice().forEach(function(t){var n=[t.type];t.element&&n.unshift(t.element),"function"==typeof t.callback&&n.push(t.callback),this.off.apply(this,n)},t.instance)}function i(t,n){try{window.postMessage(n,"*")}catch(e){throw console.log("unserializable data for event",t,":",n),new Error(["The event",t,"on component",this.toString(),"was triggered with non-serializable data"].join(" "))}}function r(t){var n,o=[];if(this.attr=new this.attrDef,e.enabled&&window.console){for(var i in this.attrDef.prototype)o.push(i);n=Object.keys(t);for(var r=n.length-1;r>=0;r--)if(-1==o.indexOf(n[r])){console.warn('Passed unused attributes including "'+n[r]+'" to component "'+this.toString()+'".');break}}for(var i in this.attrDef.prototype){if("undefined"==typeof t[i]){if(null===this.attr[i])throw new Error('Required attribute "'+i+'" not specified in attachTo for component "'+this.toString()+'".')}else this.attr[i]=t[i];"function"==typeof this.attr[i]&&(this.attr[i]=this.attr[i].call(this))}}function a(t){var n=Object.create(t);for(var e in this.defaults)t.hasOwnProperty(e)||(n[e]=this.defaults[e]);this.attr=n,Object.keys(this.defaults||{}).forEach(function(t){if(null===this.defaults[t]&&null===this.attr[t])throw new Error('Required attribute "'+t+'" not specified in attachTo for component "'+this.toString()+'".')},this)}function s(t){return function(n,e){$(n.target).trigger(t,e)}}function c(){this.trigger=function(){var t,n,o,r,a,s=arguments.length-1,c=arguments[s];return"string"==typeof c||c&&c.defaultBehavior||(s--,o=c),1==s?(t=$(arguments[0]),r=arguments[1]):(t=this.$node,r=arguments[0]),r.defaultBehavior&&(a=r.defaultBehavior,r=$.Event(r.type)),n=r.type||r,e.enabled&&window.postMessage&&i.call(this,n,o),"object"==typeof this.attr.eventData&&(o=$.extend(!0,{},this.attr.eventData,o)),t.trigger(r||n,o),a&&!r.isDefaultPrevented()&&(this[a]||a).call(this,r,o),t},this.on=function(){var n,e,o,i,r=arguments.length-1,a=arguments[r];if(i="object"==typeof a?t.delegate(this.resolveDelegateRules(a)):"string"==typeof a?s(a):a,2==r?(n=$(arguments[0]),e=arguments[1]):(n=this.$node,e=arguments[0]),"function"!=typeof i&&"object"!=typeof i)throw new Error('Unable to bind to "'+e+'" because the given callback is not a function or an object');return o=i.bind(this),o.target=i,o.context=this,n.on(e,o),i.bound||(i.bound=[]),i.bound.push(o),o},this.off=function(){var t,e,o,i=arguments.length-1;if("function"==typeof arguments[i]&&(o=arguments[i],i-=1),1==i?(t=$(arguments[0]),e=arguments[1]):(t=this.$node,e=arguments[0]),o){var r=o.target?o.target.bound:o.bound||[];r&&r.some(function(t,n,e){return t.context&&this.identity==t.context.identity?(e.splice(n,1),o=t,!0):void 0},this),t.off(e,o)}else n.findInstanceInfo(this).events.forEach(function(n){e==n.type&&t.off(e,n.callback)});return t},this.resolveDelegateRules=function(t){var n={};return Object.keys(t).forEach(function(e){if(!(e in this.attr))throw new Error('Component "'+this.toString()+'" wants to listen on "'+e+'" but no such attribute was defined.');n[this.attr[e]]="string"==typeof t[e]?s(t[e]):t[e]},this),n},this.select=function(t){return this.$node.find(this.attr[t])},this.attributes=function(t){var n=function(){};this.attrDef&&(n.prototype=new this.attrDef);for(var e in t)n.prototype[e]=t[e];this.attrDef=n},this.defaultAttrs=function(n){t.push(this.defaults,n,!0)||(this.defaults=n)},this.initialize=function(t,n){if(n=n||{},this.identity||(this.identity=u++),!t)throw new Error("Component needs a node");return t.jquery?(this.node=t[0],this.$node=t):(this.node=t,this.$node=$(t)),this.attrDef?r.call(this,n):a.call(this,n),this},this.teardown=function(){o(n.findInstanceInfo(this))}}var u=0;return c}.apply(n,o),!(void 0!==i&&(t.exports=i))}])}),/*!
 * Pusher JavaScript Library v2.2.0
 * http://pusherapp.com/
 *
 * Copyright 2013, Pusher
 * Released under the MIT licence.
 */
function(){function b(a,d){(null===a||void 0===a)&&b.warn("Warning","You must pass your app key when you instantiate Pusher."),d=d||{};var c=this;this.key=a,this.config=b.Util.extend(b.getGlobalConfig(),d.cluster?b.getClusterConfig(d.cluster):{},d),this.channels=new b.Channels,this.global_emitter=new b.EventsDispatcher,this.sessionID=Math.floor(1e9*Math.random()),this.timeline=new b.Timeline(this.key,this.sessionID,{cluster:this.config.cluster,features:b.Util.getClientFeatures(),params:this.config.timelineParams||{},limit:50,level:b.Timeline.INFO,version:b.VERSION}),this.config.disableStats||(this.timelineSender=new b.TimelineSender(this.timeline,{host:this.config.statsHost,path:"/timeline/v2/jsonp"})),this.connection=new b.ConnectionManager(this.key,b.Util.extend({getStrategy:function(a){return a=b.Util.extend({},c.config,a),b.StrategyBuilder.build(b.getDefaultStrategy(a),a)},timeline:this.timeline,activityTimeout:this.config.activity_timeout,pongTimeout:this.config.pong_timeout,unavailableTimeout:this.config.unavailable_timeout},this.config,{encrypted:this.isEncrypted()})),this.connection.bind("connected",function(){c.subscribeAll(),c.timelineSender&&c.timelineSender.send(c.connection.isEncrypted())}),this.connection.bind("message",function(a){var d=0===a.event.indexOf("pusher_internal:");if(a.channel){var b=c.channel(a.channel);b&&b.handleEvent(a.event,a.data)}d||c.global_emitter.emit(a.event,a.data)}),this.connection.bind("disconnected",function(){c.channels.disconnect()}),this.connection.bind("error",function(a){b.warn("Error",a)}),b.instances.push(this),this.timeline.info({instances:b.instances.length}),b.isReady&&c.connect()}var c=b.prototype;b.instances=[],b.isReady=!1,b.debug=function(){b.log&&b.log(b.Util.stringify.apply(this,arguments))},b.warn=function(){var a=b.Util.stringify.apply(this,arguments);window.console&&(window.console.warn?window.console.warn(a):window.console.log&&window.console.log(a)),b.log&&b.log(a)},b.ready=function(){b.isReady=!0;for(var a=0,d=b.instances.length;d>a;a++)b.instances[a].connect()},c.channel=function(a){return this.channels.find(a)},c.allChannels=function(){return this.channels.all()},c.connect=function(){if(this.connection.connect(),this.timelineSender&&!this.timelineSenderTimer){var a=this.connection.isEncrypted(),d=this.timelineSender;this.timelineSenderTimer=new b.PeriodicTimer(6e4,function(){d.send(a)})}},c.disconnect=function(){this.connection.disconnect(),this.timelineSenderTimer&&(this.timelineSenderTimer.ensureAborted(),this.timelineSenderTimer=null)},c.bind=function(a,d){return this.global_emitter.bind(a,d),this},c.bind_all=function(a){return this.global_emitter.bind_all(a),this},c.subscribeAll=function(){for(var a in this.channels.channels)this.channels.channels.hasOwnProperty(a)&&this.subscribe(a)},c.subscribe=function(a){return a=this.channels.add(a,this),"connected"===this.connection.state&&a.subscribe(),a},c.unsubscribe=function(a){a=this.channels.remove(a),"connected"===this.connection.state&&a.unsubscribe()},c.send_event=function(a,d,b){return this.connection.send_event(a,d,b)},c.isEncrypted=function(){return"https:"===b.Util.getDocument().location.protocol?!0:Boolean(this.config.encrypted)},b.HTTP={},this.Pusher=b}.call(this),function(){function b(a){window.clearTimeout(a)}function c(a){window.clearInterval(a)}function a(a,d,b,c){var k=this;this.clear=d,this.timer=a(function(){null!==k.timer&&(k.timer=c(k.timer))},b)}var d=a.prototype;d.isRunning=function(){return null!==this.timer},d.ensureAborted=function(){this.timer&&(this.clear(this.timer),this.timer=null)},Pusher.Timer=function(d,c){return new a(setTimeout,b,d,function(){return c(),null})},Pusher.PeriodicTimer=function(d,b){return new a(setInterval,c,d,function(a){return b(),a})}}.call(this),function(){Pusher.Util={now:function(){return Date.now?Date.now():(new Date).valueOf()},defer:function(b){return new Pusher.Timer(0,b)},extend:function(b){for(var c=1;c<arguments.length;c++){var d,a=arguments[c];for(d in a)b[d]=a[d]&&a[d].constructor&&a[d].constructor===Object?Pusher.Util.extend(b[d]||{},a[d]):a[d]}return b},stringify:function(){for(var b=["Pusher"],c=0;c<arguments.length;c++)"string"==typeof arguments[c]?b.push(arguments[c]):void 0===window.JSON?b.push(arguments[c].toString()):b.push(JSON.stringify(arguments[c]));return b.join(" : ")},arrayIndexOf:function(b,c){var a=Array.prototype.indexOf;if(null===b)return-1;if(a&&b.indexOf===a)return b.indexOf(c);for(var a=0,d=b.length;d>a;a++)if(b[a]===c)return a;return-1},objectApply:function(b,c){for(var a in b)Object.prototype.hasOwnProperty.call(b,a)&&c(b[a],a,b)},keys:function(b){var c=[];return Pusher.Util.objectApply(b,function(a,d){c.push(d)}),c},values:function(b){var c=[];return Pusher.Util.objectApply(b,function(a){c.push(a)}),c},apply:function(b,c,a){for(var d=0;d<b.length;d++)c.call(a||window,b[d],d,b)},map:function(b,c){for(var a=[],d=0;d<b.length;d++)a.push(c(b[d],d,b,a));return a},mapObject:function(b,c){var a={};return Pusher.Util.objectApply(b,function(d,b){a[b]=c(d)}),a},filter:function(b,c){c=c||function(a){return!!a};for(var a=[],d=0;d<b.length;d++)c(b[d],d,b,a)&&a.push(b[d]);return a},filterObject:function(b,c){var a={};return Pusher.Util.objectApply(b,function(d,h){(c&&c(d,h,b,a)||Boolean(d))&&(a[h]=d)}),a},flatten:function(b){var c=[];return Pusher.Util.objectApply(b,function(a,d){c.push([d,a])}),c},any:function(b,c){for(var a=0;a<b.length;a++)if(c(b[a],a,b))return!0;return!1},all:function(b,c){for(var a=0;a<b.length;a++)if(!c(b[a],a,b))return!1;return!0},method:function(b){var c=Array.prototype.slice.call(arguments,1);return function(a){return a[b].apply(a,c.concat(arguments))}},getWindow:function(){return window},getDocument:function(){return document},getNavigator:function(){return navigator},getLocalStorage:function(){try{return window.localStorage}catch(b){}},getClientFeatures:function(){return Pusher.Util.keys(Pusher.Util.filterObject({ws:Pusher.WSTransport,flash:Pusher.FlashTransport},function(b){return b.isSupported({})}))},addWindowListener:function(b,c){var a=Pusher.Util.getWindow();void 0!==a.addEventListener?a.addEventListener(b,c,!1):a.attachEvent("on"+b,c)},removeWindowListener:function(b,c){var a=Pusher.Util.getWindow();void 0!==a.addEventListener?a.removeEventListener(b,c,!1):a.detachEvent("on"+b,c)},isXHRSupported:function(){var b=window.XMLHttpRequest;return Boolean(b)&&void 0!==(new b).withCredentials},isXDRSupported:function(b){b=b?"https:":"http:";var c=Pusher.Util.getDocument().location.protocol;return Boolean(window.XDomainRequest)&&c===b}}}.call(this),function(){Pusher.VERSION="2.2.0",Pusher.PROTOCOL=7,Pusher.host="ws.pusherapp.com",Pusher.ws_port=80,Pusher.wss_port=443,Pusher.sockjs_host="sockjs.pusher.com",Pusher.sockjs_http_port=80,Pusher.sockjs_https_port=443,Pusher.sockjs_path="/pusher",Pusher.stats_host="stats.pusher.com",Pusher.channel_auth_endpoint="/pusher/auth",Pusher.channel_auth_transport="ajax",Pusher.activity_timeout=12e4,Pusher.pong_timeout=3e4,Pusher.unavailable_timeout=1e4,Pusher.cdn_http="http://js.pusher.com/",Pusher.cdn_https="https://d3dy5gmtp8yhk7.cloudfront.net/",Pusher.dependency_suffix=".min",Pusher.getDefaultStrategy=function(b){return[[":def","ws_options",{hostUnencrypted:b.wsHost+":"+b.wsPort,hostEncrypted:b.wsHost+":"+b.wssPort}],[":def","wss_options",[":extend",":ws_options",{encrypted:!0}]],[":def","sockjs_options",{hostUnencrypted:b.httpHost+":"+b.httpPort,hostEncrypted:b.httpHost+":"+b.httpsPort}],[":def","timeouts",{loop:!0,timeout:15e3,timeoutLimit:6e4}],[":def","ws_manager",[":transport_manager",{lives:2,minPingDelay:1e4,maxPingDelay:b.activity_timeout}]],[":def","streaming_manager",[":transport_manager",{lives:2,minPingDelay:1e4,maxPingDelay:b.activity_timeout}]],[":def_transport","ws","ws",3,":ws_options",":ws_manager"],[":def_transport","wss","ws",3,":wss_options",":ws_manager"],[":def_transport","flash","flash",2,":ws_options",":ws_manager"],[":def_transport","sockjs","sockjs",1,":sockjs_options"],[":def_transport","xhr_streaming","xhr_streaming",1,":sockjs_options",":streaming_manager"],[":def_transport","xdr_streaming","xdr_streaming",1,":sockjs_options",":streaming_manager"],[":def_transport","xhr_polling","xhr_polling",1,":sockjs_options"],[":def_transport","xdr_polling","xdr_polling",1,":sockjs_options"],[":def","ws_loop",[":sequential",":timeouts",":ws"]],[":def","wss_loop",[":sequential",":timeouts",":wss"]],[":def","flash_loop",[":sequential",":timeouts",":flash"]],[":def","sockjs_loop",[":sequential",":timeouts",":sockjs"]],[":def","streaming_loop",[":sequential",":timeouts",[":if",[":is_supported",":xhr_streaming"],":xhr_streaming",":xdr_streaming"]]],[":def","polling_loop",[":sequential",":timeouts",[":if",[":is_supported",":xhr_polling"],":xhr_polling",":xdr_polling"]]],[":def","http_loop",[":if",[":is_supported",":streaming_loop"],[":best_connected_ever",":streaming_loop",[":delayed",4e3,[":polling_loop"]]],[":polling_loop"]]],[":def","http_fallback_loop",[":if",[":is_supported",":http_loop"],[":http_loop"],[":sockjs_loop"]]],[":def","strategy",[":cached",18e5,[":first_connected",[":if",[":is_supported",":ws"],b.encrypted?[":best_connected_ever",":ws_loop",[":delayed",2e3,[":http_fallback_loop"]]]:[":best_connected_ever",":ws_loop",[":delayed",2e3,[":wss_loop"]],[":delayed",5e3,[":http_fallback_loop"]]],[":if",[":is_supported",":flash"],[":best_connected_ever",":flash_loop",[":delayed",2e3,[":http_fallback_loop"]]],[":http_fallback_loop"]]]]]]]}}.call(this),function(){Pusher.getGlobalConfig=function(){return{wsHost:Pusher.host,wsPort:Pusher.ws_port,wssPort:Pusher.wss_port,httpHost:Pusher.sockjs_host,httpPort:Pusher.sockjs_http_port,httpsPort:Pusher.sockjs_https_port,httpPath:Pusher.sockjs_path,statsHost:Pusher.stats_host,authEndpoint:Pusher.channel_auth_endpoint,authTransport:Pusher.channel_auth_transport,activity_timeout:Pusher.activity_timeout,pong_timeout:Pusher.pong_timeout,unavailable_timeout:Pusher.unavailable_timeout}},Pusher.getClusterConfig=function(b){return{wsHost:"ws-"+b+".pusher.com",httpHost:"sockjs-"+b+".pusher.com"}}}.call(this),function(){function b(b){var a=function(a){Error.call(this,a),this.name=b};return Pusher.Util.extend(a.prototype,Error.prototype),a}Pusher.Errors={BadEventName:b("BadEventName"),RequestTimedOut:b("RequestTimedOut"),TransportPriorityTooLow:b("TransportPriorityTooLow"),TransportClosed:b("TransportClosed"),UnsupportedTransport:b("UnsupportedTransport"),UnsupportedStrategy:b("UnsupportedStrategy")}}.call(this),function(){function b(a){this.callbacks=new c,this.global_callbacks=[],this.failThrough=a}function c(){this._callbacks={}}var a=b.prototype;a.bind=function(a,b,c){return this.callbacks.add(a,b,c),this},a.bind_all=function(a){return this.global_callbacks.push(a),this},a.unbind=function(a,b,c){return this.callbacks.remove(a,b,c),this},a.unbind_all=function(a,b){return this.callbacks.remove(a,b),this},a.emit=function(a,b){var c;for(c=0;c<this.global_callbacks.length;c++)this.global_callbacks[c](a,b);var e=this.callbacks.get(a);if(e&&0<e.length)for(c=0;c<e.length;c++)e[c].fn.call(e[c].context||window,b);else this.failThrough&&this.failThrough(a,b);return this},c.prototype.get=function(a){return this._callbacks["_"+a]},c.prototype.add=function(a,b,c){a="_"+a,this._callbacks[a]=this._callbacks[a]||[],this._callbacks[a].push({fn:b,context:c})},c.prototype.remove=function(a,b,c){a||b||c?(a=a?["_"+a]:Pusher.Util.keys(this._callbacks),b||c?Pusher.Util.apply(a,function(a){this._callbacks[a]=Pusher.Util.filter(this._callbacks[a]||[],function(a){return b&&b!==a.fn||c&&c!==a.context}),0===this._callbacks[a].length&&delete this._callbacks[a]},this):Pusher.Util.apply(a,function(a){delete this._callbacks[a]},this)):this._callbacks={}},Pusher.EventsDispatcher=b}.call(this),function(){function b(a,d){this.lastId=0,this.prefix=a,this.name=d}var c=b.prototype;c.create=function(a){this.lastId++;var d=this.lastId,b=this.prefix+d,c=this.name+"["+d+"]",e=!1,g=function(){e||(a.apply(null,arguments),e=!0)};return this[d]=g,{number:d,id:b,name:c,callback:g}},c.remove=function(a){delete this[a.number]},Pusher.ScriptReceiverFactory=b,Pusher.ScriptReceivers=new b("_pusher_script_","Pusher.ScriptReceivers")}.call(this),function(){function b(a){this.src=a}var c=b.prototype;c.send=function(a){var d=this,b="Error loading "+d.src;d.script=document.createElement("script"),d.script.id=a.id,d.script.src=d.src,d.script.type="text/javascript",d.script.charset="UTF-8",d.script.addEventListener?(d.script.onerror=function(){a.callback(b)},d.script.onload=function(){a.callback(null)}):d.script.onreadystatechange=function(){("loaded"===d.script.readyState||"complete"===d.script.readyState)&&a.callback(null)},void 0===d.script.async&&document.attachEvent&&/opera/i.test(navigator.userAgent)?(d.errorScript=document.createElement("script"),d.errorScript.id=a.id+"_error",d.errorScript.text=a.name+"('"+b+"');",d.script.async=d.errorScript.async=!1):d.script.async=!0;var c=document.getElementsByTagName("head")[0];c.insertBefore(d.script,c.firstChild),d.errorScript&&c.insertBefore(d.errorScript,d.script.nextSibling)},c.cleanup=function(){this.script&&(this.script.onload=this.script.onerror=null,this.script.onreadystatechange=null),this.script&&this.script.parentNode&&this.script.parentNode.removeChild(this.script),this.errorScript&&this.errorScript.parentNode&&this.errorScript.parentNode.removeChild(this.errorScript),this.errorScript=this.script=null},Pusher.ScriptRequest=b}.call(this),function(){function b(a){this.options=a,this.receivers=a.receivers||Pusher.ScriptReceivers,this.loading={}}var c=b.prototype;c.load=function(a,d){var b=this;if(b.loading[a]&&0<b.loading[a].length)b.loading[a].push(d);else{b.loading[a]=[d];var c=new Pusher.ScriptRequest(b.getPath(a)),e=b.receivers.create(function(d){if(b.receivers.remove(e),b.loading[a]){var k=b.loading[a];delete b.loading[a];for(var l=function(a){a||c.cleanup()},m=0;m<k.length;m++)k[m](d,l)}});c.send(e)}},c.getRoot=function(a){var d=Pusher.Util.getDocument().location.protocol;return(a&&a.encrypted||"https:"===d?this.options.cdn_https:this.options.cdn_http).replace(/\/*$/,"")+"/"+this.options.version},c.getPath=function(a,d){return this.getRoot(d)+"/"+a+this.options.suffix+".js"},Pusher.DependencyLoader=b}.call(this),function(){function b(){Pusher.ready()}function c(a){document.body?a():setTimeout(function(){c(a)},0)}function a(){c(b)}Pusher.DependenciesReceivers=new Pusher.ScriptReceiverFactory("_pusher_dependencies","Pusher.DependenciesReceivers"),Pusher.Dependencies=new Pusher.DependencyLoader({cdn_http:Pusher.cdn_http,cdn_https:Pusher.cdn_https,version:Pusher.VERSION,suffix:Pusher.dependency_suffix,receivers:Pusher.DependenciesReceivers}),window.JSON?a():Pusher.Dependencies.load("json2",a)}(),function(){for(var b=String.fromCharCode,c=0;64>c;c++)"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(c);var a=function(a){var d=a.charCodeAt(0);return 128>d?a:2048>d?b(192|d>>>6)+b(128|63&d):b(224|d>>>12&15)+b(128|d>>>6&63)+b(128|63&d)},d=function(a){var d=[0,2,1][a.length%3];return a=a.charCodeAt(0)<<16|(1<a.length?a.charCodeAt(1):0)<<8|(2<a.length?a.charCodeAt(2):0),["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(a>>>18),"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(a>>>12&63),d>=2?"=":"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(a>>>6&63),d>=1?"=":"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(63&a)].join("")},h=window.btoa||function(a){return a.replace(/[\s\S]{1,3}/g,d)};Pusher.Base64={encode:function(d){return h(d.replace(/[^\x00-\x7F]/g,a))}}}.call(this),function(){function b(a,b){this.url=a,this.data=b}function c(a){return Pusher.Util.mapObject(a,function(a){return"object"==typeof a&&(a=JSON.stringify(a)),encodeURIComponent(Pusher.Base64.encode(a.toString()))})}var a=b.prototype;a.send=function(a){if(!this.request){var b=Pusher.Util.filterObject(this.data,function(a){return void 0!==a}),b=Pusher.Util.map(Pusher.Util.flatten(c(b)),Pusher.Util.method("join","=")).join("&");this.request=new Pusher.ScriptRequest(this.url+"/"+a.number+"?"+b),this.request.send(a)}},a.cleanup=function(){this.request&&this.request.cleanup()},Pusher.JSONPRequest=b}.call(this),function(){function b(a,b,c){this.key=a,this.session=b,this.events=[],this.options=c||{},this.uniqueID=this.sent=0}var c=b.prototype;b.ERROR=3,b.INFO=6,b.DEBUG=7,c.log=function(a,b){a<=this.options.level&&(this.events.push(Pusher.Util.extend({},b,{timestamp:Pusher.Util.now()})),this.options.limit&&this.events.length>this.options.limit&&this.events.shift())},c.error=function(a){this.log(b.ERROR,a)},c.info=function(a){this.log(b.INFO,a)},c.debug=function(a){this.log(b.DEBUG,a)},c.isEmpty=function(){return 0===this.events.length},c.send=function(a,b){var c=this,f=Pusher.Util.extend({session:c.session,bundle:c.sent+1,key:c.key,lib:"js",version:c.options.version,cluster:c.options.cluster,features:c.options.features,timeline:c.events},c.options.params);return c.events=[],a(f,function(a,g){a||c.sent++,b&&b(a,g)}),!0},c.generateUniqueID=function(){return this.uniqueID++,this.uniqueID},Pusher.Timeline=b}.call(this),function(){function b(b,a){this.timeline=b,this.options=a||{}}b.prototype.send=function(b,a){var d=this;d.timeline.isEmpty()||d.timeline.send(function(a,f){var e=new Pusher.JSONPRequest("http"+(b?"s":"")+"://"+(d.host||d.options.host)+d.options.path,a),g=Pusher.ScriptReceivers.create(function(a,b){Pusher.ScriptReceivers.remove(g),e.cleanup(),b&&b.host&&(d.host=b.host),f&&f(a,b)});e.send(g)},a)},Pusher.TimelineSender=b}.call(this),function(){function b(a){this.strategies=a}function c(a,b,c){var h=Pusher.Util.map(a,function(a,d,h,f){return a.connect(b,c(d,f))});return{abort:function(){Pusher.Util.apply(h,d)},forceMinPriority:function(a){Pusher.Util.apply(h,function(b){b.forceMinPriority(a)})}}}function a(a){return Pusher.Util.all(a,function(a){return Boolean(a.error)})}function d(a){!a.error&&!a.aborted&&(a.abort(),a.aborted=!0)}var h=b.prototype;h.isSupported=function(){return Pusher.Util.any(this.strategies,Pusher.Util.method("isSupported"))},h.connect=function(b,d){return c(this.strategies,b,function(b,c){return function(h,f){(c[b].error=h)?a(c)&&d(!0):(Pusher.Util.apply(c,function(a){a.forceMinPriority(f.transport.priority)}),d(null,f))}})},Pusher.BestConnectedEverStrategy=b}.call(this),function(){function b(a,b,d){this.strategy=a,this.transports=b,this.ttl=d.ttl||18e5,this.encrypted=d.encrypted,this.timeline=d.timeline}function c(a){return"pusherTransport"+(a?"Encrypted":"Unencrypted")}function a(a){var b=Pusher.Util.getLocalStorage();if(b)try{var h=b[c(a)];if(h)return JSON.parse(h)}catch(k){d(a)}return null}function d(a){var b=Pusher.Util.getLocalStorage();if(b)try{delete b[c(a)]}catch(d){}}var h=b.prototype;h.isSupported=function(){return this.strategy.isSupported()},h.connect=function(b,h){var g=this.encrypted,k=a(g),l=[this.strategy];if(k&&k.timestamp+this.ttl>=Pusher.Util.now()){var m=this.transports[k.transport];m&&(this.timeline.info({cached:!0,transport:k.transport,latency:k.latency}),l.push(new Pusher.SequentialStrategy([m],{timeout:2*k.latency+1e3,failFast:!0})))}var p=Pusher.Util.now(),n=l.pop().connect(b,function s(a,k){if(a)d(g),0<l.length?(p=Pusher.Util.now(),n=l.pop().connect(b,s)):h(a);else{var m=k.transport.name,t=Pusher.Util.now()-p,r=Pusher.Util.getLocalStorage();if(r)try{r[c(g)]=JSON.stringify({timestamp:Pusher.Util.now(),transport:m,latency:t})}catch(u){}h(null,k)}});return{abort:function(){n.abort()},forceMinPriority:function(a){b=a,n&&n.forceMinPriority(a)}}},Pusher.CachedStrategy=b}.call(this),function(){function b(a,b){this.strategy=a,this.options={delay:b.delay}}var c=b.prototype;c.isSupported=function(){return this.strategy.isSupported()},c.connect=function(a,b){var f,c=this.strategy,e=new Pusher.Timer(this.options.delay,function(){f=c.connect(a,b)});return{abort:function(){e.ensureAborted(),f&&f.abort()},forceMinPriority:function(b){a=b,f&&f.forceMinPriority(b)}}},Pusher.DelayedStrategy=b}.call(this),function(){function b(a){this.strategy=a}var c=b.prototype;c.isSupported=function(){return this.strategy.isSupported()},c.connect=function(a,b){var c=this.strategy.connect(a,function(a,e){e&&c.abort(),b(a,e)});return c},Pusher.FirstConnectedStrategy=b}.call(this),function(){function b(a,b,c){this.test=a,this.trueBranch=b,this.falseBranch=c}var c=b.prototype;c.isSupported=function(){return(this.test()?this.trueBranch:this.falseBranch).isSupported()},c.connect=function(a,b){return(this.test()?this.trueBranch:this.falseBranch).connect(a,b)},Pusher.IfStrategy=b}.call(this),function(){function b(a,b){this.strategies=a,this.loop=Boolean(b.loop),this.failFast=Boolean(b.failFast),this.timeout=b.timeout,this.timeoutLimit=b.timeoutLimit}var c=b.prototype;c.isSupported=function(){return Pusher.Util.any(this.strategies,Pusher.Util.method("isSupported"))},c.connect=function(a,b){var c=this,f=this.strategies,e=0,g=this.timeout,k=null,l=function(m,p){p?b(null,p):(e+=1,c.loop&&(e%=f.length),e<f.length?(g&&(g*=2,c.timeoutLimit&&(g=Math.min(g,c.timeoutLimit))),k=c.tryStrategy(f[e],a,{timeout:g,failFast:c.failFast},l)):b(!0))},k=this.tryStrategy(f[e],a,{timeout:g,failFast:this.failFast},l);return{abort:function(){k.abort()},forceMinPriority:function(b){a=b,k&&k.forceMinPriority(b)}}},c.tryStrategy=function(a,b,c,f){var e=null,g=null;return 0<c.timeout&&(e=new Pusher.Timer(c.timeout,function(){g.abort(),f(!0)})),g=a.connect(b,function(a,b){a&&e&&e.isRunning()&&!c.failFast||(e&&e.ensureAborted(),f(a,b))}),{abort:function(){e&&e.ensureAborted(),g.abort()},forceMinPriority:function(a){g.forceMinPriority(a)}}},Pusher.SequentialStrategy=b}.call(this),function(){function b(a,b,c,e){this.name=a,this.priority=b,this.transport=c,this.options=e||{}}function c(a,b){return Pusher.Util.defer(function(){b(a)}),{abort:function(){},forceMinPriority:function(){}}}var a=b.prototype;a.isSupported=function(){return this.transport.isSupported({encrypted:this.options.encrypted})},a.connect=function(a,b){if(!this.isSupported())return c(new Pusher.Errors.UnsupportedStrategy,b);if(this.priority<a)return c(new Pusher.Errors.TransportPriorityTooLow,b);var f=this,e=!1,g=this.transport.createConnection(this.name,this.priority,this.options.key,this.options),k=null,l=function(){g.unbind("initialized",l),g.connect()},m=function(){k=new Pusher.Handshake(g,function(a){e=!0,q(),b(null,a)})},p=function(a){q(),b(a)},n=function(){q(),b(new Pusher.Errors.TransportClosed(g))},q=function(){g.unbind("initialized",l),g.unbind("open",m),g.unbind("error",p),g.unbind("closed",n)};return g.bind("initialized",l),g.bind("open",m),g.bind("error",p),g.bind("closed",n),g.initialize(),{abort:function(){e||(q(),k?k.close():g.close())},forceMinPriority:function(a){e||f.priority<a&&(k?k.close():g.close())}}},Pusher.TransportStrategy=b}.call(this),function(){function b(a,b,c){return a+(b.encrypted?"s":"")+"://"+(b.encrypted?b.hostEncrypted:b.hostUnencrypted)+c}function c(a,b){return"/app/"+a+("?protocol="+Pusher.PROTOCOL+"&client=js&version="+Pusher.VERSION+(b?"&"+b:""))}Pusher.URLSchemes={ws:{getInitial:function(a,d){return b("ws",d,c(a,"flash=false"))}},flash:{getInitial:function(a,d){return b("ws",d,c(a,"flash=true"))}},sockjs:{getInitial:function(a,c){return b("http",c,c.httpPath||"/pusher","")},getPath:function(a){return c(a)}},http:{getInitial:function(a,d){var h=(d.httpPath||"/pusher")+c(a);return b("http",d,h)}}}}.call(this),function(){function b(a,b,c,f,e){Pusher.EventsDispatcher.call(this),this.hooks=a,this.name=b,this.priority=c,this.key=f,this.options=e,this.state="new",this.timeline=e.timeline,this.activityTimeout=e.activityTimeout,this.id=this.timeline.generateUniqueID()}var c=b.prototype;Pusher.Util.extend(c,Pusher.EventsDispatcher.prototype),c.handlesActivityChecks=function(){return Boolean(this.hooks.handlesActivityChecks)},c.supportsPing=function(){return Boolean(this.hooks.supportsPing)},c.initialize=function(){var a=this;a.timeline.info(a.buildTimelineMessage({transport:a.name+(a.options.encrypted?"s":"")})),a.hooks.beforeInitialize&&a.hooks.beforeInitialize(),a.hooks.isInitialized()?a.changeState("initialized"):a.hooks.file?(a.changeState("initializing"),Pusher.Dependencies.load(a.hooks.file,function(b,c){a.hooks.isInitialized()?(a.changeState("initialized"),c(!0)):(b&&a.onError(b),a.onClose(),c(!1))})):a.onClose()},c.connect=function(){var a=this;if(a.socket||"initialized"!==a.state)return!1;var b=a.hooks.urls.getInitial(a.key,a.options);try{a.socket=a.hooks.getSocket(b,a.options)}catch(c){return Pusher.Util.defer(function(){a.onError(c),a.changeState("closed")}),!1}return a.bindListeners(),Pusher.debug("Connecting",{transport:a.name,url:b}),a.changeState("connecting"),!0},c.close=function(){return this.socket?(this.socket.close(),!0):!1},c.send=function(a){var b=this;return"open"===b.state?(Pusher.Util.defer(function(){b.socket&&b.socket.send(a)}),!0):!1},c.ping=function(){"open"===this.state&&this.supportsPing()&&this.socket.ping()},c.onOpen=function(){this.hooks.beforeOpen&&this.hooks.beforeOpen(this.socket,this.hooks.urls.getPath(this.key,this.options)),this.changeState("open"),this.socket.onopen=void 0},c.onError=function(a){this.emit("error",{type:"WebSocketError",error:a}),this.timeline.error(this.buildTimelineMessage({error:a.toString()}))},c.onClose=function(a){a?this.changeState("closed",{code:a.code,reason:a.reason,wasClean:a.wasClean}):this.changeState("closed"),this.unbindListeners(),this.socket=void 0},c.onMessage=function(a){this.emit("message",a)},c.onActivity=function(){this.emit("activity")},c.bindListeners=function(){var a=this;a.socket.onopen=function(){a.onOpen()},a.socket.onerror=function(b){a.onError(b)},a.socket.onclose=function(b){a.onClose(b)},a.socket.onmessage=function(b){a.onMessage(b)},a.supportsPing()&&(a.socket.onactivity=function(){a.onActivity()})},c.unbindListeners=function(){this.socket&&(this.socket.onopen=void 0,this.socket.onerror=void 0,this.socket.onclose=void 0,this.socket.onmessage=void 0,this.supportsPing()&&(this.socket.onactivity=void 0))},c.changeState=function(a,b){this.state=a,this.timeline.info(this.buildTimelineMessage({state:a,params:b})),this.emit(a,b)},c.buildTimelineMessage=function(a){return Pusher.Util.extend({cid:this.id},a)},Pusher.TransportConnection=b}.call(this),function(){function b(a){this.hooks=a}var c=b.prototype;c.isSupported=function(a){return this.hooks.isSupported(a)},c.createConnection=function(a,b,c,f){return new Pusher.TransportConnection(this.hooks,a,b,c,f)},Pusher.Transport=b}.call(this),function(){Pusher.WSTransport=new Pusher.Transport({urls:Pusher.URLSchemes.ws,handlesActivityChecks:!1,supportsPing:!1,isInitialized:function(){return Boolean(window.WebSocket||window.MozWebSocket)},isSupported:function(){return Boolean(window.WebSocket||window.MozWebSocket)},getSocket:function(a){return new(window.WebSocket||window.MozWebSocket)(a)}}),Pusher.FlashTransport=new Pusher.Transport({file:"flashfallback",urls:Pusher.URLSchemes.flash,handlesActivityChecks:!1,supportsPing:!1,isSupported:function(){try{return Boolean(new ActiveXObject("ShockwaveFlash.ShockwaveFlash"))}catch(a){try{var b=Pusher.Util.getNavigator();return Boolean(b&&b.mimeTypes&&void 0!==b.mimeTypes["application/x-shockwave-flash"])}catch(c){return!1}}},beforeInitialize:function(){void 0===window.WEB_SOCKET_SUPPRESS_CROSS_DOMAIN_SWF_ERROR&&(window.WEB_SOCKET_SUPPRESS_CROSS_DOMAIN_SWF_ERROR=!0),window.WEB_SOCKET_SWF_LOCATION=Pusher.Dependencies.getRoot()+"/WebSocketMain.swf"},isInitialized:function(){return void 0!==window.FlashWebSocket},getSocket:function(a){return new FlashWebSocket(a)}}),Pusher.SockJSTransport=new Pusher.Transport({file:"sockjs",urls:Pusher.URLSchemes.sockjs,handlesActivityChecks:!0,supportsPing:!1,isSupported:function(){return!0},isInitialized:function(){return void 0!==window.SockJS},getSocket:function(a,b){return new SockJS(a,null,{js_path:Pusher.Dependencies.getPath("sockjs",{encrypted:b.encrypted}),ignore_null_origin:b.ignoreNullOrigin})},beforeOpen:function(a,b){a.send(JSON.stringify({path:b}))}});var b={urls:Pusher.URLSchemes.http,handlesActivityChecks:!1,supportsPing:!0,isInitialized:function(){return Boolean(Pusher.HTTP.Socket)}},c=Pusher.Util.extend({getSocket:function(a){return Pusher.HTTP.getStreamingSocket(a)}},b),b=Pusher.Util.extend({getSocket:function(a){return Pusher.HTTP.getPollingSocket(a)}},b),a={file:"xhr",isSupported:Pusher.Util.isXHRSupported},d={file:"xdr",isSupported:function(a){return Pusher.Util.isXDRSupported(a.encrypted)}};Pusher.XHRStreamingTransport=new Pusher.Transport(Pusher.Util.extend({},c,a)),Pusher.XDRStreamingTransport=new Pusher.Transport(Pusher.Util.extend({},c,d)),Pusher.XHRPollingTransport=new Pusher.Transport(Pusher.Util.extend({},b,a)),Pusher.XDRPollingTransport=new Pusher.Transport(Pusher.Util.extend({},b,d))}.call(this),function(){function b(a,b,c){this.manager=a,this.transport=b,this.minPingDelay=c.minPingDelay,this.maxPingDelay=c.maxPingDelay,this.pingDelay=void 0}var c=b.prototype;c.createConnection=function(a,b,c,f){var e=this;f=Pusher.Util.extend({},f,{activityTimeout:e.pingDelay});var g=e.transport.createConnection(a,b,c,f),k=null,l=function(){g.unbind("open",l),g.bind("closed",m),k=Pusher.Util.now()},m=function(a){g.unbind("closed",m),1002===a.code||1003===a.code?e.manager.reportDeath():!a.wasClean&&k&&(a=Pusher.Util.now()-k,a<2*e.maxPingDelay&&(e.manager.reportDeath(),e.pingDelay=Math.max(a/2,e.minPingDelay)))};return g.bind("open",l),g},c.isSupported=function(a){return this.manager.isAlive()&&this.transport.isSupported(a)},Pusher.AssistantToTheTransportManager=b}.call(this),function(){function b(a){this.options=a||{},this.livesLeft=this.options.lives||1/0}var c=b.prototype;c.getAssistant=function(a){return new Pusher.AssistantToTheTransportManager(this,a,{minPingDelay:this.options.minPingDelay,maxPingDelay:this.options.maxPingDelay})},c.isAlive=function(){return 0<this.livesLeft},c.reportDeath=function(){this.livesLeft-=1},Pusher.TransportManager=b}.call(this),function(){function b(a){return function(b){return[a.apply(this,arguments),b]}}function c(a,b){if(0===a.length)return[[],b];var h=d(a[0],b),f=c(a.slice(1),h[1]);return[[h[0]].concat(f[0]),f[1]]}function a(a,b){if("string"==typeof a[0]&&":"===a[0].charAt(0)){var h=b[a[0].slice(1)];if(1<a.length){if("function"!=typeof h)throw"Calling non-function "+a[0];var f=[Pusher.Util.extend({},b)].concat(Pusher.Util.map(a.slice(1),function(a){return d(a,Pusher.Util.extend({},b))[0]}));return h.apply(this,f)}return[h,b]}return c(a,b)}function d(b,c){if("string"==typeof b){var d;if("string"==typeof b&&":"===b.charAt(0)){if(d=c[b.slice(1)],void 0===d)throw"Undefined symbol "+b;d=[d,c]}else d=[b,c];return d}return"object"==typeof b&&b instanceof Array&&0<b.length?a(b,c):[b,c]}var h={ws:Pusher.WSTransport,flash:Pusher.FlashTransport,sockjs:Pusher.SockJSTransport,xhr_streaming:Pusher.XHRStreamingTransport,xdr_streaming:Pusher.XDRStreamingTransport,xhr_polling:Pusher.XHRPollingTransport,xdr_polling:Pusher.XDRPollingTransport},f={isSupported:function(){return!1},connect:function(a,b){var c=Pusher.Util.defer(function(){b(new Pusher.Errors.UnsupportedStrategy)});return{abort:function(){c.ensureAborted()},forceMinPriority:function(){}}}},e={extend:function(a,b,c){return[Pusher.Util.extend({},b,c),a]},def:function(a,b,c){if(void 0!==a[b])throw"Redefining symbol "+b;return a[b]=c,[void 0,a]},def_transport:function(a,b,c,d,e,n){var q=h[c];if(!q)throw new Pusher.Errors.UnsupportedTransport(c);return c=a.enabledTransports&&-1===Pusher.Util.arrayIndexOf(a.enabledTransports,b)||a.disabledTransports&&-1!==Pusher.Util.arrayIndexOf(a.disabledTransports,b)||"flash"===b&&!0===a.disableFlash?f:new Pusher.TransportStrategy(b,d,n?n.getAssistant(q):q,Pusher.Util.extend({key:a.key,encrypted:a.encrypted,timeline:a.timeline,ignoreNullOrigin:a.ignoreNullOrigin},e)),d=a.def(a,b,c)[1],d.transports=a.transports||{},d.transports[b]=c,[void 0,d]},transport_manager:b(function(a,b){return new Pusher.TransportManager(b)}),sequential:b(function(a,b){var c=Array.prototype.slice.call(arguments,2);return new Pusher.SequentialStrategy(c,b)}),cached:b(function(a,b,c){return new Pusher.CachedStrategy(c,a.transports,{ttl:b,timeline:a.timeline,encrypted:a.encrypted})}),first_connected:b(function(a,b){return new Pusher.FirstConnectedStrategy(b)}),best_connected_ever:b(function(){var a=Array.prototype.slice.call(arguments,1);return new Pusher.BestConnectedEverStrategy(a)}),delayed:b(function(a,b,c){return new Pusher.DelayedStrategy(c,{delay:b})}),"if":b(function(a,b,c,d){return new Pusher.IfStrategy(b,c,d)}),is_supported:b(function(a,b){return function(){return b.isSupported()}})};Pusher.StrategyBuilder={build:function(a,b){var c=Pusher.Util.extend({},e,b);
return d(a,c)[1].strategy}}}.call(this),function(){Pusher.Protocol={decodeMessage:function(b){try{var c=JSON.parse(b.data);if("string"==typeof c.data)try{c.data=JSON.parse(c.data)}catch(a){if(!(a instanceof SyntaxError))throw a}return c}catch(d){throw{type:"MessageParseError",error:d,data:b.data}}},encodeMessage:function(b){return JSON.stringify(b)},processHandshake:function(b){if(b=this.decodeMessage(b),"pusher:connection_established"===b.event){if(!b.data.activity_timeout)throw"No activity timeout specified in handshake";return{action:"connected",id:b.data.socket_id,activityTimeout:1e3*b.data.activity_timeout}}if("pusher:error"===b.event)return{action:this.getCloseAction(b.data),error:this.getCloseError(b.data)};throw"Invalid handshake"},getCloseAction:function(b){return 4e3>b.code?1002<=b.code&&1004>=b.code?"backoff":null:4e3===b.code?"ssl_only":4100>b.code?"refused":4200>b.code?"backoff":4300>b.code?"retry":"refused"},getCloseError:function(b){return 1e3!==b.code&&1001!==b.code?{type:"PusherError",data:{code:b.code,message:b.reason||b.message}}:null}}}.call(this),function(){function b(a,b){Pusher.EventsDispatcher.call(this),this.id=a,this.transport=b,this.activityTimeout=b.activityTimeout,this.bindListeners()}var c=b.prototype;Pusher.Util.extend(c,Pusher.EventsDispatcher.prototype),c.handlesActivityChecks=function(){return this.transport.handlesActivityChecks()},c.send=function(a){return this.transport.send(a)},c.send_event=function(a,b,c){return a={event:a,data:b},c&&(a.channel=c),Pusher.debug("Event sent",a),this.send(Pusher.Protocol.encodeMessage(a))},c.ping=function(){this.transport.supportsPing()?this.transport.ping():this.send_event("pusher:ping",{})},c.close=function(){this.transport.close()},c.bindListeners=function(){var a=this,b={message:function(b){var c;try{c=Pusher.Protocol.decodeMessage(b)}catch(d){a.emit("error",{type:"MessageParseError",error:d,data:b.data})}if(void 0!==c){switch(Pusher.debug("Event recd",c),c.event){case"pusher:error":a.emit("error",{type:"PusherError",data:c.data});break;case"pusher:ping":a.emit("ping");break;case"pusher:pong":a.emit("pong")}a.emit("message",c)}},activity:function(){a.emit("activity")},error:function(b){a.emit("error",{type:"WebSocketError",error:b})},closed:function(b){c(),b&&b.code&&a.handleCloseEvent(b),a.transport=null,a.emit("closed")}},c=function(){Pusher.Util.objectApply(b,function(b,c){a.transport.unbind(c,b)})};Pusher.Util.objectApply(b,function(b,c){a.transport.bind(c,b)})},c.handleCloseEvent=function(a){var b=Pusher.Protocol.getCloseAction(a);(a=Pusher.Protocol.getCloseError(a))&&this.emit("error",a),b&&this.emit(b)},Pusher.Connection=b}.call(this),function(){function b(a,b){this.transport=a,this.callback=b,this.bindListeners()}var c=b.prototype;c.close=function(){this.unbindListeners(),this.transport.close()},c.bindListeners=function(){var a=this;a.onMessage=function(b){a.unbindListeners();try{var c=Pusher.Protocol.processHandshake(b);"connected"===c.action?a.finish("connected",{connection:new Pusher.Connection(c.id,a.transport),activityTimeout:c.activityTimeout}):(a.finish(c.action,{error:c.error}),a.transport.close())}catch(f){a.finish("error",{error:f}),a.transport.close()}},a.onClosed=function(b){a.unbindListeners();var c=Pusher.Protocol.getCloseAction(b)||"backoff";b=Pusher.Protocol.getCloseError(b),a.finish(c,{error:b})},a.transport.bind("message",a.onMessage),a.transport.bind("closed",a.onClosed)},c.unbindListeners=function(){this.transport.unbind("message",this.onMessage),this.transport.unbind("closed",this.onClosed)},c.finish=function(a,b){this.callback(Pusher.Util.extend({transport:this.transport,action:a},b))},Pusher.Handshake=b}.call(this),function(){function b(a,b){Pusher.EventsDispatcher.call(this),this.key=a,this.options=b||{},this.state="initialized",this.connection=null,this.encrypted=!!b.encrypted,this.timeline=this.options.timeline,this.connectionCallbacks=this.buildConnectionCallbacks(),this.errorCallbacks=this.buildErrorCallbacks(),this.handshakeCallbacks=this.buildHandshakeCallbacks(this.errorCallbacks);var c=this;Pusher.Network.bind("online",function(){c.timeline.info({netinfo:"online"}),("connecting"===c.state||"unavailable"===c.state)&&c.retryIn(0)}),Pusher.Network.bind("offline",function(){c.timeline.info({netinfo:"offline"}),"connected"===c.state&&c.sendActivityCheck()}),this.updateStrategy()}var c=b.prototype;Pusher.Util.extend(c,Pusher.EventsDispatcher.prototype),c.connect=function(){!this.connection&&!this.runner&&(this.strategy.isSupported()?(this.updateState("connecting"),this.startConnecting(),this.setUnavailableTimer()):this.updateState("failed"))},c.send=function(a){return this.connection?this.connection.send(a):!1},c.send_event=function(a,b,c){return this.connection?this.connection.send_event(a,b,c):!1},c.disconnect=function(){this.disconnectInternally(),this.updateState("disconnected")},c.isEncrypted=function(){return this.encrypted},c.startConnecting=function(){var a=this,b=function(c,f){c?a.runner=a.strategy.connect(0,b):"error"===f.action?(a.emit("error",{type:"HandshakeError",error:f.error}),a.timeline.error({handshakeError:f.error})):(a.abortConnecting(),a.handshakeCallbacks[f.action](f))};a.runner=a.strategy.connect(0,b)},c.abortConnecting=function(){this.runner&&(this.runner.abort(),this.runner=null)},c.disconnectInternally=function(){this.abortConnecting(),this.clearRetryTimer(),this.clearUnavailableTimer(),this.stopActivityCheck(),this.connection&&this.abandonConnection().close()},c.updateStrategy=function(){this.strategy=this.options.getStrategy({key:this.key,timeline:this.timeline,encrypted:this.encrypted})},c.retryIn=function(a){var b=this;b.timeline.info({action:"retry",delay:a}),a>0&&b.emit("connecting_in",Math.round(a/1e3)),b.retryTimer=new Pusher.Timer(a||0,function(){b.disconnectInternally(),b.connect()})},c.clearRetryTimer=function(){this.retryTimer&&(this.retryTimer.ensureAborted(),this.retryTimer=null)},c.setUnavailableTimer=function(){var a=this;a.unavailableTimer=new Pusher.Timer(a.options.unavailableTimeout,function(){a.updateState("unavailable")})},c.clearUnavailableTimer=function(){this.unavailableTimer&&this.unavailableTimer.ensureAborted()},c.sendActivityCheck=function(){var a=this;a.stopActivityCheck(),a.connection.ping(),a.activityTimer=new Pusher.Timer(a.options.pongTimeout,function(){a.timeline.error({pong_timed_out:a.options.pongTimeout}),a.retryIn(0)})},c.resetActivityCheck=function(){var a=this;a.stopActivityCheck(),a.connection.handlesActivityChecks()||(a.activityTimer=new Pusher.Timer(a.activityTimeout,function(){a.sendActivityCheck()}))},c.stopActivityCheck=function(){this.activityTimer&&this.activityTimer.ensureAborted()},c.buildConnectionCallbacks=function(){var a=this;return{message:function(b){a.resetActivityCheck(),a.emit("message",b)},ping:function(){a.send_event("pusher:pong",{})},activity:function(){a.resetActivityCheck()},error:function(b){a.emit("error",{type:"WebSocketError",error:b})},closed:function(){a.abandonConnection(),a.shouldRetry()&&a.retryIn(1e3)}}},c.buildHandshakeCallbacks=function(a){var b=this;return Pusher.Util.extend({},a,{connected:function(a){b.activityTimeout=Math.min(b.options.activityTimeout,a.activityTimeout,a.connection.activityTimeout||1/0),b.clearUnavailableTimer(),b.setConnection(a.connection),b.socket_id=b.connection.id,b.updateState("connected",{socket_id:b.socket_id})}})},c.buildErrorCallbacks=function(){function a(a){return function(c){c.error&&b.emit("error",{type:"WebSocketError",error:c.error}),a(c)}}var b=this;return{ssl_only:a(function(){b.encrypted=!0,b.updateStrategy(),b.retryIn(0)}),refused:a(function(){b.disconnect()}),backoff:a(function(){b.retryIn(1e3)}),retry:a(function(){b.retryIn(0)})}},c.setConnection=function(a){this.connection=a;for(var b in this.connectionCallbacks)this.connection.bind(b,this.connectionCallbacks[b]);this.resetActivityCheck()},c.abandonConnection=function(){if(this.connection){for(var a in this.connectionCallbacks)this.connection.unbind(a,this.connectionCallbacks[a]);return a=this.connection,this.connection=null,a}},c.updateState=function(a,b){var c=this.state;this.state=a,c!==a&&(Pusher.debug("State changed",c+" -> "+a),this.timeline.info({state:a,params:b}),this.emit("state_change",{previous:c,current:a}),this.emit(a,b))},c.shouldRetry=function(){return"connecting"===this.state||"connected"===this.state},Pusher.ConnectionManager=b}.call(this),function(){function b(){Pusher.EventsDispatcher.call(this);var b=this;void 0!==window.addEventListener&&(window.addEventListener("online",function(){b.emit("online")},!1),window.addEventListener("offline",function(){b.emit("offline")},!1))}Pusher.Util.extend(b.prototype,Pusher.EventsDispatcher.prototype),b.prototype.isOnline=function(){return void 0===window.navigator.onLine?!0:window.navigator.onLine},Pusher.NetInfo=b,Pusher.Network=new b}.call(this),function(){function b(){this.reset()}var c=b.prototype;c.get=function(a){return Object.prototype.hasOwnProperty.call(this.members,a)?{id:a,info:this.members[a]}:null},c.each=function(a){var b=this;Pusher.Util.objectApply(b.members,function(c,f){a(b.get(f))})},c.setMyID=function(a){this.myID=a},c.onSubscription=function(a){this.members=a.presence.hash,this.count=a.presence.count,this.me=this.get(this.myID)},c.addMember=function(a){return null===this.get(a.user_id)&&this.count++,this.members[a.user_id]=a.user_info,this.get(a.user_id)},c.removeMember=function(a){var b=this.get(a.user_id);return b&&(delete this.members[a.user_id],this.count--),b},c.reset=function(){this.members={},this.count=0,this.me=this.myID=null},Pusher.Members=b}.call(this),function(){function b(a,b){Pusher.EventsDispatcher.call(this,function(b){Pusher.debug("No callbacks on "+a+" for "+b)}),this.name=a,this.pusher=b,this.subscribed=!1}var c=b.prototype;Pusher.Util.extend(c,Pusher.EventsDispatcher.prototype),c.authorize=function(a,b){return b(!1,{})},c.trigger=function(a,b){if(0!==a.indexOf("client-"))throw new Pusher.Errors.BadEventName("Event '"+a+"' does not start with 'client-'");return this.pusher.send_event(a,b,this.name)},c.disconnect=function(){this.subscribed=!1},c.handleEvent=function(a,b){0===a.indexOf("pusher_internal:")?"pusher_internal:subscription_succeeded"===a&&(this.subscribed=!0,this.emit("pusher:subscription_succeeded",b)):this.emit(a,b)},c.subscribe=function(){var a=this;a.authorize(a.pusher.connection.socket_id,function(b,c){b?a.handleEvent("pusher:subscription_error",c):a.pusher.send_event("pusher:subscribe",{auth:c.auth,channel_data:c.channel_data,channel:a.name})})},c.unsubscribe=function(){this.pusher.send_event("pusher:unsubscribe",{channel:this.name})},Pusher.Channel=b}.call(this),function(){function b(a,b){Pusher.Channel.call(this,a,b)}var c=b.prototype;Pusher.Util.extend(c,Pusher.Channel.prototype),c.authorize=function(a,b){return new Pusher.Channel.Authorizer(this,this.pusher.config).authorize(a,b)},Pusher.PrivateChannel=b}.call(this),function(){function b(a,b){Pusher.PrivateChannel.call(this,a,b),this.members=new Pusher.Members}var c=b.prototype;Pusher.Util.extend(c,Pusher.PrivateChannel.prototype),c.authorize=function(a,b){var c=this;Pusher.PrivateChannel.prototype.authorize.call(c,a,function(a,e){if(!a){if(void 0===e.channel_data)return Pusher.warn("Invalid auth response for channel '"+c.name+"', expected 'channel_data' field"),b("Invalid auth response"),void 0;var g=JSON.parse(e.channel_data);c.members.setMyID(g.user_id)}b(a,e)})},c.handleEvent=function(a,b){switch(a){case"pusher_internal:subscription_succeeded":this.members.onSubscription(b),this.subscribed=!0,this.emit("pusher:subscription_succeeded",this.members);break;case"pusher_internal:member_added":var c=this.members.addMember(b);this.emit("pusher:member_added",c);break;case"pusher_internal:member_removed":(c=this.members.removeMember(b))&&this.emit("pusher:member_removed",c);break;default:Pusher.PrivateChannel.prototype.handleEvent.call(this,a,b)}},c.disconnect=function(){this.members.reset(),Pusher.PrivateChannel.prototype.disconnect.call(this)},Pusher.PresenceChannel=b}.call(this),function(){function b(){this.channels={}}var c=b.prototype;c.add=function(a,b){if(!this.channels[a]){var f,c=this.channels;f=0===a.indexOf("private-")?new Pusher.PrivateChannel(a,b):0===a.indexOf("presence-")?new Pusher.PresenceChannel(a,b):new Pusher.Channel(a,b),c[a]=f}return this.channels[a]},c.all=function(){return Pusher.Util.values(this.channels)},c.find=function(a){return this.channels[a]},c.remove=function(a){var b=this.channels[a];return delete this.channels[a],b},c.disconnect=function(){Pusher.Util.objectApply(this.channels,function(a){a.disconnect()})},Pusher.Channels=b}.call(this),function(){Pusher.Channel.Authorizer=function(b,a){this.channel=b,this.type=a.authTransport,this.options=a,this.authOptions=(a||{}).auth||{}},Pusher.Channel.Authorizer.prototype={composeQuery:function(b){b="&socket_id="+encodeURIComponent(b)+"&channel_name="+encodeURIComponent(this.channel.name);for(var a in this.authOptions.params)b+="&"+encodeURIComponent(a)+"="+encodeURIComponent(this.authOptions.params[a]);return b},authorize:function(b,a){return Pusher.authorizers[this.type].call(this,b,a)}};var b=1;Pusher.auth_callbacks={},Pusher.authorizers={ajax:function(b,a){var d;d=Pusher.XHR?new Pusher.XHR:window.XMLHttpRequest?new window.XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP"),d.open("POST",this.options.authEndpoint,!0),d.setRequestHeader("Content-Type","application/x-www-form-urlencoded");for(var h in this.authOptions.headers)d.setRequestHeader(h,this.authOptions.headers[h]);return d.onreadystatechange=function(){if(4===d.readyState)if(200===d.status){var b,c=!1;try{b=JSON.parse(d.responseText),c=!0}catch(g){a(!0,"JSON returned from webapp was invalid, yet status code was 200. Data was: "+d.responseText)}c&&a(!1,b)}else Pusher.warn("Couldn't get auth info from your webapp",d.status),a(!0,d.status)},d.send(this.composeQuery(b)),d},jsonp:function(c,a){void 0!==this.authOptions.headers&&Pusher.warn("Warn","To send headers with the auth request, you must use AJAX, rather than JSONP.");var d=b.toString();b++;var h=Pusher.Util.getDocument(),f=h.createElement("script");Pusher.auth_callbacks[d]=function(b){a(!1,b)},f.src=this.options.authEndpoint+"?callback="+encodeURIComponent("Pusher.auth_callbacks['"+d+"']")+this.composeQuery(c),d=h.getElementsByTagName("head")[0]||h.documentElement,d.insertBefore(f,d.firstChild)}}}.call(this),function(){window.sfx_warning=function(){return window.sfx("warning")},window.sfx_success=function(){return window.sfx("success")},window.sfx=function(kind){var s;return s=$("#"+kind+"-fx")[0],"false"!==Cookies.get("sound")&&s.play?(s.pause(),s.currentTime=0,s.play()):void 0}}.call(this),function(){var Notifier,__bind=function(fn,me){return function(){return fn.apply(me,arguments)}};Notifier=function(){function Notifier(){this["switch"]=__bind(this["switch"],this),this.checkOrRequirePermission=__bind(this.checkOrRequirePermission,this),window.Notification||this.removeSwitch(),this.getState(),this.checkOrRequirePermission(),$('input[name="notification-checkbox"]').bootstrapSwitch({labelText:gon.i18n["switch"].notification,state:this.switchOn(),onSwitchChange:this["switch"]})}return Notifier.prototype.checkOrRequirePermission=function(){if(this.switchOn()){if("default"===Notification.permission)return this.requestPermission(this.checkOrRequirePermission);if("denied"===Notification.permission)return this.setStatus(!1),this.removeSwitch()}},Notifier.prototype.removeSwitch=function(){return $(".desktop-real-notification").remove()},Notifier.prototype.setState=function(status){return this.enableNotification=status,Cookies.set("notification",status,30)},Notifier.prototype.getState=function(){return this.enableNotification=Cookies.get("notification")},Notifier.prototype.requestPermission=function(callback){return Notification.requestPermission(callback)},Notifier.prototype["switch"]=function(event,state){return state?(this.setState(!0),this.checkOrRequirePermission()):this.setState(!1)},Notifier.prototype.switchOn=function(){return"true"===this.getState()?!0:!1},Notifier.prototype.notify=function(title,content,logo){var popup;return null==logo&&(logo="/peatio-notification-logo.png"),this.enableNotification===!0||"true"===this.enableNotification?(popup=window.Notification?new Notification(title,{body:content,onclick:onclick,icon:logo}):window.webkitNotifications.createNotification(avatar,title,content),setTimeout(function(){return function(){return popup.close()}}(this),8e3)):void 0},Notifier}(),window.Notifier=Notifier}.call(this),function(){var pusher;pusher=new Pusher(gon.pusher.key,{encrypted:gon.pusher.encrypted,wsHost:gon.pusher.wsHost,wsPort:gon.pusher.wsPort,wssPort:gon.pusher.wssPort}),window.pusher=pusher}.call(this),function(root,factory){"object"==typeof module&&module.exports?module.exports=root.document?factory(root):factory:root.Highcharts=factory(root)}("undefined"!=typeof window?window:this,function(win){var Highcharts=function(){var glob="undefined"==typeof win?window:win,doc=glob.document,SVG_NS="http://www.w3.org/2000/svg",userAgent=glob.navigator&&glob.navigator.userAgent||"",svg=doc&&doc.createElementNS&&!!doc.createElementNS(SVG_NS,"svg").createSVGRect,isMS=/(edge|msie|trident)/i.test(userAgent)&&!glob.opera,isFirefox=/Firefox/.test(userAgent),hasBidiBug=isFirefox&&parseInt(userAgent.split("Firefox/")[1],10)<4,Highcharts=glob.Highcharts?glob.Highcharts.error(16,!0):{product:"Highcharts",version:"5aaca1890988fc7073f112a2ff1556645b8dda5e",deg2rad:2*Math.PI/360,doc:doc,hasBidiBug:hasBidiBug,hasTouch:doc&&void 0!==doc.documentElement.ontouchstart,isMS:isMS,isWebKit:/AppleWebKit/.test(userAgent),isFirefox:isFirefox,isTouchDevice:/(Mobile|Android|Windows Phone)/.test(userAgent),SVG_NS:SVG_NS,chartCount:0,seriesTypes:{},symbolSizes:{},svg:svg,win:glob,marginNames:["plotTop","marginRight","marginBottom","plotLeft"],noop:function(){return void 0},charts:[]};return Highcharts}();!function(H){H.timers=[];var charts=H.charts,doc=H.doc,win=H.win;H.error=function(code,stop){var msg=H.isNumber(code)?"Highcharts error #"+code+": www.highcharts.com/errors/"+code:code;if(stop)throw new Error(msg);win.console&&console.log(msg)},H.Fx=function(elem,options,prop){this.options=options,this.elem=elem,this.prop=prop},H.Fx.prototype={dSetter:function(){var startVal,start=this.paths[0],end=this.paths[1],ret=[],now=this.now,i=start.length;if(1===now)ret=this.toD;else if(i===end.length&&1>now)for(;i--;)startVal=parseFloat(start[i]),ret[i]=isNaN(startVal)?end[i]:now*parseFloat(end[i]-startVal)+startVal;else ret=end;this.elem.attr("d",ret,null,!0)},update:function(){var elem=this.elem,prop=this.prop,now=this.now,step=this.options.step;this[prop+"Setter"]?this[prop+"Setter"]():elem.attr?elem.element&&elem.attr(prop,now,null,!0):elem.style[prop]=now+this.unit,step&&step.call(elem,now,this)},run:function(from,to,unit){var self=this,options=self.options,timer=function(gotoEnd){return timer.stopped?!1:self.step(gotoEnd)},requestAnimationFrame=win.requestAnimationFrame||function(step){setTimeout(step,13)},step=function(){for(var i=0;i<H.timers.length;i++)H.timers[i]()||H.timers.splice(i--,1);H.timers.length&&requestAnimationFrame(step)};from===to?(delete options.curAnim[this.prop],options.complete&&0===H.keys(options.curAnim).length&&options.complete.call(this.elem)):(this.startTime=+new Date,this.start=from,this.end=to,this.unit=unit,this.now=this.start,this.pos=0,timer.elem=this.elem,timer.prop=this.prop,timer()&&1===H.timers.push(timer)&&requestAnimationFrame(step))},step:function(gotoEnd){var ret,done,t=+new Date,options=this.options,elem=this.elem,complete=options.complete,duration=options.duration,curAnim=options.curAnim;return elem.attr&&!elem.element?ret=!1:gotoEnd||t>=duration+this.startTime?(this.now=this.end,this.pos=1,this.update(),curAnim[this.prop]=!0,done=!0,H.objectEach(curAnim,function(val){val!==!0&&(done=!1)}),done&&complete&&complete.call(elem),ret=!1):(this.pos=options.easing((t-this.startTime)/duration),this.now=this.start+(this.end-this.start)*this.pos,this.update(),ret=!0),ret},initPath:function(elem,fromD,toD){function sixify(arr){var isOperator,nextIsOperator;for(i=arr.length;i--;)isOperator="M"===arr[i]||"L"===arr[i],nextIsOperator=/[a-zA-Z]/.test(arr[i+3]),isOperator&&nextIsOperator&&arr.splice(i+1,0,arr[i+1],arr[i+2],arr[i+1],arr[i+2])}function insertSlice(arr,subArr,index){[].splice.apply(arr,[index,0].concat(subArr))}function prepend(arr,other){for(;arr.length<fullLength;)arr[0]=other[fullLength-arr.length],insertSlice(arr,arr.slice(0,numParams),0),isArea&&(insertSlice(arr,arr.slice(arr.length-numParams),arr.length),i--);arr[0]="M"}function append(arr,other){for(var i=(fullLength-arr.length)/numParams;i>0&&i--;)slice=arr.slice().splice(arr.length/positionFactor-numParams,numParams*positionFactor),slice[0]=other[fullLength-numParams-i*numParams],bezier&&(slice[numParams-6]=slice[numParams-2],slice[numParams-5]=slice[numParams-1]),insertSlice(arr,slice,arr.length/positionFactor),isArea&&i--}fromD=fromD||"";var shift,fullLength,slice,i,reverse,startX=elem.startX,endX=elem.endX,bezier=fromD.indexOf("C")>-1,numParams=bezier?7:3,start=fromD.split(" "),end=toD.slice(),isArea=elem.isArea,positionFactor=isArea?2:1;if(bezier&&(sixify(start),sixify(end)),startX&&endX){for(i=0;i<startX.length;i++){if(startX[i]===endX[0]){shift=i;break}if(startX[0]===endX[endX.length-startX.length+i]){shift=i,reverse=!0;break}}void 0===shift&&(start=[])}return start.length&&H.isNumber(shift)&&(fullLength=end.length+shift*positionFactor*numParams,reverse?(prepend(start,end),append(end,start)):(prepend(end,start),append(start,end))),[start,end]}},H.Fx.prototype.fillSetter=H.Fx.prototype.strokeSetter=function(){this.elem.attr(this.prop,H.color(this.start).tweenTo(H.color(this.end),this.pos),null,!0)},H.merge=function(){var i,len,args=arguments,ret={},doCopy=function(copy,original){return"object"!=typeof copy&&(copy={}),H.objectEach(original,function(value,key){copy[key]=!H.isObject(value,!0)||H.isClass(value)||H.isDOMElement(value)?original[key]:doCopy(copy[key]||{},value)}),copy};for(args[0]===!0&&(ret=args[1],args=Array.prototype.slice.call(args,2)),len=args.length,i=0;len>i;i++)ret=doCopy(ret,args[i]);return ret},H.pInt=function(s,mag){return parseInt(s,mag||10)},H.isString=function(s){return"string"==typeof s},H.isArray=function(obj){var str=Object.prototype.toString.call(obj);return"[object Array]"===str||"[object Array Iterator]"===str},H.isObject=function(obj,strict){return!(!obj||"object"!=typeof obj||strict&&H.isArray(obj))},H.isDOMElement=function(obj){return H.isObject(obj)&&"number"==typeof obj.nodeType},H.isClass=function(obj){var c=obj&&obj.constructor;return!(!H.isObject(obj,!0)||H.isDOMElement(obj)||!c||!c.name||"Object"===c.name)},H.isNumber=function(n){return"number"==typeof n&&!isNaN(n)&&1/0>n&&n>-1/0},H.erase=function(arr,item){for(var i=arr.length;i--;)if(arr[i]===item){arr.splice(i,1);break}},H.defined=function(obj){return void 0!==obj&&null!==obj},H.attr=function(elem,prop,value){var ret;return H.isString(prop)?H.defined(value)?elem.setAttribute(prop,value):elem&&elem.getAttribute&&(ret=elem.getAttribute(prop)):H.defined(prop)&&H.isObject(prop)&&H.objectEach(prop,function(val,key){elem.setAttribute(key,val)}),ret},H.splat=function(obj){return H.isArray(obj)?obj:[obj]},H.syncTimeout=function(fn,delay,context){return delay?setTimeout(fn,delay,context):(fn.call(0,context),void 0)},H.extend=function(a,b){var n;a||(a={});for(n in b)a[n]=b[n];return a},H.pick=function(){var i,arg,args=arguments,length=args.length;for(i=0;length>i;i++)if(arg=args[i],void 0!==arg&&null!==arg)return arg},H.css=function(el,styles){H.isMS&&!H.svg&&styles&&void 0!==styles.opacity&&(styles.filter="alpha(opacity="+100*styles.opacity+")"),H.extend(el.style,styles)},H.createElement=function(tag,attribs,styles,parent,nopad){var el=doc.createElement(tag),css=H.css;return attribs&&H.extend(el,attribs),nopad&&css(el,{padding:0,border:"none",margin:0}),styles&&css(el,styles),parent&&parent.appendChild(el),el},H.extendClass=function(parent,members){var object=function(){};return object.prototype=new parent,H.extend(object.prototype,members),object},H.pad=function(number,length,padder){return new Array((length||2)+1-String(number).length).join(padder||0)+number},H.relativeLength=function(value,base,offset){return/%$/.test(value)?base*parseFloat(value)/100+(offset||0):parseFloat(value)},H.wrap=function(obj,method,func){var proceed=obj[method];obj[method]=function(){var ret,args=Array.prototype.slice.call(arguments),outerArgs=arguments,ctx=this;return ctx.proceed=function(){proceed.apply(ctx,arguments.length?arguments:outerArgs)},args.unshift(proceed),ret=func.apply(this,args),ctx.proceed=null,ret}},H.formatSingle=function(format,val,time){var decimals,floatRegex=/f$/,decRegex=/\.([0-9])/,lang=H.defaultOptions.lang;return floatRegex.test(format)?(decimals=format.match(decRegex),decimals=decimals?decimals[1]:-1,null!==val&&(val=H.numberFormat(val,decimals,lang.decimalPoint,format.indexOf(",")>-1?lang.thousandsSep:""))):val=(time||H.time).dateFormat(format,val),val},H.format=function(str,ctx,time){for(var segment,valueAndFormat,path,i,len,val,index,splitter="{",isInside=!1,ret=[];str&&(index=str.indexOf(splitter),-1!==index);){if(segment=str.slice(0,index),isInside){for(valueAndFormat=segment.split(":"),path=valueAndFormat.shift().split("."),len=path.length,val=ctx,i=0;len>i;i++)val&&(val=val[path[i]]);valueAndFormat.length&&(val=H.formatSingle(valueAndFormat.join(":"),val,time)),ret.push(val)}else ret.push(segment);str=str.slice(index+1),isInside=!isInside,splitter=isInside?"}":"{"}return ret.push(str),ret.join("")},H.getMagnitude=function(num){return Math.pow(10,Math.floor(Math.log(num)/Math.LN10))},H.normalizeTickInterval=function(interval,multiples,magnitude,allowDecimals,hasTickAmount){var normalized,i,retInterval=interval;for(magnitude=H.pick(magnitude,1),normalized=interval/magnitude,multiples||(multiples=hasTickAmount?[1,1.2,1.5,2,2.5,3,4,5,6,8,10]:[1,2,2.5,5,10],allowDecimals===!1&&(1===magnitude?multiples=H.grep(multiples,function(num){return num%1===0}):.1>=magnitude&&(multiples=[1/magnitude]))),i=0;i<multiples.length&&(retInterval=multiples[i],!(hasTickAmount&&retInterval*magnitude>=interval||!hasTickAmount&&normalized<=(multiples[i]+(multiples[i+1]||multiples[i]))/2));i++);return retInterval=H.correctFloat(retInterval*magnitude,-Math.round(Math.log(.001)/Math.LN10))},H.stableSort=function(arr,sortFunction){var sortValue,i,length=arr.length;for(i=0;length>i;i++)arr[i].safeI=i;for(arr.sort(function(a,b){return sortValue=sortFunction(a,b),0===sortValue?a.safeI-b.safeI:sortValue}),i=0;length>i;i++)delete arr[i].safeI},H.arrayMin=function(data){for(var i=data.length,min=data[0];i--;)data[i]<min&&(min=data[i]);return min},H.arrayMax=function(data){for(var i=data.length,max=data[0];i--;)data[i]>max&&(max=data[i]);return max},H.destroyObjectProperties=function(obj,except){H.objectEach(obj,function(val,n){val&&val!==except&&val.destroy&&val.destroy(),delete obj[n]})},H.discardElement=function(element){var garbageBin=H.garbageBin;garbageBin||(garbageBin=H.createElement("div")),element&&garbageBin.appendChild(element),garbageBin.innerHTML=""},H.correctFloat=function(num,prec){return parseFloat(num.toPrecision(prec||14))},H.setAnimation=function(animation,chart){chart.renderer.globalAnimation=H.pick(animation,chart.options.chart.animation,!0)},H.animObject=function(animation){return H.isObject(animation)?H.merge(animation):{duration:animation?500:0}},H.timeUnits={millisecond:1,second:1e3,minute:6e4,hour:36e5,day:864e5,week:6048e5,month:24192e5,year:314496e5},H.numberFormat=function(number,decimals,decimalPoint,thousandsSep){number=+number||0,decimals=+decimals;var strinteger,thousands,ret,roundedNumber,fractionDigits,lang=H.defaultOptions.lang,origDec=(number.toString().split(".")[1]||"").split("e")[0].length,exponent=number.toString().split("e");return-1===decimals?decimals=Math.min(origDec,20):H.isNumber(decimals)?decimals&&exponent[1]&&exponent[1]<0&&(fractionDigits=decimals+ +exponent[1],fractionDigits>=0?(exponent[0]=(+exponent[0]).toExponential(fractionDigits).split("e")[0],decimals=fractionDigits):(exponent[0]=exponent[0].split(".")[0]||0,number=20>decimals?(exponent[0]*Math.pow(10,exponent[1])).toFixed(decimals):0,exponent[1]=0)):decimals=2,roundedNumber=(Math.abs(exponent[1]?exponent[0]:number)+Math.pow(10,-Math.max(decimals,origDec)-1)).toFixed(decimals),strinteger=String(H.pInt(roundedNumber)),thousands=strinteger.length>3?strinteger.length%3:0,decimalPoint=H.pick(decimalPoint,lang.decimalPoint),thousandsSep=H.pick(thousandsSep,lang.thousandsSep),ret=0>number?"-":"",ret+=thousands?strinteger.substr(0,thousands)+thousandsSep:"",ret+=strinteger.substr(thousands).replace(/(\d{3})(?=\d)/g,"$1"+thousandsSep),decimals&&(ret+=decimalPoint+roundedNumber.slice(-decimals)),exponent[1]&&0!==+ret&&(ret+="e"+exponent[1]),ret},Math.easeInOutSine=function(pos){return-.5*(Math.cos(Math.PI*pos)-1)},H.getStyle=function(el,prop,toInt){var style;return"width"===prop?Math.min(el.offsetWidth,el.scrollWidth)-H.getStyle(el,"padding-left")-H.getStyle(el,"padding-right"):"height"===prop?Math.min(el.offsetHeight,el.scrollHeight)-H.getStyle(el,"padding-top")-H.getStyle(el,"padding-bottom"):(win.getComputedStyle||H.error(27,!0),style=win.getComputedStyle(el,void 0),style&&(style=style.getPropertyValue(prop),H.pick(toInt,"opacity"!==prop)&&(style=H.pInt(style))),style)},H.inArray=function(item,arr){return(H.indexOfPolyfill||Array.prototype.indexOf).call(arr,item)},H.grep=function(arr,callback){return(H.filterPolyfill||Array.prototype.filter).call(arr,callback)},H.find=Array.prototype.find?function(arr,callback){return arr.find(callback)}:function(arr,fn){var i,length=arr.length;for(i=0;length>i;i++)if(fn(arr[i],i))return arr[i]},H.map=function(arr,fn){for(var results=[],i=0,len=arr.length;len>i;i++)results[i]=fn.call(arr[i],arr[i],i,arr);return results},H.keys=function(obj){return(H.keysPolyfill||Object.keys).call(void 0,obj)},H.reduce=function(arr,func,initialValue){return(H.reducePolyfill||Array.prototype.reduce).call(arr,func,initialValue)},H.offset=function(el){var docElem=doc.documentElement,box=el.parentElement?el.getBoundingClientRect():{top:0,left:0};return{top:box.top+(win.pageYOffset||docElem.scrollTop)-(docElem.clientTop||0),left:box.left+(win.pageXOffset||docElem.scrollLeft)-(docElem.clientLeft||0)}},H.stop=function(el,prop){for(var i=H.timers.length;i--;)H.timers[i].elem!==el||prop&&prop!==H.timers[i].prop||(H.timers[i].stopped=!0)},H.each=function(arr,fn,ctx){return(H.forEachPolyfill||Array.prototype.forEach).call(arr,fn,ctx)},H.objectEach=function(obj,fn,ctx){for(var key in obj)obj.hasOwnProperty(key)&&fn.call(ctx,obj[key],key,obj)},H.addEvent=function(el,type,fn){var events,itemEvents,addEventListener=el.addEventListener||H.addEventListenerPolyfill;return el.hcEvents&&!Object.prototype.hasOwnProperty.call(el,"hcEvents")&&(itemEvents={},H.objectEach(el.hcEvents,function(handlers,eventType){itemEvents[eventType]=handlers.slice(0)}),el.hcEvents=itemEvents),events=el.hcEvents=el.hcEvents||{},addEventListener&&addEventListener.call(el,type,fn,!1),events[type]||(events[type]=[]),events[type].push(fn),function(){H.removeEvent(el,type,fn)}},H.removeEvent=function(el,type,fn){function removeOneEvent(type,fn){var removeEventListener=el.removeEventListener||H.removeEventListenerPolyfill;removeEventListener&&removeEventListener.call(el,type,fn,!1)}function removeAllEvents(){var types,len;el.nodeName&&(type?(types={},types[type]=!0):types=hcEvents,H.objectEach(types,function(val,n){if(hcEvents[n])for(len=hcEvents[n].length;len--;)removeOneEvent(n,hcEvents[n][len])}))}var events,index,hcEvents=el.hcEvents;hcEvents&&(type?(events=hcEvents[type]||[],fn?(index=H.inArray(fn,events),index>-1&&(events.splice(index,1),hcEvents[type]=events),removeOneEvent(type,fn)):(removeAllEvents(),hcEvents[type]=[])):(removeAllEvents(),el.hcEvents={}))},H.fireEvent=function(el,type,eventArguments,defaultFunction){var e,events,len,i,fn,hcEvents=el.hcEvents;if(eventArguments=eventArguments||{},doc.createEvent&&(el.dispatchEvent||el.fireEvent))e=doc.createEvent("Events"),e.initEvent(type,!0,!0),H.extend(e,eventArguments),el.dispatchEvent?el.dispatchEvent(e):el.fireEvent(type,e);else if(hcEvents)for(events=hcEvents[type]||[],len=events.length,eventArguments.target||H.extend(eventArguments,{preventDefault:function(){eventArguments.defaultPrevented=!0},target:el,type:type}),i=0;len>i;i++)fn=events[i],fn&&fn.call(el,eventArguments)===!1&&eventArguments.preventDefault();defaultFunction&&!eventArguments.defaultPrevented&&defaultFunction(eventArguments)},H.animate=function(el,params,opt){var start,end,fx,args,unit="";
H.isObject(opt)||(args=arguments,opt={duration:args[2],easing:args[3],complete:args[4]}),H.isNumber(opt.duration)||(opt.duration=400),opt.easing="function"==typeof opt.easing?opt.easing:Math[opt.easing]||Math.easeInOutSine,opt.curAnim=H.merge(params),H.objectEach(params,function(val,prop){H.stop(el,prop),fx=new H.Fx(el,opt,prop),end=null,"d"===prop?(fx.paths=fx.initPath(el,el.d,params.d),fx.toD=params.d,start=0,end=1):el.attr?start=el.attr(prop):(start=parseFloat(H.getStyle(el,prop))||0,"opacity"!==prop&&(unit="px")),end||(end=val),end&&end.match&&end.match("px")&&(end=end.replace(/px/g,"")),fx.run(start,end,unit)})},H.seriesType=function(type,parent,options,props,pointProps){var defaultOptions=H.getOptions(),seriesTypes=H.seriesTypes;return defaultOptions.plotOptions[type]=H.merge(defaultOptions.plotOptions[parent],options),seriesTypes[type]=H.extendClass(seriesTypes[parent]||function(){},props),seriesTypes[type].prototype.type=type,pointProps&&(seriesTypes[type].prototype.pointClass=H.extendClass(H.Point,pointProps)),seriesTypes[type]},H.uniqueKey=function(){var uniqueKeyHash=Math.random().toString(36).substring(2,9),idCounter=0;return function(){return"highcharts-"+uniqueKeyHash+"-"+idCounter++}}(),win.jQuery&&(win.jQuery.fn.highcharts=function(){var args=[].slice.call(arguments);return this[0]?args[0]?(new(H[H.isString(args[0])?args.shift():"Chart"])(this[0],args[0],args[1]),this):charts[H.attr(this[0],"data-highcharts-chart")]:void 0})}(Highcharts),function(H){var each=H.each,isNumber=H.isNumber,map=H.map,merge=H.merge,pInt=H.pInt;H.Color=function(input){return this instanceof H.Color?(this.init(input),void 0):new H.Color(input)},H.Color.prototype={parsers:[{regex:/rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]?(?:\.[0-9]+)?)\s*\)/,parse:function(result){return[pInt(result[1]),pInt(result[2]),pInt(result[3]),parseFloat(result[4],10)]}},{regex:/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/,parse:function(result){return[pInt(result[1]),pInt(result[2]),pInt(result[3]),1]}}],names:{none:"rgba(255,255,255,0)",white:"#ffffff",black:"#000000"},init:function(input){var result,rgba,i,parser,len;if(this.input=input=this.names[input&&input.toLowerCase?input.toLowerCase():""]||input,input&&input.stops)this.stops=map(input.stops,function(stop){return new H.Color(stop[1])});else if(input&&input.charAt&&"#"===input.charAt()&&(len=input.length,input=parseInt(input.substr(1),16),7===len?rgba=[(16711680&input)>>16,(65280&input)>>8,255&input,1]:4===len&&(rgba=[(3840&input)>>4|(3840&input)>>8,(240&input)>>4|240&input,(15&input)<<4|15&input,1])),!rgba)for(i=this.parsers.length;i--&&!rgba;)parser=this.parsers[i],result=parser.regex.exec(input),result&&(rgba=parser.parse(result));this.rgba=rgba||[]},get:function(format){var ret,input=this.input,rgba=this.rgba;return this.stops?(ret=merge(input),ret.stops=[].concat(ret.stops),each(this.stops,function(stop,i){ret.stops[i]=[ret.stops[i][0],stop.get(format)]})):ret=rgba&&isNumber(rgba[0])?"rgb"===format||!format&&1===rgba[3]?"rgb("+rgba[0]+","+rgba[1]+","+rgba[2]+")":"a"===format?rgba[3]:"rgba("+rgba.join(",")+")":input,ret},brighten:function(alpha){var i,rgba=this.rgba;if(this.stops)each(this.stops,function(stop){stop.brighten(alpha)});else if(isNumber(alpha)&&0!==alpha)for(i=0;3>i;i++)rgba[i]+=pInt(255*alpha),rgba[i]<0&&(rgba[i]=0),rgba[i]>255&&(rgba[i]=255);return this},setOpacity:function(alpha){return this.rgba[3]=alpha,this},tweenTo:function(to,pos){var hasAlpha,ret,fromRgba=this.rgba,toRgba=to.rgba;return toRgba.length&&fromRgba&&fromRgba.length?(hasAlpha=1!==toRgba[3]||1!==fromRgba[3],ret=(hasAlpha?"rgba(":"rgb(")+Math.round(toRgba[0]+(fromRgba[0]-toRgba[0])*(1-pos))+","+Math.round(toRgba[1]+(fromRgba[1]-toRgba[1])*(1-pos))+","+Math.round(toRgba[2]+(fromRgba[2]-toRgba[2])*(1-pos))+(hasAlpha?","+(toRgba[3]+(fromRgba[3]-toRgba[3])*(1-pos)):"")+")"):ret=to.input||"none",ret}},H.color=function(input){return new H.Color(input)}}(Highcharts),function(H){var SVGElement,SVGRenderer,addEvent=H.addEvent,animate=H.animate,attr=H.attr,charts=H.charts,color=H.color,css=H.css,createElement=H.createElement,defined=H.defined,deg2rad=H.deg2rad,destroyObjectProperties=H.destroyObjectProperties,doc=H.doc,each=H.each,extend=H.extend,erase=H.erase,grep=H.grep,hasTouch=H.hasTouch,inArray=H.inArray,isArray=H.isArray,isFirefox=H.isFirefox,isMS=H.isMS,isObject=H.isObject,isString=H.isString,isWebKit=H.isWebKit,merge=H.merge,noop=H.noop,objectEach=H.objectEach,pick=H.pick,pInt=H.pInt,removeEvent=H.removeEvent,stop=(H.splat,H.stop),svg=H.svg,SVG_NS=H.SVG_NS,symbolSizes=H.symbolSizes,win=H.win;SVGElement=H.SVGElement=function(){return this},extend(SVGElement.prototype,{opacity:1,SVG_NS:SVG_NS,textProps:["direction","fontSize","fontWeight","fontFamily","fontStyle","color","lineHeight","width","textAlign","textDecoration","textOverflow","textOutline"],init:function(renderer,nodeName){this.element="span"===nodeName?createElement(nodeName):doc.createElementNS(this.SVG_NS,nodeName),this.renderer=renderer},animate:function(params,options,complete){var animOptions=H.animObject(pick(options,this.renderer.globalAnimation,!0));return 0!==animOptions.duration?(complete&&(animOptions.complete=complete),animate(this,params,animOptions)):(this.attr(params,null,complete),animOptions.step&&animOptions.step.call(this)),this},colorGradient:function(color,prop,elem){var colorObject,gradName,gradAttr,radAttr,gradients,gradientObject,stops,stopColor,stopOpacity,radialReference,id,value,renderer=this.renderer,key=[];color.radialGradient?gradName="radialGradient":color.linearGradient&&(gradName="linearGradient"),gradName&&(gradAttr=color[gradName],gradients=renderer.gradients,stops=color.stops,radialReference=elem.radialReference,isArray(gradAttr)&&(color[gradName]=gradAttr={x1:gradAttr[0],y1:gradAttr[1],x2:gradAttr[2],y2:gradAttr[3],gradientUnits:"userSpaceOnUse"}),"radialGradient"===gradName&&radialReference&&!defined(gradAttr.gradientUnits)&&(radAttr=gradAttr,gradAttr=merge(gradAttr,renderer.getRadialAttr(radialReference,radAttr),{gradientUnits:"userSpaceOnUse"})),objectEach(gradAttr,function(val,n){"id"!==n&&key.push(n,val)}),objectEach(stops,function(val){key.push(val)}),key=key.join(","),gradients[key]?id=gradients[key].attr("id"):(gradAttr.id=id=H.uniqueKey(),gradients[key]=gradientObject=renderer.createElement(gradName).attr(gradAttr).add(renderer.defs),gradientObject.radAttr=radAttr,gradientObject.stops=[],each(stops,function(stop){var stopObject;0===stop[1].indexOf("rgba")?(colorObject=H.color(stop[1]),stopColor=colorObject.get("rgb"),stopOpacity=colorObject.get("a")):(stopColor=stop[1],stopOpacity=1),stopObject=renderer.createElement("stop").attr({offset:stop[0],"stop-color":stopColor,"stop-opacity":stopOpacity}).add(gradientObject),gradientObject.stops.push(stopObject)})),value="url("+renderer.url+"#"+id+")",elem.setAttribute(prop,value),elem.gradient=key,color.toString=function(){return value})},applyTextOutline:function(textOutline){var tspans,tspan,color,strokeWidth,firstRealChild,i,elem=this.element,hasContrast=-1!==textOutline.indexOf("contrast"),styles={};if(hasContrast&&(styles.textOutline=textOutline=textOutline.replace(/contrast/g,this.renderer.getContrast(elem.style.fill))),textOutline=textOutline.split(" "),color=textOutline[textOutline.length-1],strokeWidth=textOutline[0],strokeWidth&&"none"!==strokeWidth&&H.svg){for(this.fakeTS=!0,tspans=[].slice.call(elem.getElementsByTagName("tspan")),this.ySetter=this.xSetter,strokeWidth=strokeWidth.replace(/(^[\d\.]+)(.*?)$/g,function(match,digit,unit){return 2*digit+unit}),i=tspans.length;i--;)tspan=tspans[i],"highcharts-text-outline"===tspan.getAttribute("class")&&erase(tspans,elem.removeChild(tspan));firstRealChild=elem.firstChild,each(tspans,function(tspan,y){var clone;0===y&&(tspan.setAttribute("x",elem.getAttribute("x")),y=elem.getAttribute("y"),tspan.setAttribute("y",y||0),null===y&&elem.setAttribute("y",0)),clone=tspan.cloneNode(1),attr(clone,{"class":"highcharts-text-outline",fill:color,stroke:color,"stroke-width":strokeWidth,"stroke-linejoin":"round"}),elem.insertBefore(clone,firstRealChild)})}},attr:function(hash,val,complete,continueAnimation){var key,hasSetSymbolSize,skipAttr,setter,element=this.element,ret=this;return"string"==typeof hash&&void 0!==val&&(key=hash,hash={},hash[key]=val),"string"==typeof hash?ret=(this[hash+"Getter"]||this._defaultGetter).call(this,hash,element):(objectEach(hash,function(val,key){skipAttr=!1,continueAnimation||stop(this,key),this.symbolName&&/^(x|y|width|height|r|start|end|innerR|anchorX|anchorY)$/.test(key)&&(hasSetSymbolSize||(this.symbolAttr(hash),hasSetSymbolSize=!0),skipAttr=!0),!this.rotation||"x"!==key&&"y"!==key||(this.doTransform=!0),skipAttr||(setter=this[key+"Setter"]||this._defaultSetter,setter.call(this,val,key,element),this.shadows&&/^(width|height|visibility|x|y|d|transform|cx|cy|r)$/.test(key)&&this.updateShadows(key,val,setter))},this),this.afterSetters()),complete&&complete(),ret},afterSetters:function(){this.doTransform&&(this.updateTransform(),this.doTransform=!1)},updateShadows:function(key,value,setter){for(var shadows=this.shadows,i=shadows.length;i--;)setter.call(shadows[i],"height"===key?Math.max(value-(shadows[i].cutHeight||0),0):"d"===key?this.d:value,key,shadows[i])},addClass:function(className,replace){var currentClassName=this.attr("class")||"";return-1===currentClassName.indexOf(className)&&(replace||(className=(currentClassName+(currentClassName?" ":"")+className).replace("  "," ")),this.attr("class",className)),this},hasClass:function(className){return-1!==inArray(className,(this.attr("class")||"").split(" "))},removeClass:function(className){return this.attr("class",(this.attr("class")||"").replace(className,""))},symbolAttr:function(hash){var wrapper=this;each(["x","y","r","start","end","width","height","innerR","anchorX","anchorY"],function(key){wrapper[key]=pick(hash[key],wrapper[key])}),wrapper.attr({d:wrapper.renderer.symbols[wrapper.symbolName](wrapper.x,wrapper.y,wrapper.width,wrapper.height,wrapper)})},clip:function(clipRect){return this.attr("clip-path",clipRect?"url("+this.renderer.url+"#"+clipRect.id+")":"none")},crisp:function(rect,strokeWidth){var normalizer,wrapper=this;return strokeWidth=strokeWidth||rect.strokeWidth||0,normalizer=Math.round(strokeWidth)%2/2,rect.x=Math.floor(rect.x||wrapper.x||0)+normalizer,rect.y=Math.floor(rect.y||wrapper.y||0)+normalizer,rect.width=Math.floor((rect.width||wrapper.width||0)-2*normalizer),rect.height=Math.floor((rect.height||wrapper.height||0)-2*normalizer),defined(rect.strokeWidth)&&(rect.strokeWidth=strokeWidth),rect},css:function(styles){var textWidth,hyphenate,oldStyles=this.styles,newStyles={},elem=this.element,serializedCss="",hasNew=!oldStyles,svgPseudoProps=["textOutline","textOverflow","width"];return styles&&styles.color&&(styles.fill=styles.color),oldStyles&&objectEach(styles,function(style,n){style!==oldStyles[n]&&(newStyles[n]=style,hasNew=!0)}),hasNew&&(oldStyles&&(styles=extend(oldStyles,newStyles)),textWidth=this.textWidth=styles&&styles.width&&"auto"!==styles.width&&"text"===elem.nodeName.toLowerCase()&&pInt(styles.width),this.styles=styles,textWidth&&!svg&&this.renderer.forExport&&delete styles.width,isMS&&!svg?css(this.element,styles):(hyphenate=function(a,b){return"-"+b.toLowerCase()},objectEach(styles,function(style,n){-1===inArray(n,svgPseudoProps)&&(serializedCss+=n.replace(/([A-Z])/g,hyphenate)+":"+style+";")}),serializedCss&&attr(elem,"style",serializedCss)),this.added&&("text"===this.element.nodeName&&this.renderer.buildText(this),styles&&styles.textOutline&&this.applyTextOutline(styles.textOutline))),this},strokeWidth:function(){return this["stroke-width"]||0},on:function(eventType,handler){var svgElement=this,element=svgElement.element;return hasTouch&&"click"===eventType?(element.ontouchstart=function(e){svgElement.touchEventFired=Date.now(),e.preventDefault(),handler.call(element,e)},element.onclick=function(e){(-1===win.navigator.userAgent.indexOf("Android")||Date.now()-(svgElement.touchEventFired||0)>1100)&&handler.call(element,e)}):element["on"+eventType]=handler,this},setRadialReference:function(coordinates){var existingGradient=this.renderer.gradients[this.element.gradient];return this.element.radialReference=coordinates,existingGradient&&existingGradient.radAttr&&existingGradient.animate(this.renderer.getRadialAttr(coordinates,existingGradient.radAttr)),this},translate:function(x,y){return this.attr({translateX:x,translateY:y})},invert:function(inverted){var wrapper=this;return wrapper.inverted=inverted,wrapper.updateTransform(),wrapper},updateTransform:function(){var transform,wrapper=this,translateX=wrapper.translateX||0,translateY=wrapper.translateY||0,scaleX=wrapper.scaleX,scaleY=wrapper.scaleY,inverted=wrapper.inverted,rotation=wrapper.rotation,matrix=wrapper.matrix,element=wrapper.element;inverted&&(translateX+=wrapper.width,translateY+=wrapper.height),transform=["translate("+translateX+","+translateY+")"],defined(matrix)&&transform.push("matrix("+matrix.join(",")+")"),inverted?transform.push("rotate(90) scale(-1,1)"):rotation&&transform.push("rotate("+rotation+" "+pick(this.rotationOriginX,element.getAttribute("x"),0)+" "+pick(this.rotationOriginY,element.getAttribute("y")||0)+")"),(defined(scaleX)||defined(scaleY))&&transform.push("scale("+pick(scaleX,1)+" "+pick(scaleY,1)+")"),transform.length&&element.setAttribute("transform",transform.join(" "))},toFront:function(){var element=this.element;return element.parentNode.appendChild(element),this},align:function(alignOptions,alignByTranslate,box){var align,vAlign,x,y,alignTo,alignFactor,vAlignFactor,attribs={},renderer=this.renderer,alignedObjects=renderer.alignedObjects;return alignOptions?(this.alignOptions=alignOptions,this.alignByTranslate=alignByTranslate,(!box||isString(box))&&(this.alignTo=alignTo=box||"renderer",erase(alignedObjects,this),alignedObjects.push(this),box=null)):(alignOptions=this.alignOptions,alignByTranslate=this.alignByTranslate,alignTo=this.alignTo),box=pick(box,renderer[alignTo],renderer),align=alignOptions.align,vAlign=alignOptions.verticalAlign,x=(box.x||0)+(alignOptions.x||0),y=(box.y||0)+(alignOptions.y||0),"right"===align?alignFactor=1:"center"===align&&(alignFactor=2),alignFactor&&(x+=(box.width-(alignOptions.width||0))/alignFactor),attribs[alignByTranslate?"translateX":"x"]=Math.round(x),"bottom"===vAlign?vAlignFactor=1:"middle"===vAlign&&(vAlignFactor=2),vAlignFactor&&(y+=(box.height-(alignOptions.height||0))/vAlignFactor),attribs[alignByTranslate?"translateY":"y"]=Math.round(y),this[this.placed?"animate":"attr"](attribs),this.placed=!0,this.alignAttr=attribs,this},getBBox:function(reload,rot){var bBox,width,height,rotation,rad,fontSize,toggleTextShadowShim,cacheKey,wrapper=this,renderer=wrapper.renderer,element=wrapper.element,styles=wrapper.styles,textStr=wrapper.textStr,cache=renderer.cache,cacheKeys=renderer.cacheKeys;if(rotation=pick(rot,wrapper.rotation),rad=rotation*deg2rad,fontSize=styles&&styles.fontSize,defined(textStr)&&(cacheKey=textStr.toString(),-1===cacheKey.indexOf("<")&&(cacheKey=cacheKey.replace(/[0-9]/g,"0")),cacheKey+=["",rotation||0,fontSize,styles&&styles.width,styles&&styles.textOverflow].join(",")),cacheKey&&!reload&&(bBox=cache[cacheKey]),!bBox){if(element.namespaceURI===wrapper.SVG_NS||renderer.forExport){try{toggleTextShadowShim=this.fakeTS&&function(display){each(element.querySelectorAll(".highcharts-text-outline"),function(tspan){tspan.style.display=display})},toggleTextShadowShim&&toggleTextShadowShim("none"),bBox=element.getBBox?extend({},element.getBBox()):{width:element.offsetWidth,height:element.offsetHeight},toggleTextShadowShim&&toggleTextShadowShim("")}catch(e){}(!bBox||bBox.width<0)&&(bBox={width:0,height:0})}else bBox=wrapper.htmlGetBBox();if(renderer.isSVG&&(width=bBox.width,height=bBox.height,styles&&"11px"===styles.fontSize&&17===Math.round(height)&&(bBox.height=height=14),rotation&&(bBox.width=Math.abs(height*Math.sin(rad))+Math.abs(width*Math.cos(rad)),bBox.height=Math.abs(height*Math.cos(rad))+Math.abs(width*Math.sin(rad)))),cacheKey&&bBox.height>0){for(;cacheKeys.length>250;)delete cache[cacheKeys.shift()];cache[cacheKey]||cacheKeys.push(cacheKey),cache[cacheKey]=bBox}}return bBox},show:function(inherit){return this.attr({visibility:inherit?"inherit":"visible"})},hide:function(){return this.attr({visibility:"hidden"})},fadeOut:function(duration){var elemWrapper=this;elemWrapper.animate({opacity:0},{duration:duration||150,complete:function(){elemWrapper.attr({y:-9999})}})},add:function(parent){var inserted,renderer=this.renderer,element=this.element;return parent&&(this.parentGroup=parent),this.parentInverted=parent&&parent.inverted,void 0!==this.textStr&&renderer.buildText(this),this.added=!0,(!parent||parent.handleZ||this.zIndex)&&(inserted=this.zIndexSetter()),inserted||(parent?parent.element:renderer.box).appendChild(element),this.onAdd&&this.onAdd(),this},safeRemoveChild:function(element){var parentNode=element.parentNode;parentNode&&parentNode.removeChild(element)},destroy:function(){var grandParent,i,wrapper=this,element=wrapper.element||{},parentToClean=wrapper.renderer.isSVG&&"SPAN"===element.nodeName&&wrapper.parentGroup,ownerSVGElement=element.ownerSVGElement;if(element.onclick=element.onmouseout=element.onmouseover=element.onmousemove=element.point=null,stop(wrapper),wrapper.clipPath&&ownerSVGElement&&(each(ownerSVGElement.querySelectorAll("[clip-path],[CLIP-PATH]"),function(el){el.getAttribute("clip-path").match(RegExp('[("]#'+wrapper.clipPath.element.id+'[)"]'))&&el.removeAttribute("clip-path")}),wrapper.clipPath=wrapper.clipPath.destroy()),wrapper.stops){for(i=0;i<wrapper.stops.length;i++)wrapper.stops[i]=wrapper.stops[i].destroy();wrapper.stops=null}for(wrapper.safeRemoveChild(element),wrapper.destroyShadows();parentToClean&&parentToClean.div&&0===parentToClean.div.childNodes.length;)grandParent=parentToClean.parentGroup,wrapper.safeRemoveChild(parentToClean.div),delete parentToClean.div,parentToClean=grandParent;return wrapper.alignTo&&erase(wrapper.renderer.alignedObjects,wrapper),objectEach(wrapper,function(val,key){delete wrapper[key]}),null},shadow:function(shadowOptions,group,cutOff){var i,shadow,strokeWidth,shadowWidth,shadowElementOpacity,transform,shadows=[],element=this.element;if(shadowOptions){if(!this.shadows){for(shadowWidth=pick(shadowOptions.width,3),shadowElementOpacity=(shadowOptions.opacity||.15)/shadowWidth,transform=this.parentInverted?"(-1,-1)":"("+pick(shadowOptions.offsetX,1)+", "+pick(shadowOptions.offsetY,1)+")",i=1;shadowWidth>=i;i++)shadow=element.cloneNode(0),strokeWidth=2*shadowWidth+1-2*i,attr(shadow,{isShadow:"true",stroke:shadowOptions.color||"#000000","stroke-opacity":shadowElementOpacity*i,"stroke-width":strokeWidth,transform:"translate"+transform,fill:"none"}),cutOff&&(attr(shadow,"height",Math.max(attr(shadow,"height")-strokeWidth,0)),shadow.cutHeight=strokeWidth),group?group.element.appendChild(shadow):element.parentNode&&element.parentNode.insertBefore(shadow,element),shadows.push(shadow);this.shadows=shadows}}else this.destroyShadows();return this},destroyShadows:function(){each(this.shadows||[],function(shadow){this.safeRemoveChild(shadow)},this),this.shadows=void 0},xGetter:function(key){return"circle"===this.element.nodeName&&("x"===key?key="cx":"y"===key&&(key="cy")),this._defaultGetter(key)},_defaultGetter:function(key){var ret=pick(this[key+"Value"],this[key],this.element?this.element.getAttribute(key):null,0);return/^[\-0-9\.]+$/.test(ret)&&(ret=parseFloat(ret)),ret},dSetter:function(value,key,element){value&&value.join&&(value=value.join(" ")),/(NaN| {2}|^$)/.test(value)&&(value="M 0 0"),this[key]!==value&&(element.setAttribute(key,value),this[key]=value)},dashstyleSetter:function(value){var i,strokeWidth=this["stroke-width"];if("inherit"===strokeWidth&&(strokeWidth=1),value=value&&value.toLowerCase()){for(value=value.replace("shortdashdotdot","3,1,1,1,1,1,").replace("shortdashdot","3,1,1,1").replace("shortdot","1,1,").replace("shortdash","3,1,").replace("longdash","8,3,").replace(/dot/g,"1,3,").replace("dash","4,3,").replace(/,$/,"").split(","),i=value.length;i--;)value[i]=pInt(value[i])*strokeWidth;value=value.join(",").replace(/NaN/g,"none"),this.element.setAttribute("stroke-dasharray",value)}},alignSetter:function(value){var convert={left:"start",center:"middle",right:"end"};this.alignValue=value,this.element.setAttribute("text-anchor",convert[value])},opacitySetter:function(value,key,element){this[key]=value,element.setAttribute(key,value)},titleSetter:function(value){var titleNode=this.element.getElementsByTagName("title")[0];titleNode||(titleNode=doc.createElementNS(this.SVG_NS,"title"),this.element.appendChild(titleNode)),titleNode.firstChild&&titleNode.removeChild(titleNode.firstChild),titleNode.appendChild(doc.createTextNode(String(pick(value),"").replace(/<[^>]*>/g,"")))},textSetter:function(value){value!==this.textStr&&(delete this.bBox,this.textStr=value,this.added&&this.renderer.buildText(this))},fillSetter:function(value,key,element){"string"==typeof value?element.setAttribute(key,value):value&&this.colorGradient(value,key,element)},visibilitySetter:function(value,key,element){"inherit"===value?element.removeAttribute(key):this[key]!==value&&element.setAttribute(key,value),this[key]=value},zIndexSetter:function(value,key){var childNodes,otherElement,otherZIndex,inserted,undefinedOtherZIndex,i,renderer=this.renderer,parentGroup=this.parentGroup,parentWrapper=parentGroup||renderer,parentNode=parentWrapper.element||renderer.box,element=this.element,svgParent=parentNode===renderer.box,run=this.added;if(defined(value)&&(element.zIndex=value,value=+value,this[key]===value&&(run=!1),this[key]=value),run){for(value=this.zIndex,value&&parentGroup&&(parentGroup.handleZ=!0),childNodes=parentNode.childNodes,i=childNodes.length-1;i>=0&&!inserted;i--)otherElement=childNodes[i],otherZIndex=otherElement.zIndex,undefinedOtherZIndex=!defined(otherZIndex),otherElement!==element&&(0>value&&undefinedOtherZIndex&&!svgParent&&!i?(parentNode.insertBefore(element,childNodes[i]),inserted=!0):(pInt(otherZIndex)<=value||undefinedOtherZIndex&&(!defined(value)||value>=0))&&(parentNode.insertBefore(element,childNodes[i+1]||null),inserted=!0));inserted||(parentNode.insertBefore(element,childNodes[svgParent?3:0]||null),inserted=!0)}return inserted},_defaultSetter:function(value,key,element){element.setAttribute(key,value)}}),SVGElement.prototype.yGetter=SVGElement.prototype.xGetter,SVGElement.prototype.translateXSetter=SVGElement.prototype.translateYSetter=SVGElement.prototype.rotationSetter=SVGElement.prototype.verticalAlignSetter=SVGElement.prototype.rotationOriginXSetter=SVGElement.prototype.rotationOriginYSetter=SVGElement.prototype.scaleXSetter=SVGElement.prototype.scaleYSetter=SVGElement.prototype.matrixSetter=function(value,key){this[key]=value,this.doTransform=!0},SVGElement.prototype["stroke-widthSetter"]=SVGElement.prototype.strokeSetter=function(value,key,element){this[key]=value,this.stroke&&this["stroke-width"]?(SVGElement.prototype.fillSetter.call(this,this.stroke,"stroke",element),element.setAttribute("stroke-width",this["stroke-width"]),this.hasStroke=!0):"stroke-width"===key&&0===value&&this.hasStroke&&(element.removeAttribute("stroke"),this.hasStroke=!1)},SVGRenderer=H.SVGRenderer=function(){this.init.apply(this,arguments)},extend(SVGRenderer.prototype,{Element:SVGElement,SVG_NS:SVG_NS,init:function(container,width,height,style,forExport,allowHTML){var boxWrapper,element,desc,renderer=this;boxWrapper=renderer.createElement("svg").attr({version:"1.1","class":"highcharts-root"}).css(this.getStyle(style)),element=boxWrapper.element,container.appendChild(element),attr(container,"dir","ltr"),-1===container.innerHTML.indexOf("xmlns")&&attr(element,"xmlns",this.SVG_NS),renderer.isSVG=!0,this.box=element,this.boxWrapper=boxWrapper,renderer.alignedObjects=[],this.url=(isFirefox||isWebKit)&&doc.getElementsByTagName("base").length?win.location.href.replace(/#.*?$/,"").replace(/<[^>]*>/g,"").replace(/([\('\)])/g,"\\$1").replace(/ /g,"%20"):"",desc=this.createElement("desc").add(),desc.element.appendChild(doc.createTextNode("Created with Highcharts 5aaca1890988fc7073f112a2ff1556645b8dda5e")),renderer.defs=this.createElement("defs").add(),renderer.allowHTML=allowHTML,renderer.forExport=forExport,renderer.gradients={},renderer.cache={},renderer.cacheKeys=[],renderer.imgCount=0,renderer.setSize(width,height,!1);var subPixelFix,rect;isFirefox&&container.getBoundingClientRect&&(subPixelFix=function(){css(container,{left:0,top:0}),rect=container.getBoundingClientRect(),css(container,{left:Math.ceil(rect.left)-rect.left+"px",top:Math.ceil(rect.top)-rect.top+"px"})},subPixelFix(),renderer.unSubPixelFix=addEvent(win,"resize",subPixelFix))},getStyle:function(style){return this.style=extend({fontFamily:'"Lucida Grande", "Lucida Sans Unicode", Arial, Helvetica, sans-serif',fontSize:"12px"},style),this.style},setStyle:function(style){this.boxWrapper.css(this.getStyle(style))},isHidden:function(){return!this.boxWrapper.getBBox().width},destroy:function(){var renderer=this,rendererDefs=renderer.defs;return renderer.box=null,renderer.boxWrapper=renderer.boxWrapper.destroy(),destroyObjectProperties(renderer.gradients||{}),renderer.gradients=null,rendererDefs&&(renderer.defs=rendererDefs.destroy()),renderer.unSubPixelFix&&renderer.unSubPixelFix(),renderer.alignedObjects=null,null},createElement:function(nodeName){var wrapper=new this.Element;return wrapper.init(this,nodeName),wrapper},draw:noop,getRadialAttr:function(radialReference,gradAttr){return{cx:radialReference[0]-radialReference[2]/2+gradAttr.cx*radialReference[2],cy:radialReference[1]-radialReference[2]/2+gradAttr.cy*radialReference[2],r:gradAttr.r*radialReference[2]}},getSpanWidth:function(wrapper){return wrapper.getBBox(!0).width},applyEllipsis:function(wrapper,tspan,text,width){var currentIndex,actualWidth,wasTooLong,renderer=this,rotation=wrapper.rotation,str=text,minIndex=0,maxIndex=text.length,updateTSpan=function(s){tspan.removeChild(tspan.firstChild),s&&tspan.appendChild(doc.createTextNode(s))};if(wrapper.rotation=0,actualWidth=renderer.getSpanWidth(wrapper,tspan),wasTooLong=actualWidth>width){for(;maxIndex>=minIndex;)currentIndex=Math.ceil((minIndex+maxIndex)/2),str=text.substring(0,currentIndex)+"…",updateTSpan(str),actualWidth=renderer.getSpanWidth(wrapper,tspan),minIndex===maxIndex?minIndex=maxIndex+1:actualWidth>width?maxIndex=currentIndex-1:minIndex=currentIndex;0===maxIndex&&updateTSpan("")}return wrapper.rotation=rotation,wasTooLong},escapes:{"&":"&amp;","<":"&lt;",">":"&gt;","'":"&#39;",'"':"&quot;"},buildText:function(wrapper){var lines,clsRegex,styleRegex,hrefRegex,wasTooLong,textCache,isSubsequentLine,textNode=wrapper.element,renderer=this,forExport=renderer.forExport,textStr=pick(wrapper.textStr,"").toString(),hasMarkup=-1!==textStr.indexOf("<"),childNodes=textNode.childNodes,parentX=attr(textNode,"x"),textStyles=wrapper.styles,width=wrapper.textWidth,textLineHeight=textStyles&&textStyles.lineHeight,textOutline=textStyles&&textStyles.textOutline,ellipsis=textStyles&&"ellipsis"===textStyles.textOverflow,noWrap=textStyles&&"nowrap"===textStyles.whiteSpace,fontSize=textStyles&&textStyles.fontSize,i=childNodes.length,tempParent=width&&!wrapper.added&&this.box,getLineHeight=function(tspan){var fontSizeStyle;return fontSizeStyle=/(px|em)$/.test(tspan&&tspan.style.fontSize)?tspan.style.fontSize:fontSize||renderer.style.fontSize||12,textLineHeight?pInt(textLineHeight):renderer.fontMetrics(fontSizeStyle,tspan.getAttribute("style")?tspan:textNode).h},unescapeEntities=function(inputStr){return objectEach(renderer.escapes,function(value,key){inputStr=inputStr.replace(new RegExp(value,"g"),key)}),inputStr};if(textCache=[textStr,ellipsis,noWrap,textLineHeight,textOutline,fontSize,width].join(","),textCache!==wrapper.textCache){for(wrapper.textCache=textCache;i--;)textNode.removeChild(childNodes[i]);hasMarkup||textOutline||ellipsis||width||-1!==textStr.indexOf(" ")?(clsRegex=/<.*class="([^"]+)".*>/,styleRegex=/<.*style="([^"]+)".*>/,hrefRegex=/<.*href="([^"]+)".*>/,tempParent&&tempParent.appendChild(textNode),lines=hasMarkup?textStr.replace(/<(b|strong)>/g,'<span style="font-weight:bold">').replace(/<(i|em)>/g,'<span style="font-style:italic">').replace(/<a/g,"<span").replace(/<\/(b|strong|i|em|a)>/g,"</span>").split(/<br.*?>/g):[textStr],lines=grep(lines,function(line){return""!==line}),each(lines,function(line,lineNo){var spans,spanNo=0;line=line.replace(/^\s+|\s+$/g,"").replace(/<span/g,"|||<span").replace(/<\/span>/g,"</span>|||"),spans=line.split("|||"),each(spans,function(span){if(""!==span||1===spans.length){var spanCls,spanStyle,attributes={},tspan=doc.createElementNS(renderer.SVG_NS,"tspan");if(clsRegex.test(span)&&(spanCls=span.match(clsRegex)[1],attr(tspan,"class",spanCls)),styleRegex.test(span)&&(spanStyle=span.match(styleRegex)[1].replace(/(;| |^)color([ :])/,"$1fill$2"),attr(tspan,"style",spanStyle)),hrefRegex.test(span)&&!forExport&&(attr(tspan,"onclick",'location.href="'+span.match(hrefRegex)[1]+'"'),attr(tspan,"class","highcharts-anchor"),css(tspan,{cursor:"pointer"})),span=unescapeEntities(span.replace(/<[a-zA-Z\/](.|\n)*?>/g,"")||" ")," "!==span){if(tspan.appendChild(doc.createTextNode(span)),spanNo?attributes.dx=0:lineNo&&null!==parentX&&(attributes.x=parentX),attr(tspan,attributes),textNode.appendChild(tspan),!spanNo&&isSubsequentLine&&(!svg&&forExport&&css(tspan,{display:"block"}),attr(tspan,"dy",getLineHeight(tspan))),width){var tooLong,actualWidth,words=span.replace(/([^\^])-/g,"$1- ").split(" "),hasWhiteSpace=spans.length>1||lineNo||words.length>1&&!noWrap,rest=[],dy=getLineHeight(tspan),rotation=wrapper.rotation;for(ellipsis&&(wasTooLong=renderer.applyEllipsis(wrapper,tspan,span,width));!ellipsis&&hasWhiteSpace&&(words.length||rest.length);)wrapper.rotation=0,actualWidth=renderer.getSpanWidth(wrapper,tspan),tooLong=actualWidth>width,void 0===wasTooLong&&(wasTooLong=tooLong),tooLong&&1!==words.length?(tspan.removeChild(tspan.firstChild),rest.unshift(words.pop())):(words=rest,rest=[],words.length&&!noWrap&&(tspan=doc.createElementNS(SVG_NS,"tspan"),attr(tspan,{dy:dy,x:parentX}),spanStyle&&attr(tspan,"style",spanStyle),textNode.appendChild(tspan)),actualWidth>width&&(width=actualWidth)),words.length&&tspan.appendChild(doc.createTextNode(words.join(" ").replace(/- /g,"-")));wrapper.rotation=rotation}spanNo++}}}),isSubsequentLine=isSubsequentLine||textNode.childNodes.length}),wasTooLong&&wrapper.attr("title",unescapeEntities(wrapper.textStr)),tempParent&&tempParent.removeChild(textNode),textOutline&&wrapper.applyTextOutline&&wrapper.applyTextOutline(textOutline)):textNode.appendChild(doc.createTextNode(unescapeEntities(textStr)))}},getContrast:function(rgba){return rgba=color(rgba).rgba,rgba[0]+rgba[1]+rgba[2]>510?"#000000":"#FFFFFF"},button:function(text,x,y,callback,normalState,hoverState,pressedState,disabledState,shape){var label=this.label(text,x,y,shape,null,null,null,null,"button"),curState=0;label.attr(merge({padding:8,r:2},normalState));var normalStyle,hoverStyle,pressedStyle,disabledStyle;return normalState=merge({fill:"#f7f7f7",stroke:"#cccccc","stroke-width":1,style:{color:"#333333",cursor:"pointer",fontWeight:"normal"}},normalState),normalStyle=normalState.style,delete normalState.style,hoverState=merge(normalState,{fill:"#e6e6e6"},hoverState),hoverStyle=hoverState.style,delete hoverState.style,pressedState=merge(normalState,{fill:"#e6ebf5",style:{color:"#000000",fontWeight:"bold"}},pressedState),pressedStyle=pressedState.style,delete pressedState.style,disabledState=merge(normalState,{style:{color:"#cccccc"}},disabledState),disabledStyle=disabledState.style,delete disabledState.style,addEvent(label.element,isMS?"mouseover":"mouseenter",function(){3!==curState&&label.setState(1)}),addEvent(label.element,isMS?"mouseout":"mouseleave",function(){3!==curState&&label.setState(curState)}),label.setState=function(state){1!==state&&(label.state=curState=state),label.removeClass(/highcharts-button-(normal|hover|pressed|disabled)/).addClass("highcharts-button-"+["normal","hover","pressed","disabled"][state||0]),label.attr([normalState,hoverState,pressedState,disabledState][state||0]).css([normalStyle,hoverStyle,pressedStyle,disabledStyle][state||0])},label.attr(normalState).css(extend({cursor:"default"},normalStyle)),label.on("click",function(e){3!==curState&&callback.call(label,e)})},crispLine:function(points,width){return points[1]===points[4]&&(points[1]=points[4]=Math.round(points[1])-width%2/2),points[2]===points[5]&&(points[2]=points[5]=Math.round(points[2])+width%2/2),points},path:function(path){var attribs={fill:"none"};
return isArray(path)?attribs.d=path:isObject(path)&&extend(attribs,path),this.createElement("path").attr(attribs)},circle:function(x,y,r){var attribs=isObject(x)?x:{x:x,y:y,r:r},wrapper=this.createElement("circle");return wrapper.xSetter=wrapper.ySetter=function(value,key,element){element.setAttribute("c"+key,value)},wrapper.attr(attribs)},arc:function(x,y,r,innerR,start,end){var arc,options;return isObject(x)?(options=x,y=options.y,r=options.r,innerR=options.innerR,start=options.start,end=options.end,x=options.x):options={innerR:innerR,start:start,end:end},arc=this.symbol("arc",x,y,r,r,options),arc.r=r,arc},rect:function(x,y,width,height,r,strokeWidth){r=isObject(x)?x.r:r;var wrapper=this.createElement("rect"),attribs=isObject(x)?x:void 0===x?{}:{x:x,y:y,width:Math.max(width,0),height:Math.max(height,0)};return void 0!==strokeWidth&&(attribs.strokeWidth=strokeWidth,attribs=wrapper.crisp(attribs)),attribs.fill="none",r&&(attribs.r=r),wrapper.rSetter=function(value,key,element){attr(element,{rx:value,ry:value})},wrapper.attr(attribs)},setSize:function(width,height,animate){var renderer=this,alignedObjects=renderer.alignedObjects,i=alignedObjects.length;for(renderer.width=width,renderer.height=height,renderer.boxWrapper.animate({width:width,height:height},{step:function(){this.attr({viewBox:"0 0 "+this.attr("width")+" "+this.attr("height")})},duration:pick(animate,!0)?void 0:0});i--;)alignedObjects[i].align()},g:function(name){var elem=this.createElement("g");return name?elem.attr({"class":"highcharts-"+name}):elem},image:function(src,x,y,width,height){var elemWrapper,attribs={preserveAspectRatio:"none"};return arguments.length>1&&extend(attribs,{x:x,y:y,width:width,height:height}),elemWrapper=this.createElement("image").attr(attribs),elemWrapper.element.setAttributeNS?elemWrapper.element.setAttributeNS("http://www.w3.org/1999/xlink","href",src):elemWrapper.element.setAttribute("hc-svg-href",src),elemWrapper},symbol:function(symbol,x,y,width,height,options){var obj,imageSrc,centerImage,ren=this,imageRegex=/^url\((.*?)\)$/,isImage=imageRegex.test(symbol),sym=!isImage&&(this.symbols[symbol]?symbol:"circle"),symbolFn=sym&&this.symbols[sym],path=defined(x)&&symbolFn&&symbolFn.call(this.symbols,Math.round(x),Math.round(y),width,height,options);return symbolFn?(obj=this.path(path),obj.attr("fill","none"),extend(obj,{symbolName:sym,x:x,y:y,width:width,height:height}),options&&extend(obj,options)):isImage&&(imageSrc=symbol.match(imageRegex)[1],obj=this.image(imageSrc),obj.imgwidth=pick(symbolSizes[imageSrc]&&symbolSizes[imageSrc].width,options&&options.width),obj.imgheight=pick(symbolSizes[imageSrc]&&symbolSizes[imageSrc].height,options&&options.height),centerImage=function(){obj.attr({width:obj.width,height:obj.height})},each(["width","height"],function(key){obj[key+"Setter"]=function(value,key){var attribs={},imgSize=this["img"+key],trans="width"===key?"translateX":"translateY";this[key]=value,defined(imgSize)&&(this.element&&this.element.setAttribute(key,imgSize),this.alignByTranslate||(attribs[trans]=((this[key]||0)-imgSize)/2,this.attr(attribs)))}}),defined(x)&&obj.attr({x:x,y:y}),obj.isImg=!0,defined(obj.imgwidth)&&defined(obj.imgheight)?centerImage():(obj.attr({width:0,height:0}),createElement("img",{onload:function(){var chart=charts[ren.chartIndex];0===this.width&&(css(this,{position:"absolute",top:"-999em"}),doc.body.appendChild(this)),symbolSizes[imageSrc]={width:this.width,height:this.height},obj.imgwidth=this.width,obj.imgheight=this.height,obj.element&&centerImage(),this.parentNode&&this.parentNode.removeChild(this),ren.imgCount--,!ren.imgCount&&chart&&chart.onload&&chart.onload()},src:imageSrc}),this.imgCount++)),obj},symbols:{circle:function(x,y,w,h){return this.arc(x+w/2,y+h/2,w/2,h/2,{start:0,end:2*Math.PI,open:!1})},square:function(x,y,w,h){return["M",x,y,"L",x+w,y,x+w,y+h,x,y+h,"Z"]},triangle:function(x,y,w,h){return["M",x+w/2,y,"L",x+w,y+h,x,y+h,"Z"]},"triangle-down":function(x,y,w,h){return["M",x,y,"L",x+w,y,x+w/2,y+h,"Z"]},diamond:function(x,y,w,h){return["M",x+w/2,y,"L",x+w,y+h/2,x+w/2,y+h,x,y+h/2,"Z"]},arc:function(x,y,w,h,options){var arc,start=options.start,rx=options.r||w,ry=options.r||h||w,proximity=.001,fullCircle=Math.abs(options.end-options.start-2*Math.PI)<proximity,end=options.end-proximity,innerRadius=options.innerR,open=pick(options.open,fullCircle),cosStart=Math.cos(start),sinStart=Math.sin(start),cosEnd=Math.cos(end),sinEnd=Math.sin(end),longArc=options.end-start-Math.PI<proximity?0:1;return arc=["M",x+rx*cosStart,y+ry*sinStart,"A",rx,ry,0,longArc,1,x+rx*cosEnd,y+ry*sinEnd],defined(innerRadius)&&arc.push(open?"M":"L",x+innerRadius*cosEnd,y+innerRadius*sinEnd,"A",innerRadius,innerRadius,0,longArc,0,x+innerRadius*cosStart,y+innerRadius*sinStart),arc.push(open?"":"Z"),arc},callout:function(x,y,w,h,options){var path,arrowLength=6,halfDistance=6,r=Math.min(options&&options.r||0,w,h),safeDistance=r+halfDistance,anchorX=options&&options.anchorX,anchorY=options&&options.anchorY;return path=["M",x+r,y,"L",x+w-r,y,"C",x+w,y,x+w,y,x+w,y+r,"L",x+w,y+h-r,"C",x+w,y+h,x+w,y+h,x+w-r,y+h,"L",x+r,y+h,"C",x,y+h,x,y+h,x,y+h-r,"L",x,y+r,"C",x,y,x,y,x+r,y],anchorX&&anchorX>w?anchorY>y+safeDistance&&y+h-safeDistance>anchorY?path.splice(13,3,"L",x+w,anchorY-halfDistance,x+w+arrowLength,anchorY,x+w,anchorY+halfDistance,x+w,y+h-r):path.splice(13,3,"L",x+w,h/2,anchorX,anchorY,x+w,h/2,x+w,y+h-r):anchorX&&0>anchorX?anchorY>y+safeDistance&&y+h-safeDistance>anchorY?path.splice(33,3,"L",x,anchorY+halfDistance,x-arrowLength,anchorY,x,anchorY-halfDistance,x,y+r):path.splice(33,3,"L",x,h/2,anchorX,anchorY,x,h/2,x,y+r):anchorY&&anchorY>h&&anchorX>x+safeDistance&&x+w-safeDistance>anchorX?path.splice(23,3,"L",anchorX+halfDistance,y+h,anchorX,y+h+arrowLength,anchorX-halfDistance,y+h,x+r,y+h):anchorY&&0>anchorY&&anchorX>x+safeDistance&&x+w-safeDistance>anchorX&&path.splice(3,3,"L",anchorX-halfDistance,y,anchorX,y-arrowLength,anchorX+halfDistance,y,w-r,y),path}},clipRect:function(x,y,width,height){var wrapper,id=H.uniqueKey(),clipPath=this.createElement("clipPath").attr({id:id}).add(this.defs);return wrapper=this.rect(x,y,width,height,0).add(clipPath),wrapper.id=id,wrapper.clipPath=clipPath,wrapper.count=0,wrapper},text:function(str,x,y,useHTML){var wrapper,renderer=this,attribs={};return!useHTML||!renderer.allowHTML&&renderer.forExport?(attribs.x=Math.round(x||0),y&&(attribs.y=Math.round(y)),(str||0===str)&&(attribs.text=str),wrapper=renderer.createElement("text").attr(attribs),useHTML||(wrapper.xSetter=function(value,key,element){var tspan,i,tspans=element.getElementsByTagName("tspan"),parentVal=element.getAttribute(key);for(i=0;i<tspans.length;i++)tspan=tspans[i],tspan.getAttribute(key)===parentVal&&tspan.setAttribute(key,value);element.setAttribute(key,value)}),wrapper):renderer.html(str,x,y)},fontMetrics:function(fontSize,elem){var lineHeight,baseline;return fontSize=fontSize||elem&&elem.style&&elem.style.fontSize||this.style&&this.style.fontSize,fontSize=/px/.test(fontSize)?pInt(fontSize):/em/.test(fontSize)?parseFloat(fontSize)*(elem?this.fontMetrics(null,elem.parentNode).f:16):12,lineHeight=24>fontSize?fontSize+3:Math.round(1.2*fontSize),baseline=Math.round(.8*lineHeight),{h:lineHeight,b:baseline,f:fontSize}},rotCorr:function(baseline,rotation,alterY){var y=baseline;return rotation&&alterY&&(y=Math.max(y*Math.cos(rotation*deg2rad),4)),{x:-baseline/3*Math.sin(rotation*deg2rad),y:y}},label:function(str,x,y,shape,anchorX,anchorY,useHTML,baseline,className){var box,bBox,width,height,wrapperX,wrapperY,textAlign,strokeWidth,baselineOffset,getCrispAdjust,updateBoxSize,updateTextPadding,boxAttr,renderer=this,wrapper=renderer.g("button"!==className&&"label"),text=wrapper.text=renderer.text("",0,0,useHTML).attr({zIndex:1}),alignFactor=0,padding=3,paddingLeft=0,deferredAttr={},hasBGImage=/^url\((.*?)\)$/.test(shape),needsBox=hasBGImage;className&&wrapper.addClass("highcharts-"+className),needsBox=hasBGImage,getCrispAdjust=function(){return(strokeWidth||0)%2/2},updateBoxSize=function(){var crispAdjust,style=text.element.style,attribs={};bBox=(void 0===width||void 0===height||textAlign)&&defined(text.textStr)&&text.getBBox(),wrapper.width=(width||bBox.width||0)+2*padding+paddingLeft,wrapper.height=(height||bBox.height||0)+2*padding,baselineOffset=padding+renderer.fontMetrics(style&&style.fontSize,text).b,needsBox&&(box||(wrapper.box=box=renderer.symbols[shape]||hasBGImage?renderer.symbol(shape):renderer.rect(),box.addClass(("button"===className?"":"highcharts-label-box")+(className?" highcharts-"+className+"-box":"")),box.add(wrapper),crispAdjust=getCrispAdjust(),attribs.x=crispAdjust,attribs.y=(baseline?-baselineOffset:0)+crispAdjust),attribs.width=Math.round(wrapper.width),attribs.height=Math.round(wrapper.height),box.attr(extend(attribs,deferredAttr)),deferredAttr={})},updateTextPadding=function(){var textY,textX=paddingLeft+padding;textY=baseline?0:baselineOffset,defined(width)&&bBox&&("center"===textAlign||"right"===textAlign)&&(textX+={center:.5,right:1}[textAlign]*(width-bBox.width)),(textX!==text.x||textY!==text.y)&&(text.attr("x",textX),void 0!==textY&&text.attr("y",textY)),text.x=textX,text.y=textY},boxAttr=function(key,value){box?box.attr(key,value):deferredAttr[key]=value},wrapper.onAdd=function(){text.add(wrapper),wrapper.attr({text:str||0===str?str:"",x:x,y:y}),box&&defined(anchorX)&&wrapper.attr({anchorX:anchorX,anchorY:anchorY})},wrapper.widthSetter=function(value){width=H.isNumber(value)?value:null},wrapper.heightSetter=function(value){height=value},wrapper["text-alignSetter"]=function(value){textAlign=value},wrapper.paddingSetter=function(value){defined(value)&&value!==padding&&(padding=wrapper.padding=value,updateTextPadding())},wrapper.paddingLeftSetter=function(value){defined(value)&&value!==paddingLeft&&(paddingLeft=value,updateTextPadding())},wrapper.alignSetter=function(value){value={left:0,center:.5,right:1}[value],value!==alignFactor&&(alignFactor=value,bBox&&wrapper.attr({x:wrapperX}))},wrapper.textSetter=function(value){void 0!==value&&text.textSetter(value),updateBoxSize(),updateTextPadding()},wrapper["stroke-widthSetter"]=function(value,key){value&&(needsBox=!0),strokeWidth=this["stroke-width"]=value,boxAttr(key,value)},wrapper.strokeSetter=wrapper.fillSetter=wrapper.rSetter=function(value,key){"r"!==key&&("fill"===key&&value&&(needsBox=!0),wrapper[key]=value),boxAttr(key,value)},wrapper.anchorXSetter=function(value,key){anchorX=wrapper.anchorX=value,boxAttr(key,Math.round(value)-getCrispAdjust()-wrapperX)},wrapper.anchorYSetter=function(value,key){anchorY=wrapper.anchorY=value,boxAttr(key,value-wrapperY)},wrapper.xSetter=function(value){wrapper.x=value,alignFactor&&(value-=alignFactor*((width||bBox.width)+2*padding)),wrapperX=Math.round(value),wrapper.attr("translateX",wrapperX)},wrapper.ySetter=function(value){wrapperY=wrapper.y=Math.round(value),wrapper.attr("translateY",wrapperY)};var baseCss=wrapper.css;return extend(wrapper,{css:function(styles){if(styles){var textStyles={};styles=merge(styles),each(wrapper.textProps,function(prop){void 0!==styles[prop]&&(textStyles[prop]=styles[prop],delete styles[prop])}),text.css(textStyles)}return baseCss.call(wrapper,styles)},getBBox:function(){return{width:bBox.width+2*padding,height:bBox.height+2*padding,x:bBox.x-padding,y:bBox.y-padding}},shadow:function(b){return b&&(updateBoxSize(),box&&box.shadow(b)),wrapper},destroy:function(){removeEvent(wrapper.element,"mouseenter"),removeEvent(wrapper.element,"mouseleave"),text&&(text=text.destroy()),box&&(box=box.destroy()),SVGElement.prototype.destroy.call(wrapper),wrapper=renderer=updateBoxSize=updateTextPadding=boxAttr=null}})}}),H.Renderer=SVGRenderer}(Highcharts),function(H){var attr=H.attr,createElement=H.createElement,css=H.css,defined=H.defined,each=H.each,extend=H.extend,isFirefox=H.isFirefox,isMS=H.isMS,isWebKit=H.isWebKit,pick=H.pick,pInt=H.pInt,SVGElement=H.SVGElement,SVGRenderer=H.SVGRenderer,win=H.win,wrap=H.wrap;extend(SVGElement.prototype,{htmlCss:function(styles){var wrapper=this,element=wrapper.element,textWidth=styles&&"SPAN"===element.tagName&&styles.width;return textWidth&&(delete styles.width,wrapper.textWidth=textWidth,wrapper.updateTransform()),styles&&"ellipsis"===styles.textOverflow&&(styles.whiteSpace="nowrap",styles.overflow="hidden"),wrapper.styles=extend(wrapper.styles,styles),css(wrapper.element,styles),wrapper},htmlGetBBox:function(){var wrapper=this,element=wrapper.element;return{x:element.offsetLeft,y:element.offsetTop,width:element.offsetWidth,height:element.offsetHeight}},htmlUpdateTransform:function(){if(!this.added)return this.alignOnAdd=!0,void 0;var wrapper=this,renderer=wrapper.renderer,elem=wrapper.element,translateX=wrapper.translateX||0,translateY=wrapper.translateY||0,x=wrapper.x||0,y=wrapper.y||0,align=wrapper.textAlign||"left",alignCorrection={left:0,center:.5,right:1}[align],styles=wrapper.styles;if(css(elem,{marginLeft:translateX,marginTop:translateY}),wrapper.shadows&&each(wrapper.shadows,function(shadow){css(shadow,{marginLeft:translateX+1,marginTop:translateY+1})}),wrapper.inverted&&each(elem.childNodes,function(child){renderer.invertChild(child,elem)}),"SPAN"===elem.tagName){var baseline,rotation=wrapper.rotation,textWidth=pInt(wrapper.textWidth),whiteSpace=styles&&styles.whiteSpace,currentTextTransform=[rotation,align,elem.innerHTML,wrapper.textWidth,wrapper.textAlign].join(",");currentTextTransform!==wrapper.cTT&&(baseline=renderer.fontMetrics(elem.style.fontSize).b,defined(rotation)&&wrapper.setSpanRotation(rotation,alignCorrection,baseline),css(elem,{width:"",whiteSpace:whiteSpace||"nowrap"}),elem.offsetWidth>textWidth&&/[ \-]/.test(elem.textContent||elem.innerText)&&css(elem,{width:textWidth+"px",display:"block",whiteSpace:whiteSpace||"normal"}),wrapper.getSpanCorrection(elem.offsetWidth,baseline,alignCorrection,rotation,align)),css(elem,{left:x+(wrapper.xCorr||0)+"px",top:y+(wrapper.yCorr||0)+"px"}),isWebKit&&(baseline=elem.offsetHeight),wrapper.cTT=currentTextTransform}},setSpanRotation:function(rotation,alignCorrection,baseline){var rotationStyle={},cssTransformKey=this.renderer.getTransformKey();rotationStyle[cssTransformKey]=rotationStyle.transform="rotate("+rotation+"deg)",rotationStyle[cssTransformKey+(isFirefox?"Origin":"-origin")]=rotationStyle.transformOrigin=100*alignCorrection+"% "+baseline+"px",css(this.element,rotationStyle)},getSpanCorrection:function(width,baseline,alignCorrection){this.xCorr=-width*alignCorrection,this.yCorr=-baseline}}),extend(SVGRenderer.prototype,{getTransformKey:function(){return isMS&&!/Edge/.test(win.navigator.userAgent)?"-ms-transform":isWebKit?"-webkit-transform":isFirefox?"MozTransform":win.opera?"-o-transform":""},html:function(str,x,y){var wrapper=this.createElement("span"),element=wrapper.element,renderer=wrapper.renderer,isSVG=renderer.isSVG,addSetters=function(element,style){each(["opacity","visibility"],function(prop){wrap(element,prop+"Setter",function(proceed,value,key,elem){proceed.call(this,value,key,elem),style[key]=value})})};return wrapper.textSetter=function(value){value!==element.innerHTML&&delete this.bBox,this.textStr=value,element.innerHTML=pick(value,""),wrapper.htmlUpdateTransform()},isSVG&&addSetters(wrapper,wrapper.element.style),wrapper.xSetter=wrapper.ySetter=wrapper.alignSetter=wrapper.rotationSetter=function(value,key){"align"===key&&(key="textAlign"),wrapper[key]=value,wrapper.htmlUpdateTransform()},wrapper.attr({text:str,x:Math.round(x),y:Math.round(y)}).css({fontFamily:this.style.fontFamily,fontSize:this.style.fontSize,position:"absolute"}),element.style.whiteSpace="nowrap",wrapper.css=wrapper.htmlCss,isSVG&&(wrapper.add=function(svgGroupWrapper){var htmlGroup,parentGroup,container=renderer.box.parentNode,parents=[];if(this.parentGroup=svgGroupWrapper,svgGroupWrapper){if(htmlGroup=svgGroupWrapper.div,!htmlGroup){for(parentGroup=svgGroupWrapper;parentGroup;)parents.push(parentGroup),parentGroup=parentGroup.parentGroup;each(parents.reverse(),function(parentGroup){function translateSetter(value,key){parentGroup[key]=value,"translateX"===key?htmlGroupStyle.left=value+"px":htmlGroupStyle.top=value+"px",parentGroup.doTransform=!0}var htmlGroupStyle,cls=attr(parentGroup.element,"class");cls&&(cls={className:cls}),htmlGroup=parentGroup.div=parentGroup.div||createElement("div",cls,{position:"absolute",left:(parentGroup.translateX||0)+"px",top:(parentGroup.translateY||0)+"px",display:parentGroup.display,opacity:parentGroup.opacity,pointerEvents:parentGroup.styles&&parentGroup.styles.pointerEvents},htmlGroup||container),htmlGroupStyle=htmlGroup.style,extend(parentGroup,{classSetter:function(htmlGroup){return function(value){this.element.setAttribute("class",value),htmlGroup.className=value}}(htmlGroup),on:function(){return parents[0].div&&wrapper.on.apply({element:parents[0].div},arguments),parentGroup},translateXSetter:translateSetter,translateYSetter:translateSetter}),addSetters(parentGroup,htmlGroupStyle)})}}else htmlGroup=container;return htmlGroup.appendChild(element),wrapper.added=!0,wrapper.alignOnAdd&&wrapper.htmlUpdateTransform(),wrapper}),wrapper}})}(Highcharts),function(Highcharts){var H=Highcharts,merge=H.merge,pick=H.pick,win=H.win;Highcharts.Time=function(chart){this.init(chart)},Highcharts.Time.prototype={init:function(chart){this.chart=chart,this.update(chart?chart.options.time:merge(H.defaultOptions.global,H.defaultOptions.time),!1)},defaultOptions:{},update:function(options){var n,useUTC=pick(options.useUTC,!0),getters=["Minutes","Hours","Day","Date","Month","FullYear"],setters=getters.concat(["Milliseconds","Seconds"]);for(this.options=merge(!0,this.options||{},options),this.Date=options.Date||win.Date,this.useUTC=useUTC,this.timezoneOffset=useUTC&&options.timezoneOffset,this.getTimezoneOffset=this.timezoneOffsetFunction(),this.variableTimezone=!(!options.getTimezoneOffset&&!options.timezone),n=0;n<getters.length;n++)this["get"+getters[n]]=(useUTC?"getUTC":"get")+getters[n];for(n=0;n<setters.length;n++)this["set"+setters[n]]=(useUTC?"setUTC":"set")+setters[n]},makeTime:function(year,month,date,hours,minutes,seconds){var d;return this.useUTC?(d=this.Date.UTC.apply(0,arguments),d+=this.getTimezoneOffset(d)):d=new this.Date(year,month,pick(date,1),pick(hours,0),pick(minutes,0),pick(seconds,0)).getTime(),d},timezoneOffsetFunction:function(){var time=this,options=this.options,moment=win.moment;if(options.timezone){if(moment)return function(timestamp){return 6e4*-moment.tz(timestamp,options.timezone).utcOffset()};H.error(25)}return this.useUTC&&options.getTimezoneOffset?function(timestamp){return 6e4*options.getTimezoneOffset(timestamp)}:function(){return 6e4*(time.timezoneOffset||0)}},dateFormat:function(format,timestamp,capitalize){if(!H.defined(timestamp)||isNaN(timestamp))return H.defaultOptions.lang.invalidDate||"";format=H.pick(format,"%Y-%m-%d %H:%M:%S");var time=this,D=this.Date,date=new D(timestamp-this.getTimezoneOffset(timestamp)),hours=date[this.getHours](),day=date[this.getDay](),dayOfMonth=date[this.getDate](),month=date[this.getMonth](),fullYear=date[this.getFullYear](),lang=H.defaultOptions.lang,langWeekdays=lang.weekdays,shortWeekdays=lang.shortWeekdays,pad=H.pad,replacements=H.extend({a:shortWeekdays?shortWeekdays[day]:langWeekdays[day].substr(0,3),A:langWeekdays[day],d:pad(dayOfMonth),e:pad(dayOfMonth,2," "),w:day,b:lang.shortMonths[month],B:lang.months[month],m:pad(month+1),y:fullYear.toString().substr(2,2),Y:fullYear,H:pad(hours),k:hours,I:pad(hours%12||12),l:hours%12||12,M:pad(date[this.getMinutes]()),p:12>hours?"AM":"PM",P:12>hours?"am":"pm",S:pad(date.getSeconds()),L:pad(Math.round(timestamp%1e3),3)},H.dateFormats);return H.objectEach(replacements,function(val,key){for(;-1!==format.indexOf("%"+key);)format=format.replace("%"+key,"function"==typeof val?val.call(time,timestamp):val)}),capitalize?format.substr(0,1).toUpperCase()+format.substr(1):format}}}(Highcharts),function(H){var color=H.color,isTouchDevice=H.isTouchDevice,merge=H.merge,svg=H.svg;H.defaultOptions={colors:"#7cb5ec #434348 #90ed7d #f7a35c #8085e9 #f15c80 #e4d354 #2b908f #f45b5b #91e8e1".split(" "),symbols:["circle","diamond","square","triangle","triangle-down"],lang:{loading:"Loading...",months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],weekdays:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],decimalPoint:".",numericSymbols:["k","M","G","T","P","E"],resetZoom:"Reset zoom",resetZoomTitle:"Reset zoom level 1:1",thousandsSep:" "},global:{},time:H.Time.prototype.defaultOptions,chart:{borderRadius:0,defaultSeriesType:"line",ignoreHiddenSeries:!0,spacing:[10,10,15,10],resetZoomButton:{theme:{zIndex:6},position:{align:"right",x:-10,y:10}},width:null,height:null,borderColor:"#335cad",backgroundColor:"#ffffff",plotBorderColor:"#cccccc"},title:{text:"Chart title",align:"center",margin:15,widthAdjust:-44},subtitle:{text:"",align:"center",widthAdjust:-44},plotOptions:{},labels:{style:{position:"absolute",color:"#333333"}},legend:{enabled:!0,align:"center",layout:"horizontal",labelFormatter:function(){return this.name},borderColor:"#999999",borderRadius:0,navigation:{activeColor:"#003399",inactiveColor:"#cccccc"},itemStyle:{color:"#333333",fontSize:"12px",fontWeight:"bold",textOverflow:"ellipsis"},itemHoverStyle:{color:"#000000"},itemHiddenStyle:{color:"#cccccc"},shadow:!1,itemCheckboxStyle:{position:"absolute",width:"13px",height:"13px"},squareSymbol:!0,symbolPadding:5,verticalAlign:"bottom",x:0,y:0,title:{style:{fontWeight:"bold"}}},loading:{labelStyle:{fontWeight:"bold",position:"relative",top:"45%"},style:{position:"absolute",backgroundColor:"#ffffff",opacity:.5,textAlign:"center"}},tooltip:{enabled:!0,animation:svg,borderRadius:3,dateTimeLabelFormats:{millisecond:"%A, %b %e, %H:%M:%S.%L",second:"%A, %b %e, %H:%M:%S",minute:"%A, %b %e, %H:%M",hour:"%A, %b %e, %H:%M",day:"%A, %b %e, %Y",week:"Week from %A, %b %e, %Y",month:"%B %Y",year:"%Y"},footerFormat:"",padding:8,snap:isTouchDevice?25:10,backgroundColor:color("#f7f7f7").setOpacity(.85).get(),borderWidth:1,headerFormat:'<span style="font-size: 10px">{point.key}</span><br/>',pointFormat:'<span style="color:{point.color}">●</span> {series.name}: <b>{point.y}</b><br/>',shadow:!0,style:{color:"#333333",cursor:"default",fontSize:"12px",pointerEvents:"none",whiteSpace:"nowrap"}},credits:{enabled:!0,href:"http://www.highcharts.com",position:{align:"right",x:-10,verticalAlign:"bottom",y:-5},style:{cursor:"pointer",color:"#999999",fontSize:"9px"},text:"Highcharts.com"}},H.setOptions=function(options){return H.defaultOptions=merge(!0,H.defaultOptions,options),H.time.init(),H.defaultOptions},H.getOptions=function(){return H.defaultOptions},H.defaultPlotOptions=H.defaultOptions.plotOptions,H.time=new H.Time,H.dateFormat=function(format,timestamp,capitalize){return H.time.dateFormat(format,timestamp,capitalize)}}(Highcharts),function(H){var correctFloat=H.correctFloat,defined=H.defined,destroyObjectProperties=H.destroyObjectProperties,isNumber=H.isNumber,merge=H.merge,pick=H.pick,deg2rad=H.deg2rad;H.Tick=function(axis,pos,type,noLabel){this.axis=axis,this.pos=pos,this.type=type||"",this.isNew=!0,this.isNewLabel=!0,type||noLabel||this.addLabel()},H.Tick.prototype={addLabel:function(){var str,dateTimeLabelFormat,tick=this,axis=tick.axis,options=axis.options,chart=axis.chart,categories=axis.categories,names=axis.names,pos=tick.pos,labelOptions=options.labels,tickPositions=axis.tickPositions,isFirst=pos===tickPositions[0],isLast=pos===tickPositions[tickPositions.length-1],value=categories?pick(categories[pos],names[pos],pos):pos,label=tick.label,tickPositionInfo=tickPositions.info;axis.isDatetimeAxis&&tickPositionInfo&&(dateTimeLabelFormat=options.dateTimeLabelFormats[tickPositionInfo.higherRanks[pos]||tickPositionInfo.unitName]),tick.isFirst=isFirst,tick.isLast=isLast,str=axis.labelFormatter.call({axis:axis,chart:chart,isFirst:isFirst,isLast:isLast,dateTimeLabelFormat:dateTimeLabelFormat,value:axis.isLog?correctFloat(axis.lin2log(value)):value,pos:pos}),defined(label)?label&&label.attr({text:str}):(tick.label=label=defined(str)&&labelOptions.enabled?chart.renderer.text(str,0,0,labelOptions.useHTML).css(merge(labelOptions.style)).add(axis.labelGroup):null,tick.labelLength=label&&label.getBBox().width,tick.rotation=0)},getLabelSize:function(){return this.label?this.label.getBBox()[this.axis.horiz?"height":"width"]:0},handleOverflow:function(xy){var leftPos,rightPos,textWidth,axis=this.axis,labelOptions=axis.options.labels,pxPos=xy.x,chartWidth=axis.chart.chartWidth,spacing=axis.chart.spacing,leftBound=pick(axis.labelLeft,Math.min(axis.pos,spacing[3])),rightBound=pick(axis.labelRight,Math.max(axis.isRadial?0:axis.pos+axis.len,chartWidth-spacing[1])),label=this.label,rotation=this.rotation,factor={left:0,center:.5,right:1}[axis.labelAlign||label.attr("align")],labelWidth=label.getBBox().width,slotWidth=axis.getSlotWidth(),modifiedSlotWidth=slotWidth,xCorrection=factor,goRight=1,css={};rotation||labelOptions.overflow===!1?0>rotation&&leftBound>pxPos-factor*labelWidth?textWidth=Math.round(pxPos/Math.cos(rotation*deg2rad)-leftBound):rotation>0&&pxPos+factor*labelWidth>rightBound&&(textWidth=Math.round((chartWidth-pxPos)/Math.cos(rotation*deg2rad))):(leftPos=pxPos-factor*labelWidth,rightPos=pxPos+(1-factor)*labelWidth,leftBound>leftPos?modifiedSlotWidth=xy.x+modifiedSlotWidth*(1-factor)-leftBound:rightPos>rightBound&&(modifiedSlotWidth=rightBound-xy.x+modifiedSlotWidth*factor,goRight=-1),modifiedSlotWidth=Math.min(slotWidth,modifiedSlotWidth),slotWidth>modifiedSlotWidth&&"center"===axis.labelAlign&&(xy.x+=goRight*(slotWidth-modifiedSlotWidth-xCorrection*(slotWidth-Math.min(labelWidth,modifiedSlotWidth)))),(labelWidth>modifiedSlotWidth||axis.autoRotation&&(label.styles||{}).width)&&(textWidth=modifiedSlotWidth)),textWidth&&(css.width=textWidth,(labelOptions.style||{}).textOverflow||(css.textOverflow="ellipsis"),label.css(css))},getPosition:function(horiz,pos,tickmarkOffset,old){var axis=this.axis,chart=axis.chart,cHeight=old&&chart.oldChartHeight||chart.chartHeight;return{x:horiz?axis.translate(pos+tickmarkOffset,null,null,old)+axis.transB:axis.left+axis.offset+(axis.opposite?(old&&chart.oldChartWidth||chart.chartWidth)-axis.right-axis.left:0),y:horiz?cHeight-axis.bottom+axis.offset-(axis.opposite?axis.height:0):cHeight-axis.translate(pos+tickmarkOffset,null,null,old)-axis.transB}},getLabelPosition:function(x,y,label,horiz,labelOptions,tickmarkOffset,index,step){var line,axis=this.axis,transA=axis.transA,reversed=axis.reversed,staggerLines=axis.staggerLines,rotCorr=axis.tickRotCorr||{x:0,y:0},yOffset=labelOptions.y,labelOffsetCorrection=horiz||axis.reserveSpaceDefault?0:-axis.labelOffset*("center"===axis.labelAlign?.5:1);return defined(yOffset)||(yOffset=0===axis.side?label.rotation?-8:-label.getBBox().height:2===axis.side?rotCorr.y+8:Math.cos(label.rotation*deg2rad)*(rotCorr.y-label.getBBox(!1,0).height/2)),x=x+labelOptions.x+labelOffsetCorrection+rotCorr.x-(tickmarkOffset&&horiz?tickmarkOffset*transA*(reversed?-1:1):0),y=y+yOffset-(tickmarkOffset&&!horiz?tickmarkOffset*transA*(reversed?1:-1):0),staggerLines&&(line=index/(step||1)%staggerLines,axis.opposite&&(line=staggerLines-line-1),y+=line*(axis.labelOffset/staggerLines)),{x:x,y:Math.round(y)}},getMarkPath:function(x,y,tickLength,tickWidth,horiz,renderer){return renderer.crispLine(["M",x,y,"L",x+(horiz?0:-tickLength),y+(horiz?tickLength:0)],tickWidth)},renderGridLine:function(old,opacity,reverseCrisp){var gridLinePath,tick=this,axis=tick.axis,options=axis.options,gridLine=tick.gridLine,attribs={},pos=tick.pos,type=tick.type,tickmarkOffset=axis.tickmarkOffset,renderer=axis.chart.renderer,gridPrefix=type?type+"Grid":"grid",gridLineWidth=options[gridPrefix+"LineWidth"],gridLineColor=options[gridPrefix+"LineColor"],dashStyle=options[gridPrefix+"LineDashStyle"];gridLine||(attribs.stroke=gridLineColor,attribs["stroke-width"]=gridLineWidth,dashStyle&&(attribs.dashstyle=dashStyle),type||(attribs.zIndex=1),old&&(attribs.opacity=0),tick.gridLine=gridLine=renderer.path().attr(attribs).addClass("highcharts-"+(type?type+"-":"")+"grid-line").add(axis.gridGroup)),!old&&gridLine&&(gridLinePath=axis.getPlotLinePath(pos+tickmarkOffset,gridLine.strokeWidth()*reverseCrisp,old,!0),gridLinePath&&gridLine[tick.isNew?"attr":"animate"]({d:gridLinePath,opacity:opacity}))},renderMark:function(xy,opacity,reverseCrisp){var tick=this,axis=tick.axis,options=axis.options,renderer=axis.chart.renderer,type=tick.type,tickPrefix=type?type+"Tick":"tick",tickSize=axis.tickSize(tickPrefix),mark=tick.mark,isNewMark=!mark,x=xy.x,y=xy.y,tickWidth=pick(options[tickPrefix+"Width"],!type&&axis.isXAxis?1:0),tickColor=options[tickPrefix+"Color"];tickSize&&(axis.opposite&&(tickSize[0]=-tickSize[0]),isNewMark&&(tick.mark=mark=renderer.path().addClass("highcharts-"+(type?type+"-":"")+"tick").add(axis.axisGroup),mark.attr({stroke:tickColor,"stroke-width":tickWidth})),mark[isNewMark?"attr":"animate"]({d:tick.getMarkPath(x,y,tickSize[0],mark.strokeWidth()*reverseCrisp,axis.horiz,renderer),opacity:opacity}))},renderLabel:function(xy,old,opacity,index){var tick=this,axis=tick.axis,horiz=axis.horiz,options=axis.options,label=tick.label,labelOptions=options.labels,step=labelOptions.step,tickmarkOffset=axis.tickmarkOffset,show=!0,x=xy.x,y=xy.y;label&&isNumber(x)&&(label.xy=xy=tick.getLabelPosition(x,y,label,horiz,labelOptions,tickmarkOffset,index,step),tick.isFirst&&!tick.isLast&&!pick(options.showFirstLabel,1)||tick.isLast&&!tick.isFirst&&!pick(options.showLastLabel,1)?show=!1:!horiz||labelOptions.step||labelOptions.rotation||old||0===opacity||tick.handleOverflow(xy),step&&index%step&&(show=!1),show&&isNumber(xy.y)?(xy.opacity=opacity,label[tick.isNewLabel?"attr":"animate"](xy),tick.isNewLabel=!1):(label.attr("y",-9999),tick.isNewLabel=!0))},render:function(index,old,opacity){var tick=this,axis=tick.axis,horiz=axis.horiz,pos=tick.pos,tickmarkOffset=axis.tickmarkOffset,xy=tick.getPosition(horiz,pos,tickmarkOffset,old),x=xy.x,y=xy.y,reverseCrisp=horiz&&x===axis.pos+axis.len||!horiz&&y===axis.pos?-1:1;opacity=pick(opacity,1),this.isActive=!0,this.renderGridLine(old,opacity,reverseCrisp),this.renderMark(xy,opacity,reverseCrisp),this.renderLabel(xy,old,opacity,index),tick.isNew=!1},destroy:function(){destroyObjectProperties(this,this.axis)}}}(Highcharts);var Axis=function(H){var addEvent=H.addEvent,animObject=H.animObject,arrayMax=H.arrayMax,arrayMin=H.arrayMin,color=H.color,correctFloat=H.correctFloat,defaultOptions=H.defaultOptions,defined=H.defined,deg2rad=H.deg2rad,destroyObjectProperties=H.destroyObjectProperties,each=H.each,extend=H.extend,fireEvent=H.fireEvent,format=H.format,getMagnitude=H.getMagnitude,grep=H.grep,inArray=H.inArray,isArray=H.isArray,isNumber=H.isNumber,isString=H.isString,merge=H.merge,normalizeTickInterval=H.normalizeTickInterval,objectEach=H.objectEach,pick=H.pick,removeEvent=H.removeEvent,splat=H.splat,syncTimeout=H.syncTimeout,Tick=H.Tick,Axis=function(){this.init.apply(this,arguments)};return H.extend(Axis.prototype,{defaultOptions:{dateTimeLabelFormats:{millisecond:"%H:%M:%S.%L",second:"%H:%M:%S",minute:"%H:%M",hour:"%H:%M",day:"%e. %b",week:"%e. %b",month:"%b '%y",year:"%Y"},endOnTick:!1,labels:{enabled:!0,style:{color:"#666666",cursor:"default",fontSize:"11px"},x:0},maxPadding:.01,minorTickLength:2,minorTickPosition:"outside",minPadding:.01,startOfWeek:1,startOnTick:!1,tickLength:10,tickmarkPlacement:"between",tickPixelInterval:100,tickPosition:"outside",title:{align:"middle",style:{color:"#666666"}},type:"linear",minorGridLineColor:"#f2f2f2",minorGridLineWidth:1,minorTickColor:"#999999",lineColor:"#ccd6eb",lineWidth:1,gridLineColor:"#e6e6e6",tickColor:"#ccd6eb"},defaultYAxisOptions:{endOnTick:!0,tickPixelInterval:72,showLastLabel:!0,labels:{x:-8},maxPadding:.05,minPadding:.05,startOnTick:!0,title:{rotation:270,text:"Values"},stackLabels:{allowOverlap:!1,enabled:!1,formatter:function(){return H.numberFormat(this.total,-1)},style:{fontSize:"11px",fontWeight:"bold",color:"#000000",textOutline:"1px contrast"}},gridLineWidth:1,lineWidth:0},defaultLeftAxisOptions:{labels:{x:-15},title:{rotation:270}},defaultRightAxisOptions:{labels:{x:15},title:{rotation:90}},defaultBottomAxisOptions:{labels:{autoRotation:[-45],x:0},title:{rotation:0}},defaultTopAxisOptions:{labels:{autoRotation:[-45],x:0},title:{rotation:0}},init:function(chart,userOptions){var isXAxis=userOptions.isX,axis=this;axis.chart=chart,axis.horiz=chart.inverted&&!axis.isZAxis?!isXAxis:isXAxis,axis.isXAxis=isXAxis,axis.coll=axis.coll||(isXAxis?"xAxis":"yAxis"),axis.opposite=userOptions.opposite,axis.side=userOptions.side||(axis.horiz?axis.opposite?0:2:axis.opposite?1:3),axis.setOptions(userOptions);
var options=this.options,type=options.type,isDatetimeAxis="datetime"===type;axis.labelFormatter=options.labels.formatter||axis.defaultLabelFormatter,axis.userOptions=userOptions,axis.minPixelPadding=0,axis.reversed=options.reversed,axis.visible=options.visible!==!1,axis.zoomEnabled=options.zoomEnabled!==!1,axis.hasNames="category"===type||options.categories===!0,axis.categories=options.categories||axis.hasNames,axis.names=axis.names||[],axis.plotLinesAndBandsGroups={},axis.isLog="logarithmic"===type,axis.isDatetimeAxis=isDatetimeAxis,axis.positiveValuesOnly=axis.isLog&&!axis.allowNegativeLog,axis.isLinked=defined(options.linkedTo),axis.ticks={},axis.labelEdge=[],axis.minorTicks={},axis.plotLinesAndBands=[],axis.alternateBands={},axis.len=0,axis.minRange=axis.userMinRange=options.minRange||options.maxZoom,axis.range=options.range,axis.offset=options.offset||0,axis.stacks={},axis.oldStacks={},axis.stacksTouched=0,axis.max=null,axis.min=null,axis.crosshair=pick(options.crosshair,splat(chart.options.tooltip.crosshairs)[isXAxis?0:1],!1);var events=axis.options.events;-1===inArray(axis,chart.axes)&&(isXAxis?chart.axes.splice(chart.xAxis.length,0,axis):chart.axes.push(axis),chart[axis.coll].push(axis)),axis.series=axis.series||[],chart.inverted&&!axis.isZAxis&&isXAxis&&void 0===axis.reversed&&(axis.reversed=!0),objectEach(events,function(event,eventType){addEvent(axis,eventType,event)}),axis.lin2log=options.linearToLogConverter||axis.lin2log,axis.isLog&&(axis.val2lin=axis.log2lin,axis.lin2val=axis.lin2log)},setOptions:function(userOptions){this.options=merge(this.defaultOptions,"yAxis"===this.coll&&this.defaultYAxisOptions,[this.defaultTopAxisOptions,this.defaultRightAxisOptions,this.defaultBottomAxisOptions,this.defaultLeftAxisOptions][this.side],merge(defaultOptions[this.coll],userOptions))},defaultLabelFormatter:function(){var multi,ret,axis=this.axis,value=this.value,time=axis.chart.time,categories=axis.categories,dateTimeLabelFormat=this.dateTimeLabelFormat,lang=defaultOptions.lang,numericSymbols=lang.numericSymbols,numSymMagnitude=lang.numericSymbolMagnitude||1e3,i=numericSymbols&&numericSymbols.length,formatOption=axis.options.labels.format,numericSymbolDetector=axis.isLog?Math.abs(value):axis.tickInterval;if(formatOption)ret=format(formatOption,this,time);else if(categories)ret=value;else if(dateTimeLabelFormat)ret=time.dateFormat(dateTimeLabelFormat,value);else if(i&&numericSymbolDetector>=1e3)for(;i--&&void 0===ret;)multi=Math.pow(numSymMagnitude,i+1),numericSymbolDetector>=multi&&10*value%multi===0&&null!==numericSymbols[i]&&0!==value&&(ret=H.numberFormat(value/multi,-1)+numericSymbols[i]);return void 0===ret&&(ret=Math.abs(value)>=1e4?H.numberFormat(value,-1):H.numberFormat(value,-1,void 0,"")),ret},getSeriesExtremes:function(){var axis=this,chart=axis.chart;axis.hasVisibleSeries=!1,axis.dataMin=axis.dataMax=axis.threshold=null,axis.softThreshold=!axis.isXAxis,axis.buildStacks&&axis.buildStacks(),each(axis.series,function(series){if(series.visible||!chart.options.chart.ignoreHiddenSeries){var xData,seriesDataMin,seriesDataMax,seriesOptions=series.options,threshold=seriesOptions.threshold;axis.hasVisibleSeries=!0,axis.positiveValuesOnly&&0>=threshold&&(threshold=null),axis.isXAxis?(xData=series.xData,xData.length&&(seriesDataMin=arrayMin(xData),seriesDataMax=arrayMax(xData),isNumber(seriesDataMin)||seriesDataMin instanceof Date||(xData=grep(xData,isNumber),seriesDataMin=arrayMin(xData),seriesDataMax=arrayMax(xData)),xData.length&&(axis.dataMin=Math.min(pick(axis.dataMin,xData[0],seriesDataMin),seriesDataMin),axis.dataMax=Math.max(pick(axis.dataMax,xData[0],seriesDataMax),seriesDataMax)))):(series.getExtremes(),seriesDataMax=series.dataMax,seriesDataMin=series.dataMin,defined(seriesDataMin)&&defined(seriesDataMax)&&(axis.dataMin=Math.min(pick(axis.dataMin,seriesDataMin),seriesDataMin),axis.dataMax=Math.max(pick(axis.dataMax,seriesDataMax),seriesDataMax)),defined(threshold)&&(axis.threshold=threshold),(!seriesOptions.softThreshold||axis.positiveValuesOnly)&&(axis.softThreshold=!1))}})},translate:function(val,backwards,cvsCoord,old,handleLog,pointPlacement){var returnValue,axis=this.linkedParent||this,sign=1,cvsOffset=0,localA=old?axis.oldTransA:axis.transA,localMin=old?axis.oldMin:axis.min,minPixelPadding=axis.minPixelPadding,doPostTranslate=(axis.isOrdinal||axis.isBroken||axis.isLog&&handleLog)&&axis.lin2val;return localA||(localA=axis.transA),cvsCoord&&(sign*=-1,cvsOffset=axis.len),axis.reversed&&(sign*=-1,cvsOffset-=sign*(axis.sector||axis.len)),backwards?(val=val*sign+cvsOffset,val-=minPixelPadding,returnValue=val/localA+localMin,doPostTranslate&&(returnValue=axis.lin2val(returnValue))):(doPostTranslate&&(val=axis.val2lin(val)),returnValue=isNumber(localMin)?sign*(val-localMin)*localA+cvsOffset+sign*minPixelPadding+(isNumber(pointPlacement)?localA*pointPlacement:0):void 0),returnValue},toPixels:function(value,paneCoordinates){return this.translate(value,!1,!this.horiz,null,!0)+(paneCoordinates?0:this.pos)},toValue:function(pixel,paneCoordinates){return this.translate(pixel-(paneCoordinates?0:this.pos),!0,!this.horiz,null,!0)},getPlotLinePath:function(value,lineWidth,old,force,translatedValue){var x1,y1,x2,y2,skip,axis=this,chart=axis.chart,axisLeft=axis.left,axisTop=axis.top,cHeight=old&&chart.oldChartHeight||chart.chartHeight,cWidth=old&&chart.oldChartWidth||chart.chartWidth,transB=axis.transB,between=function(x,a,b){return(a>x||x>b)&&(force?x=Math.min(Math.max(a,x),b):skip=!0),x};return translatedValue=pick(translatedValue,axis.translate(value,null,null,old)),x1=x2=Math.round(translatedValue+transB),y1=y2=Math.round(cHeight-translatedValue-transB),isNumber(translatedValue)?axis.horiz?(y1=axisTop,y2=cHeight-axis.bottom,x1=x2=between(x1,axisLeft,axisLeft+axis.width)):(x1=axisLeft,x2=cWidth-axis.right,y1=y2=between(y1,axisTop,axisTop+axis.height)):(skip=!0,force=!1),skip&&!force?null:chart.renderer.crispLine(["M",x1,y1,"L",x2,y2],lineWidth||1)},getLinearTickPositions:function(tickInterval,min,max){var pos,lastPos,precision,roundedMin=correctFloat(Math.floor(min/tickInterval)*tickInterval),roundedMax=correctFloat(Math.ceil(max/tickInterval)*tickInterval),tickPositions=[];if(correctFloat(roundedMin+tickInterval)===roundedMin&&(precision=20),this.single)return[min];for(pos=roundedMin;roundedMax>=pos&&(tickPositions.push(pos),pos=correctFloat(pos+tickInterval,precision),pos!==lastPos);)lastPos=pos;return tickPositions},getMinorTickInterval:function(){var options=this.options;return options.minorTicks===!0?pick(options.minorTickInterval,"auto"):options.minorTicks===!1?null:options.minorTickInterval},getMinorTickPositions:function(){var pos,axis=this,options=axis.options,tickPositions=axis.tickPositions,minorTickInterval=axis.minorTickInterval,minorTickPositions=[],pointRangePadding=axis.pointRangePadding||0,min=axis.min-pointRangePadding,max=axis.max+pointRangePadding,range=max-min;if(range&&range/minorTickInterval<axis.len/3)if(axis.isLog)each(this.paddedTicks,function(pos,i,paddedTicks){i&&minorTickPositions.push.apply(minorTickPositions,axis.getLogTickPositions(minorTickInterval,paddedTicks[i-1],paddedTicks[i],!0))});else if(axis.isDatetimeAxis&&"auto"===this.getMinorTickInterval())minorTickPositions=minorTickPositions.concat(axis.getTimeTicks(axis.normalizeTimeTickInterval(minorTickInterval),min,max,options.startOfWeek));else for(pos=min+(tickPositions[0]-min)%minorTickInterval;max>=pos&&pos!==minorTickPositions[0];pos+=minorTickInterval)minorTickPositions.push(pos);return 0!==minorTickPositions.length&&axis.trimTicks(minorTickPositions),minorTickPositions},adjustForMinRange:function(){var zoomOffset,spaceAvailable,closestDataRange,i,distance,xData,loopLength,minArgs,maxArgs,minRange,axis=this,options=axis.options,min=axis.min,max=axis.max;axis.isXAxis&&void 0===axis.minRange&&!axis.isLog&&(defined(options.min)||defined(options.max)?axis.minRange=null:(each(axis.series,function(series){for(xData=series.xData,loopLength=series.xIncrement?1:xData.length-1,i=loopLength;i>0;i--)distance=xData[i]-xData[i-1],(void 0===closestDataRange||closestDataRange>distance)&&(closestDataRange=distance)}),axis.minRange=Math.min(5*closestDataRange,axis.dataMax-axis.dataMin))),max-min<axis.minRange&&(spaceAvailable=axis.dataMax-axis.dataMin>=axis.minRange,minRange=axis.minRange,zoomOffset=(minRange-max+min)/2,minArgs=[min-zoomOffset,pick(options.min,min-zoomOffset)],spaceAvailable&&(minArgs[2]=axis.isLog?axis.log2lin(axis.dataMin):axis.dataMin),min=arrayMax(minArgs),maxArgs=[min+minRange,pick(options.max,min+minRange)],spaceAvailable&&(maxArgs[2]=axis.isLog?axis.log2lin(axis.dataMax):axis.dataMax),max=arrayMin(maxArgs),minRange>max-min&&(minArgs[0]=max-minRange,minArgs[1]=pick(options.min,max-minRange),min=arrayMax(minArgs))),axis.min=min,axis.max=max},getClosest:function(){var ret;return this.categories?ret=1:each(this.series,function(series){var seriesClosest=series.closestPointRange,visible=series.visible||!series.chart.options.chart.ignoreHiddenSeries;!series.noSharedTooltip&&defined(seriesClosest)&&visible&&(ret=defined(ret)?Math.min(ret,seriesClosest):seriesClosest)}),ret},nameToX:function(point){var x,explicitCategories=isArray(this.categories),names=explicitCategories?this.categories:this.names,nameX=point.options.x;return point.series.requireSorting=!1,defined(nameX)||(nameX=this.options.uniqueNames===!1?point.series.autoIncrement():inArray(point.name,names)),-1===nameX?explicitCategories||(x=names.length):x=nameX,void 0!==x&&(this.names[x]=point.name),x},updateNames:function(){var axis=this;this.names.length>0&&(this.names.length=0,this.minRange=this.userMinRange,each(this.series||[],function(series){series.xIncrement=null,(!series.points||series.isDirtyData)&&(series.processData(),series.generatePoints()),each(series.points,function(point,i){var x;point.options&&(x=axis.nameToX(point),void 0!==x&&x!==point.x&&(point.x=x,series.xData[i]=x))})}))},setAxisTranslation:function(saveOld){var closestPointRange,ordinalCorrection,axis=this,range=axis.max-axis.min,pointRange=axis.axisPointRange||0,minPointOffset=0,pointRangePadding=0,linkedParent=axis.linkedParent,hasCategories=!!axis.categories,transA=axis.transA,isXAxis=axis.isXAxis;(isXAxis||hasCategories||pointRange)&&(closestPointRange=axis.getClosest(),linkedParent?(minPointOffset=linkedParent.minPointOffset,pointRangePadding=linkedParent.pointRangePadding):each(axis.series,function(series){var seriesPointRange=hasCategories?1:isXAxis?pick(series.options.pointRange,closestPointRange,0):axis.axisPointRange||0,pointPlacement=series.options.pointPlacement;pointRange=Math.max(pointRange,seriesPointRange),axis.single||(minPointOffset=Math.max(minPointOffset,isString(pointPlacement)?0:seriesPointRange/2),pointRangePadding=Math.max(pointRangePadding,"on"===pointPlacement?0:seriesPointRange))}),ordinalCorrection=axis.ordinalSlope&&closestPointRange?axis.ordinalSlope/closestPointRange:1,axis.minPointOffset=minPointOffset*=ordinalCorrection,axis.pointRangePadding=pointRangePadding*=ordinalCorrection,axis.pointRange=Math.min(pointRange,range),isXAxis&&(axis.closestPointRange=closestPointRange)),saveOld&&(axis.oldTransA=transA),axis.translationSlope=axis.transA=transA=axis.options.staticScale||axis.len/(range+pointRangePadding||1),axis.transB=axis.horiz?axis.left:axis.bottom,axis.minPixelPadding=transA*minPointOffset},minFromRange:function(){return this.max-this.range},setTickInterval:function(secondPass){var length,linkedParentExtremes,minTickInterval,thresholdMin,thresholdMax,hardMin,hardMax,axis=this,chart=axis.chart,options=axis.options,isLog=axis.isLog,log2lin=axis.log2lin,isDatetimeAxis=axis.isDatetimeAxis,isXAxis=axis.isXAxis,isLinked=axis.isLinked,maxPadding=options.maxPadding,minPadding=options.minPadding,tickIntervalOption=options.tickInterval,tickPixelIntervalOption=options.tickPixelInterval,categories=axis.categories,threshold=axis.threshold,softThreshold=axis.softThreshold;isDatetimeAxis||categories||isLinked||this.getTickAmount(),hardMin=pick(axis.userMin,options.min),hardMax=pick(axis.userMax,options.max),isLinked?(axis.linkedParent=chart[axis.coll][options.linkedTo],linkedParentExtremes=axis.linkedParent.getExtremes(),axis.min=pick(linkedParentExtremes.min,linkedParentExtremes.dataMin),axis.max=pick(linkedParentExtremes.max,linkedParentExtremes.dataMax),options.type!==axis.linkedParent.options.type&&H.error(11,1)):(!softThreshold&&defined(threshold)&&(axis.dataMin>=threshold?(thresholdMin=threshold,minPadding=0):axis.dataMax<=threshold&&(thresholdMax=threshold,maxPadding=0)),axis.min=pick(hardMin,thresholdMin,axis.dataMin),axis.max=pick(hardMax,thresholdMax,axis.dataMax)),isLog&&(axis.positiveValuesOnly&&!secondPass&&Math.min(axis.min,pick(axis.dataMin,axis.min))<=0&&H.error(10,1),axis.min=correctFloat(log2lin(axis.min),15),axis.max=correctFloat(log2lin(axis.max),15)),axis.range&&defined(axis.max)&&(axis.userMin=axis.min=hardMin=Math.max(axis.dataMin,axis.minFromRange()),axis.userMax=hardMax=axis.max,axis.range=null),fireEvent(axis,"foundExtremes"),axis.beforePadding&&axis.beforePadding(),axis.adjustForMinRange(),categories||axis.axisPointRange||axis.usePercentage||isLinked||!defined(axis.min)||!defined(axis.max)||(length=axis.max-axis.min,length&&(!defined(hardMin)&&minPadding&&(axis.min-=length*minPadding),!defined(hardMax)&&maxPadding&&(axis.max+=length*maxPadding))),isNumber(options.softMin)&&!isNumber(axis.userMin)&&(axis.min=Math.min(axis.min,options.softMin)),isNumber(options.softMax)&&!isNumber(axis.userMax)&&(axis.max=Math.max(axis.max,options.softMax)),isNumber(options.floor)&&(axis.min=Math.max(axis.min,options.floor)),isNumber(options.ceiling)&&(axis.max=Math.min(axis.max,options.ceiling)),softThreshold&&defined(axis.dataMin)&&(threshold=threshold||0,!defined(hardMin)&&axis.min<threshold&&axis.dataMin>=threshold?axis.min=threshold:!defined(hardMax)&&axis.max>threshold&&axis.dataMax<=threshold&&(axis.max=threshold)),axis.tickInterval=axis.min===axis.max||void 0===axis.min||void 0===axis.max?1:isLinked&&!tickIntervalOption&&tickPixelIntervalOption===axis.linkedParent.options.tickPixelInterval?tickIntervalOption=axis.linkedParent.tickInterval:pick(tickIntervalOption,this.tickAmount?(axis.max-axis.min)/Math.max(this.tickAmount-1,1):void 0,categories?1:(axis.max-axis.min)*tickPixelIntervalOption/Math.max(axis.len,tickPixelIntervalOption)),isXAxis&&!secondPass&&each(axis.series,function(series){series.processData(axis.min!==axis.oldMin||axis.max!==axis.oldMax)}),axis.setAxisTranslation(!0),axis.beforeSetTickPositions&&axis.beforeSetTickPositions(),axis.postProcessTickInterval&&(axis.tickInterval=axis.postProcessTickInterval(axis.tickInterval)),axis.pointRange&&!tickIntervalOption&&(axis.tickInterval=Math.max(axis.pointRange,axis.tickInterval)),minTickInterval=pick(options.minTickInterval,axis.isDatetimeAxis&&axis.closestPointRange),!tickIntervalOption&&axis.tickInterval<minTickInterval&&(axis.tickInterval=minTickInterval),isDatetimeAxis||isLog||tickIntervalOption||(axis.tickInterval=normalizeTickInterval(axis.tickInterval,null,getMagnitude(axis.tickInterval),pick(options.allowDecimals,!(axis.tickInterval>.5&&axis.tickInterval<5&&axis.max>1e3&&axis.max<9999)),!!this.tickAmount)),this.tickAmount||(axis.tickInterval=axis.unsquish()),this.setTickPositions()},setTickPositions:function(){var tickPositions,options=this.options,tickPositionsOption=options.tickPositions,minorTickIntervalOption=this.getMinorTickInterval(),tickPositioner=options.tickPositioner,startOnTick=options.startOnTick,endOnTick=options.endOnTick;this.tickmarkOffset=this.categories&&"between"===options.tickmarkPlacement&&1===this.tickInterval?.5:0,this.minorTickInterval="auto"===minorTickIntervalOption&&this.tickInterval?this.tickInterval/5:minorTickIntervalOption,this.single=this.min===this.max&&defined(this.min)&&!this.tickAmount&&(parseInt(this.min,10)===this.min||options.allowDecimals!==!1),this.tickPositions=tickPositions=tickPositionsOption&&tickPositionsOption.slice(),tickPositions||(tickPositions=this.isDatetimeAxis?this.getTimeTicks(this.normalizeTimeTickInterval(this.tickInterval,options.units),this.min,this.max,options.startOfWeek,this.ordinalPositions,this.closestPointRange,!0):this.isLog?this.getLogTickPositions(this.tickInterval,this.min,this.max):this.getLinearTickPositions(this.tickInterval,this.min,this.max),tickPositions.length>this.len&&(tickPositions=[tickPositions[0],tickPositions.pop()],tickPositions[0]===tickPositions[1]&&(tickPositions.length=1)),this.tickPositions=tickPositions,tickPositioner&&(tickPositioner=tickPositioner.apply(this,[this.min,this.max]),tickPositioner&&(this.tickPositions=tickPositions=tickPositioner))),this.paddedTicks=tickPositions.slice(0),this.trimTicks(tickPositions,startOnTick,endOnTick),this.isLinked||(this.single&&tickPositions.length<2&&(this.min-=.5,this.max+=.5),tickPositionsOption||tickPositioner||this.adjustTickAmount())},trimTicks:function(tickPositions,startOnTick,endOnTick){var roundedMin=tickPositions[0],roundedMax=tickPositions[tickPositions.length-1],minPointOffset=this.minPointOffset||0;if(!this.isLinked){if(startOnTick&&roundedMin!==-1/0)this.min=roundedMin;else for(;this.min-minPointOffset>tickPositions[0];)tickPositions.shift();if(endOnTick)this.max=roundedMax;else for(;this.max+minPointOffset<tickPositions[tickPositions.length-1];)tickPositions.pop();0===tickPositions.length&&defined(roundedMin)&&!this.options.tickPositions&&tickPositions.push((roundedMax+roundedMin)/2)}},alignToOthers:function(){var hasOther,others={},options=this.options;return this.chart.options.chart.alignTicks===!1||options.alignTicks===!1||this.isLog||each(this.chart[this.coll],function(axis){var otherOptions=axis.options,horiz=axis.horiz,key=[horiz?otherOptions.left:otherOptions.top,otherOptions.width,otherOptions.height,otherOptions.pane].join(",");axis.series.length&&(others[key]?hasOther=!0:others[key]=1)}),hasOther},getTickAmount:function(){var options=this.options,tickAmount=options.tickAmount,tickPixelInterval=options.tickPixelInterval;!defined(options.tickInterval)&&this.len<tickPixelInterval&&!this.isRadial&&!this.isLog&&options.startOnTick&&options.endOnTick&&(tickAmount=2),!tickAmount&&this.alignToOthers()&&(tickAmount=Math.ceil(this.len/tickPixelInterval)+1),4>tickAmount&&(this.finalTickAmt=tickAmount,tickAmount=5),this.tickAmount=tickAmount},adjustTickAmount:function(){var i,len,tickInterval=this.tickInterval,tickPositions=this.tickPositions,tickAmount=this.tickAmount,finalTickAmt=this.finalTickAmt,currentTickAmount=tickPositions&&tickPositions.length,threshold=pick(this.threshold,this.softThreshold?0:null);if(this.hasData()){if(tickAmount>currentTickAmount){for(;tickPositions.length<tickAmount;)tickPositions.length%2||this.min===threshold?tickPositions.push(correctFloat(tickPositions[tickPositions.length-1]+tickInterval)):tickPositions.unshift(correctFloat(tickPositions[0]-tickInterval));this.transA*=(currentTickAmount-1)/(tickAmount-1),this.min=tickPositions[0],this.max=tickPositions[tickPositions.length-1]}else currentTickAmount>tickAmount&&(this.tickInterval*=2,this.setTickPositions());if(defined(finalTickAmt)){for(i=len=tickPositions.length;i--;)(3===finalTickAmt&&i%2===1||2>=finalTickAmt&&i>0&&len-1>i)&&tickPositions.splice(i,1);this.finalTickAmt=void 0}}},setScale:function(){var isDirtyData,isDirtyAxisLength,axis=this;axis.oldMin=axis.min,axis.oldMax=axis.max,axis.oldAxisLength=axis.len,axis.setAxisSize(),isDirtyAxisLength=axis.len!==axis.oldAxisLength,each(axis.series,function(series){(series.isDirtyData||series.isDirty||series.xAxis.isDirty)&&(isDirtyData=!0)}),isDirtyAxisLength||isDirtyData||axis.isLinked||axis.forceRedraw||axis.userMin!==axis.oldUserMin||axis.userMax!==axis.oldUserMax||axis.alignToOthers()?(axis.resetStacks&&axis.resetStacks(),axis.forceRedraw=!1,axis.getSeriesExtremes(),axis.setTickInterval(),axis.oldUserMin=axis.userMin,axis.oldUserMax=axis.userMax,axis.isDirty||(axis.isDirty=isDirtyAxisLength||axis.min!==axis.oldMin||axis.max!==axis.oldMax)):axis.cleanStacks&&axis.cleanStacks()},setExtremes:function(newMin,newMax,redraw,animation,eventArguments){var axis=this,chart=axis.chart;redraw=pick(redraw,!0),each(axis.series,function(serie){delete serie.kdTree}),eventArguments=extend(eventArguments,{min:newMin,max:newMax}),fireEvent(axis,"setExtremes",eventArguments,function(){axis.userMin=newMin,axis.userMax=newMax,axis.eventArgs=eventArguments,redraw&&chart.redraw(animation)})},zoom:function(newMin,newMax){var dataMin=this.dataMin,dataMax=this.dataMax,options=this.options,min=Math.min(dataMin,pick(options.min,dataMin)),max=Math.max(dataMax,pick(options.max,dataMax));return(newMin!==this.min||newMax!==this.max)&&(this.allowZoomOutside||(defined(dataMin)&&(min>newMin&&(newMin=min),newMin>max&&(newMin=max)),defined(dataMax)&&(min>newMax&&(newMax=min),newMax>max&&(newMax=max))),this.displayBtn=void 0!==newMin||void 0!==newMax,this.setExtremes(newMin,newMax,!1,void 0,{trigger:"zoom"})),!0},setAxisSize:function(){var chart=this.chart,options=this.options,offsets=options.offsets||[0,0,0,0],horiz=this.horiz,width=this.width=Math.round(H.relativeLength(pick(options.width,chart.plotWidth-offsets[3]+offsets[1]),chart.plotWidth)),height=this.height=Math.round(H.relativeLength(pick(options.height,chart.plotHeight-offsets[0]+offsets[2]),chart.plotHeight)),top=this.top=Math.round(H.relativeLength(pick(options.top,chart.plotTop+offsets[0]),chart.plotHeight,chart.plotTop)),left=this.left=Math.round(H.relativeLength(pick(options.left,chart.plotLeft+offsets[3]),chart.plotWidth,chart.plotLeft));this.bottom=chart.chartHeight-height-top,this.right=chart.chartWidth-width-left,this.len=Math.max(horiz?width:height,0),this.pos=horiz?left:top},getExtremes:function(){var axis=this,isLog=axis.isLog,lin2log=axis.lin2log;return{min:isLog?correctFloat(lin2log(axis.min)):axis.min,max:isLog?correctFloat(lin2log(axis.max)):axis.max,dataMin:axis.dataMin,dataMax:axis.dataMax,userMin:axis.userMin,userMax:axis.userMax}},getThreshold:function(threshold){var axis=this,isLog=axis.isLog,lin2log=axis.lin2log,realMin=isLog?lin2log(axis.min):axis.min,realMax=isLog?lin2log(axis.max):axis.max;return null===threshold?threshold=realMin:realMin>threshold?threshold=realMin:threshold>realMax&&(threshold=realMax),axis.translate(threshold,0,1,0,1)},autoLabelAlign:function(rotation){var ret,angle=(pick(rotation,0)-90*this.side+720)%360;return ret=angle>15&&165>angle?"right":angle>195&&345>angle?"left":"center"},tickSize:function(prefix){var options=this.options,tickLength=options[prefix+"Length"],tickWidth=pick(options[prefix+"Width"],"tick"===prefix&&this.isXAxis?1:0);return tickWidth&&tickLength?("inside"===options[prefix+"Position"]&&(tickLength=-tickLength),[tickLength,tickWidth]):void 0},labelMetrics:function(){var index=this.tickPositions&&this.tickPositions[0]||0;return this.chart.renderer.fontMetrics(this.options.labels.style&&this.options.labels.style.fontSize,this.ticks[index]&&this.ticks[index].label)},unsquish:function(){var rotation,step,autoRotation,labelOptions=this.options.labels,horiz=this.horiz,tickInterval=this.tickInterval,newTickInterval=tickInterval,slotSize=this.len/(((this.categories?1:0)+this.max-this.min)/tickInterval),rotationOption=labelOptions.rotation,labelMetrics=this.labelMetrics(),bestScore=Number.MAX_VALUE,getStep=function(spaceNeeded){var step=spaceNeeded/(slotSize||1);return step=step>1?Math.ceil(step):1,step*tickInterval};return horiz?(autoRotation=!labelOptions.staggerLines&&!labelOptions.step&&(defined(rotationOption)?[rotationOption]:slotSize<pick(labelOptions.autoRotationLimit,80)&&labelOptions.autoRotation),autoRotation&&each(autoRotation,function(rot){var score;(rot===rotationOption||rot&&rot>=-90&&90>=rot)&&(step=getStep(Math.abs(labelMetrics.h/Math.sin(deg2rad*rot))),score=step+Math.abs(rot/360),bestScore>score&&(bestScore=score,rotation=rot,newTickInterval=step))})):labelOptions.step||(newTickInterval=getStep(labelMetrics.h)),this.autoRotation=autoRotation,this.labelRotation=pick(rotation,rotationOption),newTickInterval},getSlotWidth:function(){var chart=this.chart,horiz=this.horiz,labelOptions=this.options.labels,slotCount=Math.max(this.tickPositions.length-(this.categories?0:1),1),marginLeft=chart.margin[3];return horiz&&(labelOptions.step||0)<2&&!labelOptions.rotation&&(this.staggerLines||1)*this.len/slotCount||!horiz&&(labelOptions.style&&parseInt(labelOptions.style.width,10)||marginLeft&&marginLeft-chart.spacing[3]||.33*chart.chartWidth)},renderUnsquish:function(){var css,label,i,pos,chart=this.chart,renderer=chart.renderer,tickPositions=this.tickPositions,ticks=this.ticks,labelOptions=this.options.labels,horiz=this.horiz,slotWidth=this.getSlotWidth(),innerWidth=Math.max(1,Math.round(slotWidth-2*(labelOptions.padding||5))),attr={},labelMetrics=this.labelMetrics(),textOverflowOption=labelOptions.style&&labelOptions.style.textOverflow,maxLabelLength=0;if(isString(labelOptions.rotation)||(attr.rotation=labelOptions.rotation||0),each(tickPositions,function(tick){tick=ticks[tick],tick&&tick.labelLength>maxLabelLength&&(maxLabelLength=tick.labelLength)}),this.maxLabelLength=maxLabelLength,this.autoRotation)maxLabelLength>innerWidth&&maxLabelLength>labelMetrics.h?attr.rotation=this.labelRotation:this.labelRotation=0;else if(slotWidth&&(css={width:innerWidth+"px"},!textOverflowOption))for(css.textOverflow="clip",i=tickPositions.length;!horiz&&i--;)pos=tickPositions[i],label=ticks[pos].label,label&&(label.styles&&"ellipsis"===label.styles.textOverflow?label.css({textOverflow:"clip"}):ticks[pos].labelLength>slotWidth&&label.css({width:slotWidth+"px"}),label.getBBox().height>this.len/tickPositions.length-(labelMetrics.h-labelMetrics.f)&&(label.specCss={textOverflow:"ellipsis"}));attr.rotation&&(css={width:(maxLabelLength>.5*chart.chartHeight?.33*chart.chartHeight:chart.chartHeight)+"px"},textOverflowOption||(css.textOverflow="ellipsis")),this.labelAlign=labelOptions.align||this.autoLabelAlign(this.labelRotation),this.labelAlign&&(attr.align=this.labelAlign),each(tickPositions,function(pos){var tick=ticks[pos],label=tick&&tick.label;label&&(label.attr(attr),css&&label.css(merge(css,label.specCss)),delete label.specCss,tick.rotation=attr.rotation)}),this.tickRotCorr=renderer.rotCorr(labelMetrics.b,this.labelRotation||0,0!==this.side)},hasData:function(){return this.hasVisibleSeries||defined(this.min)&&defined(this.max)&&this.tickPositions&&this.tickPositions.length>0},addTitle:function(display){var textAlign,axis=this,renderer=axis.chart.renderer,horiz=axis.horiz,opposite=axis.opposite,options=axis.options,axisTitleOptions=options.title;axis.axisTitle||(textAlign=axisTitleOptions.textAlign,textAlign||(textAlign=(horiz?{low:"left",middle:"center",high:"right"}:{low:opposite?"right":"left",middle:"center",high:opposite?"left":"right"})[axisTitleOptions.align]),axis.axisTitle=renderer.text(axisTitleOptions.text,0,0,axisTitleOptions.useHTML).attr({zIndex:7,rotation:axisTitleOptions.rotation||0,align:textAlign}).addClass("highcharts-axis-title").css(axisTitleOptions.style).add(axis.axisGroup),axis.axisTitle.isNew=!0),axisTitleOptions.style.width||axis.isRadial||axis.axisTitle.css({width:axis.len}),axis.axisTitle[display?"show":"hide"](!0)},generateTick:function(pos){var ticks=this.ticks;ticks[pos]?ticks[pos].addLabel():ticks[pos]=new Tick(this,pos)},getOffset:function(){var hasData,showAxis,titleOffsetOption,labelOffsetPadded,clip,lineHeightCorrection,axis=this,chart=axis.chart,renderer=chart.renderer,options=axis.options,tickPositions=axis.tickPositions,ticks=axis.ticks,horiz=axis.horiz,side=axis.side,invertedSide=chart.inverted&&!axis.isZAxis?[1,0,3,2][side]:side,titleOffset=0,titleMargin=0,axisTitleOptions=options.title,labelOptions=options.labels,labelOffset=0,axisOffset=chart.axisOffset,clipOffset=chart.clipOffset,directionFactor=[-1,1,1,-1][side],className=options.className,axisParent=axis.axisParent,tickSize=this.tickSize("tick");hasData=axis.hasData(),axis.showAxis=showAxis=hasData||pick(options.showEmpty,!0),axis.staggerLines=axis.horiz&&labelOptions.staggerLines,axis.axisGroup||(axis.gridGroup=renderer.g("grid").attr({zIndex:options.gridZIndex||1}).addClass("highcharts-"+this.coll.toLowerCase()+"-grid "+(className||"")).add(axisParent),axis.axisGroup=renderer.g("axis").attr({zIndex:options.zIndex||2}).addClass("highcharts-"+this.coll.toLowerCase()+" "+(className||"")).add(axisParent),axis.labelGroup=renderer.g("axis-labels").attr({zIndex:labelOptions.zIndex||7}).addClass("highcharts-"+axis.coll.toLowerCase()+"-labels "+(className||"")).add(axisParent)),hasData||axis.isLinked?(each(tickPositions,function(pos,i){axis.generateTick(pos,i)}),axis.renderUnsquish(),axis.reserveSpaceDefault=0===side||2===side||{1:"left",3:"right"}[side]===axis.labelAlign,pick(labelOptions.reserveSpace,"center"===axis.labelAlign?!0:null,axis.reserveSpaceDefault)&&each(tickPositions,function(pos){labelOffset=Math.max(ticks[pos].getLabelSize(),labelOffset)}),axis.staggerLines&&(labelOffset*=axis.staggerLines),axis.labelOffset=labelOffset*(axis.opposite?-1:1)):objectEach(ticks,function(tick,n){tick.destroy(),delete ticks[n]}),axisTitleOptions&&axisTitleOptions.text&&axisTitleOptions.enabled!==!1&&(axis.addTitle(showAxis),showAxis&&axisTitleOptions.reserveSpace!==!1&&(axis.titleOffset=titleOffset=axis.axisTitle.getBBox()[horiz?"height":"width"],titleOffsetOption=axisTitleOptions.offset,titleMargin=defined(titleOffsetOption)?0:pick(axisTitleOptions.margin,horiz?5:10))),axis.renderLine(),axis.offset=directionFactor*pick(options.offset,axisOffset[side]),axis.tickRotCorr=axis.tickRotCorr||{x:0,y:0},lineHeightCorrection=0===side?-axis.labelMetrics().h:2===side?axis.tickRotCorr.y:0,labelOffsetPadded=Math.abs(labelOffset)+titleMargin,labelOffset&&(labelOffsetPadded-=lineHeightCorrection,labelOffsetPadded+=directionFactor*(horiz?pick(labelOptions.y,axis.tickRotCorr.y+8*directionFactor):labelOptions.x)),axis.axisTitleMargin=pick(titleOffsetOption,labelOffsetPadded),axisOffset[side]=Math.max(axisOffset[side],axis.axisTitleMargin+titleOffset+directionFactor*axis.offset,labelOffsetPadded,hasData&&tickPositions.length&&tickSize?tickSize[0]+directionFactor*axis.offset:0),clip=options.offset?0:2*Math.floor(axis.axisLine.strokeWidth()/2),clipOffset[invertedSide]=Math.max(clipOffset[invertedSide],clip)},getLinePath:function(lineWidth){var chart=this.chart,opposite=this.opposite,offset=this.offset,horiz=this.horiz,lineLeft=this.left+(opposite?this.width:0)+offset,lineTop=chart.chartHeight-this.bottom-(opposite?this.height:0)+offset;return opposite&&(lineWidth*=-1),chart.renderer.crispLine(["M",horiz?this.left:lineLeft,horiz?lineTop:this.top,"L",horiz?chart.chartWidth-this.right:lineLeft,horiz?lineTop:chart.chartHeight-this.bottom],lineWidth)},renderLine:function(){this.axisLine||(this.axisLine=this.chart.renderer.path().addClass("highcharts-axis-line").add(this.axisGroup),this.axisLine.attr({stroke:this.options.lineColor,"stroke-width":this.options.lineWidth,zIndex:7}))},getTitlePosition:function(){var horiz=this.horiz,axisLeft=this.left,axisTop=this.top,axisLength=this.len,axisTitleOptions=this.options.title,margin=horiz?axisLeft:axisTop,opposite=this.opposite,offset=this.offset,xOption=axisTitleOptions.x||0,yOption=axisTitleOptions.y||0,axisTitle=this.axisTitle,fontMetrics=this.chart.renderer.fontMetrics(axisTitleOptions.style&&axisTitleOptions.style.fontSize,axisTitle),textHeightOvershoot=Math.max(axisTitle.getBBox(null,0).height-fontMetrics.h-1,0),alongAxis={low:margin+(horiz?0:axisLength),middle:margin+axisLength/2,high:margin+(horiz?axisLength:0)}[axisTitleOptions.align],offAxis=(horiz?axisTop+this.height:axisLeft)+(horiz?1:-1)*(opposite?-1:1)*this.axisTitleMargin+[-textHeightOvershoot,textHeightOvershoot,fontMetrics.f,-textHeightOvershoot][this.side];return{x:horiz?alongAxis+xOption:offAxis+(opposite?this.width:0)+offset+xOption,y:horiz?offAxis+yOption-(opposite?this.height:0)+offset:alongAxis+yOption}},renderMinorTick:function(pos){var slideInTicks=this.chart.hasRendered&&isNumber(this.oldMin),minorTicks=this.minorTicks;minorTicks[pos]||(minorTicks[pos]=new Tick(this,pos,"minor")),slideInTicks&&minorTicks[pos].isNew&&minorTicks[pos].render(null,!0),minorTicks[pos].render(null,!1,1)},renderTick:function(pos,i){var isLinked=this.isLinked,ticks=this.ticks,slideInTicks=this.chart.hasRendered&&isNumber(this.oldMin);(!isLinked||pos>=this.min&&pos<=this.max)&&(ticks[pos]||(ticks[pos]=new Tick(this,pos)),slideInTicks&&ticks[pos].isNew&&ticks[pos].render(i,!0,.1),ticks[pos].render(i))},render:function(){var from,to,axis=this,chart=axis.chart,renderer=chart.renderer,options=axis.options,isLog=axis.isLog,lin2log=axis.lin2log,isLinked=axis.isLinked,tickPositions=axis.tickPositions,axisTitle=axis.axisTitle,ticks=axis.ticks,minorTicks=axis.minorTicks,alternateBands=axis.alternateBands,stackLabelOptions=options.stackLabels,alternateGridColor=options.alternateGridColor,tickmarkOffset=axis.tickmarkOffset,axisLine=axis.axisLine,showAxis=axis.showAxis,animation=animObject(renderer.globalAnimation);
if(axis.labelEdge.length=0,axis.overlap=!1,each([ticks,minorTicks,alternateBands],function(coll){objectEach(coll,function(tick){tick.isActive=!1})}),(axis.hasData()||isLinked)&&(axis.minorTickInterval&&!axis.categories&&each(axis.getMinorTickPositions(),function(pos){axis.renderMinorTick(pos)}),tickPositions.length&&(each(tickPositions,function(pos,i){axis.renderTick(pos,i)}),tickmarkOffset&&(0===axis.min||axis.single)&&(ticks[-1]||(ticks[-1]=new Tick(axis,-1,null,!0)),ticks[-1].render(-1))),alternateGridColor&&each(tickPositions,function(pos,i){to=void 0!==tickPositions[i+1]?tickPositions[i+1]+tickmarkOffset:axis.max-tickmarkOffset,i%2===0&&pos<axis.max&&to<=axis.max+(chart.polar?-tickmarkOffset:tickmarkOffset)&&(alternateBands[pos]||(alternateBands[pos]=new H.PlotLineOrBand(axis)),from=pos+tickmarkOffset,alternateBands[pos].options={from:isLog?lin2log(from):from,to:isLog?lin2log(to):to,color:alternateGridColor},alternateBands[pos].render(),alternateBands[pos].isActive=!0)}),axis._addedPlotLB||(each((options.plotLines||[]).concat(options.plotBands||[]),function(plotLineOptions){axis.addPlotBandOrLine(plotLineOptions)}),axis._addedPlotLB=!0)),each([ticks,minorTicks,alternateBands],function(coll){var i,forDestruction=[],delay=animation.duration,destroyInactiveItems=function(){for(i=forDestruction.length;i--;)coll[forDestruction[i]]&&!coll[forDestruction[i]].isActive&&(coll[forDestruction[i]].destroy(),delete coll[forDestruction[i]])};objectEach(coll,function(tick,pos){tick.isActive||(tick.render(pos,!1,0),tick.isActive=!1,forDestruction.push(pos))}),syncTimeout(destroyInactiveItems,coll!==alternateBands&&chart.hasRendered&&delay?delay:0)}),axisLine&&(axisLine[axisLine.isPlaced?"animate":"attr"]({d:this.getLinePath(axisLine.strokeWidth())}),axisLine.isPlaced=!0,axisLine[showAxis?"show":"hide"](!0)),axisTitle&&showAxis){var titleXy=axis.getTitlePosition();isNumber(titleXy.y)?(axisTitle[axisTitle.isNew?"attr":"animate"](titleXy),axisTitle.isNew=!1):(axisTitle.attr("y",-9999),axisTitle.isNew=!0)}stackLabelOptions&&stackLabelOptions.enabled&&axis.renderStackTotals(),axis.isDirty=!1},redraw:function(){this.visible&&(this.render(),each(this.plotLinesAndBands,function(plotLine){plotLine.render()})),each(this.series,function(series){series.isDirty=!0})},keepProps:["extKey","hcEvents","names","series","userMax","userMin"],destroy:function(keepEvents){var plotGroup,i,axis=this,stacks=axis.stacks,plotLinesAndBands=axis.plotLinesAndBands;if(keepEvents||removeEvent(axis),objectEach(stacks,function(stack,stackKey){destroyObjectProperties(stack),stacks[stackKey]=null}),each([axis.ticks,axis.minorTicks,axis.alternateBands],function(coll){destroyObjectProperties(coll)}),plotLinesAndBands)for(i=plotLinesAndBands.length;i--;)plotLinesAndBands[i].destroy();each(["stackTotalGroup","axisLine","axisTitle","axisGroup","gridGroup","labelGroup","cross"],function(prop){axis[prop]&&(axis[prop]=axis[prop].destroy())});for(plotGroup in axis.plotLinesAndBandsGroups)axis.plotLinesAndBandsGroups[plotGroup]=axis.plotLinesAndBandsGroups[plotGroup].destroy();objectEach(axis,function(val,key){-1===inArray(key,axis.keepProps)&&delete axis[key]})},drawCrosshair:function(e,point){var path,pos,categorized,options=this.crosshair,snap=pick(options.snap,!0),graphic=this.cross;if(e||(e=this.cross&&this.cross.e),this.crosshair&&(defined(point)||!snap)!==!1){if(snap?defined(point)&&(pos=this.isXAxis?point.plotX:this.len-point.plotY):pos=e&&(this.horiz?e.chartX-this.pos:this.len-e.chartY+this.pos),defined(pos)&&(path=this.getPlotLinePath(point&&(this.isXAxis?point.x:pick(point.stackY,point.y)),null,null,null,pos)||null),!defined(path))return this.hideCrosshair(),void 0;categorized=this.categories&&!this.isRadial,graphic||(this.cross=graphic=this.chart.renderer.path().addClass("highcharts-crosshair highcharts-crosshair-"+(categorized?"category ":"thin ")+options.className).attr({zIndex:pick(options.zIndex,2)}).add(),graphic.attr({stroke:options.color||(categorized?color("#ccd6eb").setOpacity(.25).get():"#cccccc"),"stroke-width":pick(options.width,1)}).css({"pointer-events":"none"}),options.dashStyle&&graphic.attr({dashstyle:options.dashStyle})),graphic.show().attr({d:path}),categorized&&!options.width&&graphic.attr({"stroke-width":this.transA}),this.cross.e=e}else this.hideCrosshair()},hideCrosshair:function(){this.cross&&this.cross.hide()}}),H.Axis=Axis,Axis}(Highcharts);!function(H){var Axis=H.Axis,defined=H.defined,each=H.each,extend=H.extend,getMagnitude=H.getMagnitude,normalizeTickInterval=H.normalizeTickInterval,pick=H.pick,timeUnits=H.timeUnits;Axis.prototype.getTimeTicks=function(normalizedInterval,min,max,startOfWeek){var i,minYear,baseOffset,variableDayLength,time=this.chart.time,Date=time.Date,tickPositions=[],higherRanks={},minDate=new Date(min-Math.max(time.getTimezoneOffset(min),time.getTimezoneOffset(max))),interval=normalizedInterval.unitRange,count=normalizedInterval.count;if(defined(min)){minDate[time.setMilliseconds](interval>=timeUnits.second?0:count*Math.floor(minDate.getMilliseconds()/count)),interval>=timeUnits.second&&minDate[time.setSeconds](interval>=timeUnits.minute?0:count*Math.floor(minDate.getSeconds()/count)),interval>=timeUnits.minute&&minDate[time.setMinutes](interval>=timeUnits.hour?0:count*Math.floor(minDate[time.getMinutes]()/count)),interval>=timeUnits.hour&&minDate[time.setHours](interval>=timeUnits.day?0:count*Math.floor(minDate[time.getHours]()/count)),interval>=timeUnits.day&&minDate[time.setDate](interval>=timeUnits.month?1:count*Math.floor(minDate[time.getDate]()/count)),interval>=timeUnits.month&&(minDate[time.setMonth](interval>=timeUnits.year?0:count*Math.floor(minDate[time.getMonth]()/count)),minYear=minDate[time.getFullYear]()),interval>=timeUnits.year&&(minYear-=minYear%count,minDate[time.setFullYear](minYear)),interval===timeUnits.week&&minDate[time.setDate](minDate[time.getDate]()-minDate[time.getDay]()+pick(startOfWeek,1)),minYear=minDate[time.getFullYear]();var minMonth=minDate[time.getMonth](),minDateDate=minDate[time.getDate](),minHours=minDate[time.getHours]();min=minDate.getTime(),time.variableTimezone&&(variableDayLength=max-min>4*timeUnits.month||time.getTimezoneOffset(min)!==time.getTimezoneOffset(max)),baseOffset=time.getTimezoneOffset(minDate),baseOffset&&(minDate=new Date(min+baseOffset));var t=minDate.getTime();for(i=1;max>t;)tickPositions.push(t),interval===timeUnits.year?t=time.makeTime(minYear+i*count,0):interval===timeUnits.month?t=time.makeTime(minYear,minMonth+i*count):!variableDayLength||interval!==timeUnits.day&&interval!==timeUnits.week?variableDayLength&&interval===timeUnits.hour?t=time.makeTime(minYear,minMonth,minDateDate,minHours+i*count,0,0,baseOffset)-baseOffset:t+=interval*count:t=time.makeTime(minYear,minMonth,minDateDate+i*count*(interval===timeUnits.day?1:7)),i++;tickPositions.push(t),interval<=timeUnits.hour&&tickPositions.length<1e4&&each(tickPositions,function(t){t%18e5===0&&"000000000"===time.dateFormat("%H%M%S%L",t)&&(higherRanks[t]="day")})}return tickPositions.info=extend(normalizedInterval,{higherRanks:higherRanks,totalRange:interval*count}),tickPositions},Axis.prototype.normalizeTimeTickInterval=function(tickInterval,unitsOption){var count,i,units=unitsOption||[["millisecond",[1,2,5,10,20,25,50,100,200,500]],["second",[1,2,5,10,15,30]],["minute",[1,2,5,10,15,30]],["hour",[1,2,3,4,6,8,12]],["day",[1,2]],["week",[1,2]],["month",[1,2,3,4,6]],["year",null]],unit=units[units.length-1],interval=timeUnits[unit[0]],multiples=unit[1];for(i=0;i<units.length;i++)if(unit=units[i],interval=timeUnits[unit[0]],multiples=unit[1],units[i+1]){var lessThan=(interval*multiples[multiples.length-1]+timeUnits[units[i+1][0]])/2;if(lessThan>=tickInterval)break}return interval===timeUnits.year&&5*interval>tickInterval&&(multiples=[1,2,5]),count=normalizeTickInterval(tickInterval/interval,multiples,"year"===unit[0]?Math.max(getMagnitude(tickInterval/interval),1):1),{unitRange:interval,count:count,unitName:unit[0]}}}(Highcharts),function(H){var Axis=H.Axis,getMagnitude=H.getMagnitude,map=H.map,normalizeTickInterval=H.normalizeTickInterval,pick=H.pick;Axis.prototype.getLogTickPositions=function(interval,min,max,minor){var axis=this,options=axis.options,axisLength=axis.len,lin2log=axis.lin2log,log2lin=axis.log2lin,positions=[];if(minor||(axis._minorAutoInterval=null),interval>=.5)interval=Math.round(interval),positions=axis.getLinearTickPositions(interval,min,max);else if(interval>=.08){var intermediate,i,j,len,pos,lastPos,break2,roundedMin=Math.floor(min);for(intermediate=interval>.3?[1,2,4]:interval>.15?[1,2,4,6,8]:[1,2,3,4,5,6,7,8,9],i=roundedMin;max+1>i&&!break2;i++)for(len=intermediate.length,j=0;len>j&&!break2;j++)pos=log2lin(lin2log(i)*intermediate[j]),pos>min&&(!minor||max>=lastPos)&&void 0!==lastPos&&positions.push(lastPos),lastPos>max&&(break2=!0),lastPos=pos}else{var realMin=lin2log(min),realMax=lin2log(max),tickIntervalOption=minor?this.getMinorTickInterval():options.tickInterval,filteredTickIntervalOption="auto"===tickIntervalOption?null:tickIntervalOption,tickPixelIntervalOption=options.tickPixelInterval/(minor?5:1),totalPixelLength=minor?axisLength/axis.tickPositions.length:axisLength;interval=pick(filteredTickIntervalOption,axis._minorAutoInterval,(realMax-realMin)*tickPixelIntervalOption/(totalPixelLength||1)),interval=normalizeTickInterval(interval,null,getMagnitude(interval)),positions=map(axis.getLinearTickPositions(interval,realMin,realMax),log2lin),minor||(axis._minorAutoInterval=interval/5)}return minor||(axis.tickInterval=interval),positions},Axis.prototype.log2lin=function(num){return Math.log(num)/Math.LN10},Axis.prototype.lin2log=function(num){return Math.pow(10,num)}}(Highcharts),function(H,Axis){var arrayMax=H.arrayMax,arrayMin=H.arrayMin,defined=H.defined,destroyObjectProperties=H.destroyObjectProperties,each=H.each,erase=H.erase,merge=H.merge,pick=H.pick;H.PlotLineOrBand=function(axis,options){this.axis=axis,options&&(this.options=options,this.id=options.id)},H.PlotLineOrBand.prototype={render:function(){var group,plotLine=this,axis=plotLine.axis,horiz=axis.horiz,options=plotLine.options,optionsLabel=options.label,label=plotLine.label,to=options.to,from=options.from,value=options.value,isBand=defined(from)&&defined(to),isLine=defined(value),svgElem=plotLine.svgElem,isNew=!svgElem,path=[],color=options.color,zIndex=pick(options.zIndex,0),events=options.events,attribs={"class":"highcharts-plot-"+(isBand?"band ":"line ")+(options.className||"")},groupAttribs={},renderer=axis.chart.renderer,groupName=isBand?"bands":"lines",log2lin=axis.log2lin;if(axis.isLog&&(from=log2lin(from),to=log2lin(to),value=log2lin(value)),isLine?(attribs={stroke:color,"stroke-width":options.width},options.dashStyle&&(attribs.dashstyle=options.dashStyle)):isBand&&(color&&(attribs.fill=color),options.borderWidth&&(attribs.stroke=options.borderColor,attribs["stroke-width"]=options.borderWidth)),groupAttribs.zIndex=zIndex,groupName+="-"+zIndex,group=axis.plotLinesAndBandsGroups[groupName],group||(axis.plotLinesAndBandsGroups[groupName]=group=renderer.g("plot-"+groupName).attr(groupAttribs).add()),isNew&&(plotLine.svgElem=svgElem=renderer.path().attr(attribs).add(group)),isLine)path=axis.getPlotLinePath(value,svgElem.strokeWidth());else{if(!isBand)return;path=axis.getPlotBandPath(from,to,options)}return isNew&&path&&path.length?(svgElem.attr({d:path}),events&&H.objectEach(events,function(event,eventType){svgElem.on(eventType,function(e){events[eventType].apply(plotLine,[e])})})):svgElem&&(path?(svgElem.show(),svgElem.animate({d:path})):(svgElem.hide(),label&&(plotLine.label=label=label.destroy()))),optionsLabel&&defined(optionsLabel.text)&&path&&path.length&&axis.width>0&&axis.height>0&&!path.flat?(optionsLabel=merge({align:horiz&&isBand&&"center",x:horiz?!isBand&&4:10,verticalAlign:!horiz&&isBand&&"middle",y:horiz?isBand?16:10:isBand?6:-4,rotation:horiz&&!isBand&&90},optionsLabel),this.renderLabel(optionsLabel,path,isBand,zIndex)):label&&label.hide(),plotLine},renderLabel:function(optionsLabel,path,isBand,zIndex){var attribs,xBounds,yBounds,x,y,plotLine=this,label=plotLine.label,renderer=plotLine.axis.chart.renderer;label||(attribs={align:optionsLabel.textAlign||optionsLabel.align,rotation:optionsLabel.rotation,"class":"highcharts-plot-"+(isBand?"band":"line")+"-label "+(optionsLabel.className||"")},attribs.zIndex=zIndex,plotLine.label=label=renderer.text(optionsLabel.text,0,0,optionsLabel.useHTML).attr(attribs).add(),label.css(optionsLabel.style)),xBounds=path.xBounds||[path[1],path[4],isBand?path[6]:path[1]],yBounds=path.yBounds||[path[2],path[5],isBand?path[7]:path[2]],x=arrayMin(xBounds),y=arrayMin(yBounds),label.align(optionsLabel,!1,{x:x,y:y,width:arrayMax(xBounds)-x,height:arrayMax(yBounds)-y}),label.show()},destroy:function(){erase(this.axis.plotLinesAndBands,this),delete this.axis,destroyObjectProperties(this)}},H.extend(Axis.prototype,{getPlotBandPath:function(from,to){var i,flat,toPath=this.getPlotLinePath(to,null,null,!0),path=this.getPlotLinePath(from,null,null,!0),result=[],horiz=this.horiz,plus=1,outside=from<this.min&&to<this.min||from>this.max&&to>this.max;if(path&&toPath)for(outside&&(flat=path.toString()===toPath.toString(),plus=0),i=0;i<path.length;i+=6)horiz&&toPath[i+1]===path[i+1]?(toPath[i+1]+=plus,toPath[i+4]+=plus):horiz||toPath[i+2]!==path[i+2]||(toPath[i+2]+=plus,toPath[i+5]+=plus),result.push("M",path[i+1],path[i+2],"L",path[i+4],path[i+5],toPath[i+4],toPath[i+5],toPath[i+1],toPath[i+2],"z"),result.flat=flat;else path=null;return result},addPlotBand:function(options){return this.addPlotBandOrLine(options,"plotBands")},addPlotLine:function(options){return this.addPlotBandOrLine(options,"plotLines")},addPlotBandOrLine:function(options,coll){var obj=new H.PlotLineOrBand(this,options).render(),userOptions=this.userOptions;return obj&&(coll&&(userOptions[coll]=userOptions[coll]||[],userOptions[coll].push(options)),this.plotLinesAndBands.push(obj)),obj},removePlotBandOrLine:function(id){for(var plotLinesAndBands=this.plotLinesAndBands,options=this.options,userOptions=this.userOptions,i=plotLinesAndBands.length;i--;)plotLinesAndBands[i].id===id&&plotLinesAndBands[i].destroy();each([options.plotLines||[],userOptions.plotLines||[],options.plotBands||[],userOptions.plotBands||[]],function(arr){for(i=arr.length;i--;)arr[i].id===id&&erase(arr,arr[i])})},removePlotBand:function(id){this.removePlotBandOrLine(id)},removePlotLine:function(id){this.removePlotBandOrLine(id)}})}(Highcharts,Axis),function(H){var each=H.each,extend=H.extend,format=H.format,isNumber=H.isNumber,map=H.map,merge=H.merge,pick=H.pick,splat=H.splat,syncTimeout=H.syncTimeout,timeUnits=H.timeUnits;H.Tooltip=function(){this.init.apply(this,arguments)},H.Tooltip.prototype={init:function(chart,options){this.chart=chart,this.options=options,this.crosshairs=[],this.now={x:0,y:0},this.isHidden=!0,this.split=options.split&&!chart.inverted,this.shared=options.shared||this.split},cleanSplit:function(force){each(this.chart.series,function(series){var tt=series&&series.tt;tt&&(!tt.isActive||force?series.tt=tt.destroy():tt.isActive=!1)})},getLabel:function(){var renderer=this.chart.renderer,options=this.options;return this.label||(this.split?this.label=renderer.g("tooltip"):(this.label=renderer.label("",0,0,options.shape||"callout",null,null,options.useHTML,null,"tooltip").attr({padding:options.padding,r:options.borderRadius}),this.label.attr({fill:options.backgroundColor,"stroke-width":options.borderWidth}).css(options.style).shadow(options.shadow)),this.label.attr({zIndex:8}).add()),this.label},update:function(options){this.destroy(),merge(!0,this.chart.options.tooltip.userOptions,options),this.init(this.chart,merge(!0,this.options,options))},destroy:function(){this.label&&(this.label=this.label.destroy()),this.split&&this.tt&&(this.cleanSplit(this.chart,!0),this.tt=this.tt.destroy()),clearTimeout(this.hideTimer),clearTimeout(this.tooltipTimeout)},move:function(x,y,anchorX,anchorY){var tooltip=this,now=tooltip.now,animate=tooltip.options.animation!==!1&&!tooltip.isHidden&&(Math.abs(x-now.x)>1||Math.abs(y-now.y)>1),skipAnchor=tooltip.followPointer||tooltip.len>1;extend(now,{x:animate?(2*now.x+x)/3:x,y:animate?(now.y+y)/2:y,anchorX:skipAnchor?void 0:animate?(2*now.anchorX+anchorX)/3:anchorX,anchorY:skipAnchor?void 0:animate?(now.anchorY+anchorY)/2:anchorY}),tooltip.getLabel().attr(now),animate&&(clearTimeout(this.tooltipTimeout),this.tooltipTimeout=setTimeout(function(){tooltip&&tooltip.move(x,y,anchorX,anchorY)},32))},hide:function(delay){var tooltip=this;clearTimeout(this.hideTimer),delay=pick(delay,this.options.hideDelay,500),this.isHidden||(this.hideTimer=syncTimeout(function(){tooltip.getLabel()[delay?"fadeOut":"hide"](),tooltip.isHidden=!0},delay))},getAnchor:function(points,mouseEvent){var ret,yAxis,xAxis,chart=this.chart,inverted=chart.inverted,plotTop=chart.plotTop,plotLeft=chart.plotLeft,plotX=0,plotY=0;return points=splat(points),ret=points[0].tooltipPos,this.followPointer&&mouseEvent&&(void 0===mouseEvent.chartX&&(mouseEvent=chart.pointer.normalize(mouseEvent)),ret=[mouseEvent.chartX-chart.plotLeft,mouseEvent.chartY-plotTop]),ret||(each(points,function(point){yAxis=point.series.yAxis,xAxis=point.series.xAxis,plotX+=point.plotX+(!inverted&&xAxis?xAxis.left-plotLeft:0),plotY+=(point.plotLow?(point.plotLow+point.plotHigh)/2:point.plotY)+(!inverted&&yAxis?yAxis.top-plotTop:0)}),plotX/=points.length,plotY/=points.length,ret=[inverted?chart.plotWidth-plotY:plotX,this.shared&&!inverted&&points.length>1&&mouseEvent?mouseEvent.chartY-plotTop:inverted?chart.plotHeight-plotX:plotY]),map(ret,Math.round)},getPosition:function(boxWidth,boxHeight,point){var swapped,chart=this.chart,distance=this.distance,ret={},h=chart.inverted&&point.h||0,first=["y",chart.chartHeight,boxHeight,point.plotY+chart.plotTop,chart.plotTop,chart.plotTop+chart.plotHeight],second=["x",chart.chartWidth,boxWidth,point.plotX+chart.plotLeft,chart.plotLeft,chart.plotLeft+chart.plotWidth],preferFarSide=!this.followPointer&&pick(point.ttBelow,!chart.inverted==!!point.negative),firstDimension=function(dim,outerSize,innerSize,point,min,max){var roomLeft=point-distance>innerSize,roomRight=outerSize>point+distance+innerSize,alignedLeft=point-distance-innerSize,alignedRight=point+distance;if(preferFarSide&&roomRight)ret[dim]=alignedRight;else if(!preferFarSide&&roomLeft)ret[dim]=alignedLeft;else if(roomLeft)ret[dim]=Math.min(max-innerSize,0>alignedLeft-h?alignedLeft:alignedLeft-h);else{if(!roomRight)return!1;ret[dim]=Math.max(min,alignedRight+h+innerSize>outerSize?alignedRight:alignedRight+h)}},secondDimension=function(dim,outerSize,innerSize,point){var retVal;return distance>point||point>outerSize-distance?retVal=!1:ret[dim]=innerSize/2>point?1:point>outerSize-innerSize/2?outerSize-innerSize-2:point-innerSize/2,retVal},swap=function(count){var temp=first;first=second,second=temp,swapped=count},run=function(){firstDimension.apply(0,first)!==!1?secondDimension.apply(0,second)!==!1||swapped||(swap(!0),run()):swapped?ret.x=ret.y=0:(swap(!0),run())};return(chart.inverted||this.len>1)&&swap(),run(),ret},defaultFormatter:function(tooltip){var s,items=this.points||splat(this);return s=[tooltip.tooltipFooterHeaderFormatter(items[0])],s=s.concat(tooltip.bodyFormatter(items)),s.push(tooltip.tooltipFooterHeaderFormatter(items[0],!0)),s},refresh:function(pointOrPoints,mouseEvent){var label,x,y,anchor,text,currentSeries,tooltip=this,options=tooltip.options,point=pointOrPoints,textConfig={},pointConfig=[],formatter=options.formatter||tooltip.defaultFormatter,shared=tooltip.shared;options.enabled&&(clearTimeout(this.hideTimer),tooltip.followPointer=splat(point)[0].series.tooltipOptions.followPointer,anchor=tooltip.getAnchor(point,mouseEvent),x=anchor[0],y=anchor[1],!shared||point.series&&point.series.noSharedTooltip?textConfig=point.getLabelConfig():(each(point,function(item){item.setState("hover"),pointConfig.push(item.getLabelConfig())}),textConfig={x:point[0].category,y:point[0].y},textConfig.points=pointConfig,point=point[0]),this.len=pointConfig.length,text=formatter.call(textConfig,tooltip),currentSeries=point.series,this.distance=pick(currentSeries.tooltipOptions.distance,16),text===!1?this.hide():(label=tooltip.getLabel(),tooltip.isHidden&&label.attr({opacity:1}).show(),tooltip.split?this.renderSplit(text,splat(pointOrPoints)):(options.style.width||label.css({width:this.chart.spacingBox.width}),label.attr({text:text&&text.join?text.join(""):text}),label.removeClass(/highcharts-color-[\d]+/g).addClass("highcharts-color-"+pick(point.colorIndex,currentSeries.colorIndex)),label.attr({stroke:options.borderColor||point.color||currentSeries.color||"#666666"}),tooltip.updatePosition({plotX:x,plotY:y,negative:point.negative,ttBelow:point.ttBelow,h:anchor[2]||0})),this.isHidden=!1))},renderSplit:function(labels,points){var tooltip=this,boxes=[],chart=this.chart,ren=chart.renderer,rightAligned=!0,options=this.options,headerHeight=0,tooltipLabel=this.getLabel();H.isString(labels)&&(labels=[!1,labels]),each(labels.slice(0,points.length+1),function(str,i){if(str!==!1){var target,x,bBox,boxWidth,point=points[i-1]||{isHeader:!0,plotX:points[0].plotX},owner=point.series||tooltip,tt=owner.tt,series=point.series||{},colorClass="highcharts-color-"+pick(point.colorIndex,series.colorIndex,"none");tt||(owner.tt=tt=ren.label(null,null,null,"callout",null,null,options.useHTML).addClass("highcharts-tooltip-box "+colorClass).attr({padding:options.padding,r:options.borderRadius,fill:options.backgroundColor,stroke:options.borderColor||point.color||series.color||"#333333","stroke-width":options.borderWidth}).add(tooltipLabel)),tt.isActive=!0,tt.attr({text:str}),tt.css(options.style).shadow(options.shadow),bBox=tt.getBBox(),boxWidth=bBox.width+tt.strokeWidth(),point.isHeader?(headerHeight=bBox.height,x=Math.max(0,Math.min(point.plotX+chart.plotLeft-boxWidth/2,chart.chartWidth-boxWidth))):x=point.plotX+chart.plotLeft-pick(options.distance,16)-boxWidth,0>x&&(rightAligned=!1),target=(point.series&&point.series.yAxis&&point.series.yAxis.pos)+(point.plotY||0),target-=chart.plotTop,boxes.push({target:point.isHeader?chart.plotHeight+headerHeight:target,rank:point.isHeader?1:0,size:owner.tt.getBBox().height+1,point:point,x:x,tt:tt})}}),this.cleanSplit(),H.distribute(boxes,chart.plotHeight+headerHeight),each(boxes,function(box){var point=box.point,series=point.series;box.tt.attr({visibility:void 0===box.pos?"hidden":"inherit",x:rightAligned||point.isHeader?box.x:point.plotX+chart.plotLeft+pick(options.distance,16),y:box.pos+chart.plotTop,anchorX:point.isHeader?point.plotX+chart.plotLeft:point.plotX+series.xAxis.pos,anchorY:point.isHeader?box.pos+chart.plotTop-15:point.plotY+series.yAxis.pos})})},updatePosition:function(point){var chart=this.chart,label=this.getLabel(),pos=(this.options.positioner||this.getPosition).call(this,label.width,label.height,point);this.move(Math.round(pos.x),Math.round(pos.y||0),point.plotX+chart.plotLeft,point.plotY+chart.plotTop)},getDateFormat:function(range,date,startOfWeek,dateTimeLabelFormats){var format,n,time=this.chart.time,dateStr=time.dateFormat("%m-%d %H:%M:%S.%L",date),blank="01-01 00:00:00.000",strpos={millisecond:15,second:12,minute:9,hour:6,day:3},lastN="millisecond";for(n in timeUnits){if(range===timeUnits.week&&+time.dateFormat("%w",date)===startOfWeek&&dateStr.substr(6)===blank.substr(6)){n="week";break}if(timeUnits[n]>range){n=lastN;break}if(strpos[n]&&dateStr.substr(strpos[n])!==blank.substr(strpos[n]))break;"week"!==n&&(lastN=n)}return n&&(format=dateTimeLabelFormats[n]),format},getXDateFormat:function(point,options,xAxis){var xDateFormat,dateTimeLabelFormats=options.dateTimeLabelFormats,closestPointRange=xAxis&&xAxis.closestPointRange;return xDateFormat=closestPointRange?this.getDateFormat(closestPointRange,point.x,xAxis.options.startOfWeek,dateTimeLabelFormats):dateTimeLabelFormats.day,xDateFormat||dateTimeLabelFormats.year},tooltipFooterHeaderFormatter:function(labelConfig,isFooter){var footOrHead=isFooter?"footer":"header",series=labelConfig.series,tooltipOptions=series.tooltipOptions,xDateFormat=tooltipOptions.xDateFormat,xAxis=series.xAxis,isDateTime=xAxis&&"datetime"===xAxis.options.type&&isNumber(labelConfig.key),formatString=tooltipOptions[footOrHead+"Format"];return isDateTime&&!xDateFormat&&(xDateFormat=this.getXDateFormat(labelConfig,tooltipOptions,xAxis)),isDateTime&&xDateFormat&&each(labelConfig.point&&labelConfig.point.tooltipDateKeys||["key"],function(key){formatString=formatString.replace("{point."+key+"}","{point."+key+":"+xDateFormat+"}")}),format(formatString,{point:labelConfig,series:series},this.chart.time)},bodyFormatter:function(items){return map(items,function(item){var tooltipOptions=item.series.tooltipOptions;return(tooltipOptions[(item.point.formatPrefix||"point")+"Formatter"]||item.point.tooltipFormatter).call(item.point,tooltipOptions[(item.point.formatPrefix||"point")+"Format"])})}}}(Highcharts),function(Highcharts){var H=Highcharts,addEvent=H.addEvent,attr=H.attr,charts=H.charts,color=H.color,css=H.css,defined=H.defined,each=H.each,extend=H.extend,find=H.find,fireEvent=H.fireEvent,isObject=H.isObject,offset=H.offset,pick=H.pick,splat=H.splat,Tooltip=H.Tooltip;Highcharts.Pointer=function(chart,options){this.init(chart,options)},Highcharts.Pointer.prototype={init:function(chart,options){this.options=options,this.chart=chart,this.runChartClick=options.chart.events&&!!options.chart.events.click,this.pinchDown=[],this.lastValidTouch={},Tooltip&&(chart.tooltip=new Tooltip(chart,options.tooltip),this.followTouchMove=pick(options.tooltip.followTouchMove,!0)),this.setDOMEvents()},zoomOption:function(e){var zoomX,zoomY,chart=this.chart,options=chart.options.chart,zoomType=options.zoomType||"",inverted=chart.inverted;/touch/.test(e.type)&&(zoomType=pick(options.pinchType,zoomType)),this.zoomX=zoomX=/x/.test(zoomType),this.zoomY=zoomY=/y/.test(zoomType),this.zoomHor=zoomX&&!inverted||zoomY&&inverted,this.zoomVert=zoomY&&!inverted||zoomX&&inverted,this.hasZoom=zoomX||zoomY},normalize:function(e,chartPosition){var ePos;return ePos=e.touches?e.touches.length?e.touches.item(0):e.changedTouches[0]:e,chartPosition||(this.chartPosition=chartPosition=offset(this.chart.container)),extend(e,{chartX:Math.round(ePos.pageX-chartPosition.left),chartY:Math.round(ePos.pageY-chartPosition.top)})},getCoordinates:function(e){var coordinates={xAxis:[],yAxis:[]};return each(this.chart.axes,function(axis){coordinates[axis.isXAxis?"xAxis":"yAxis"].push({axis:axis,value:axis.toValue(e[axis.horiz?"chartX":"chartY"])})}),coordinates},findNearestKDPoint:function(series,shared,coordinates){var closest,sort=function(p1,p2){var result,isCloserX=p1.distX-p2.distX,isCloser=p1.dist-p2.dist,isAbove=(p2.series.group&&p2.series.group.zIndex)-(p1.series.group&&p1.series.group.zIndex);return result=0!==isCloserX&&shared?isCloserX:0!==isCloser?isCloser:0!==isAbove?isAbove:p1.series.index>p2.series.index?-1:1};return each(series,function(s){var noSharedTooltip=s.noSharedTooltip&&shared,compareX=!noSharedTooltip&&s.options.findNearestPointBy.indexOf("y")<0,point=s.searchPoint(coordinates,compareX);isObject(point,!0)&&(!isObject(closest,!0)||sort(closest,point)>0)&&(closest=point)}),closest},getPointFromEvent:function(e){for(var point,target=e.target;target&&!point;)point=target.point,target=target.parentNode;return point},getChartCoordinatesFromPoint:function(point,inverted){var series=point.series,xAxis=series.xAxis,yAxis=series.yAxis,plotX=pick(point.clientX,point.plotX);return xAxis&&yAxis?inverted?{chartX:xAxis.len+xAxis.pos-plotX,chartY:yAxis.len+yAxis.pos-point.plotY}:{chartX:plotX+xAxis.pos,chartY:point.plotY+yAxis.pos}:void 0},getHoverData:function(existingHoverPoint,existingHoverSeries,series,isDirectTouch,shared,coordinates,params){var hoverPoint,hoverPoints=[],hoverSeries=existingHoverSeries,isBoosting=params&&params.isBoosting,useExisting=!(!isDirectTouch||!existingHoverPoint),notSticky=hoverSeries&&!hoverSeries.stickyTracking,filter=function(s){return s.visible&&!(!shared&&s.directTouch)&&pick(s.options.enableMouseTracking,!0)},searchSeries=notSticky?[hoverSeries]:H.grep(series,function(s){return filter(s)&&s.stickyTracking});return hoverPoint=useExisting?existingHoverPoint:this.findNearestKDPoint(searchSeries,shared,coordinates),hoverSeries=hoverPoint&&hoverPoint.series,hoverPoint&&(shared&&!hoverSeries.noSharedTooltip?(searchSeries=H.grep(series,function(s){return filter(s)&&!s.noSharedTooltip}),each(searchSeries,function(s){var point=find(s.points,function(p){return p.x===hoverPoint.x&&!p.isNull});isObject(point)&&(isBoosting&&(point=s.getPoint(point)),hoverPoints.push(point))})):hoverPoints.push(hoverPoint)),{hoverPoint:hoverPoint,hoverSeries:hoverSeries,hoverPoints:hoverPoints}},runPointActions:function(e,p){var useSharedTooltip,followPointer,anchor,points,pointer=this,chart=pointer.chart,series=chart.series,tooltip=chart.tooltip&&chart.tooltip.options.enabled?chart.tooltip:void 0,shared=tooltip?tooltip.shared:!1,hoverPoint=p||chart.hoverPoint,hoverSeries=hoverPoint&&hoverPoint.series||chart.hoverSeries,isDirectTouch=!!p||hoverSeries&&hoverSeries.directTouch&&pointer.isDirectTouch,hoverData=this.getHoverData(hoverPoint,hoverSeries,series,isDirectTouch,shared,e,{isBoosting:chart.isBoosting});if(hoverPoint=hoverData.hoverPoint,points=hoverData.hoverPoints,hoverSeries=hoverData.hoverSeries,followPointer=hoverSeries&&hoverSeries.tooltipOptions.followPointer,useSharedTooltip=shared&&hoverSeries&&!hoverSeries.noSharedTooltip,hoverPoint&&(hoverPoint!==chart.hoverPoint||tooltip&&tooltip.isHidden)){if(each(chart.hoverPoints||[],function(p){-1===H.inArray(p,points)&&p.setState()}),each(points||[],function(p){p.setState("hover")}),chart.hoverSeries!==hoverSeries&&hoverSeries.onMouseOver(),chart.hoverPoint&&chart.hoverPoint.firePointEvent("mouseOut"),!hoverPoint.series)return;hoverPoint.firePointEvent("mouseOver"),chart.hoverPoints=points,chart.hoverPoint=hoverPoint,tooltip&&tooltip.refresh(useSharedTooltip?points:hoverPoint,e)}else followPointer&&tooltip&&!tooltip.isHidden&&(anchor=tooltip.getAnchor([{}],e),tooltip.updatePosition({plotX:anchor[0],plotY:anchor[1]}));pointer.unDocMouseMove||(pointer.unDocMouseMove=addEvent(chart.container.ownerDocument,"mousemove",function(e){var chart=charts[H.hoverChartIndex];chart&&chart.pointer.onDocumentMouseMove(e)})),each(chart.axes,function(axis){var snap=pick(axis.crosshair.snap,!0),point=snap?H.find(points,function(p){return p.series[axis.coll]===axis}):void 0;point||!snap?axis.drawCrosshair(e,point):axis.hideCrosshair()})},reset:function(allowMove,delay){var pointer=this,chart=pointer.chart,hoverSeries=chart.hoverSeries,hoverPoint=chart.hoverPoint,hoverPoints=chart.hoverPoints,tooltip=chart.tooltip,tooltipPoints=tooltip&&tooltip.shared?hoverPoints:hoverPoint;allowMove&&tooltipPoints&&each(splat(tooltipPoints),function(point){point.series.isCartesian&&void 0===point.plotX&&(allowMove=!1)}),allowMove?tooltip&&tooltipPoints&&(tooltip.refresh(tooltipPoints),hoverPoint&&(hoverPoint.setState(hoverPoint.state,!0),each(chart.axes,function(axis){axis.crosshair&&axis.drawCrosshair(null,hoverPoint)}))):(hoverPoint&&hoverPoint.onMouseOut(),hoverPoints&&each(hoverPoints,function(point){point.setState()}),hoverSeries&&hoverSeries.onMouseOut(),tooltip&&tooltip.hide(delay),pointer.unDocMouseMove&&(pointer.unDocMouseMove=pointer.unDocMouseMove()),each(chart.axes,function(axis){axis.hideCrosshair()}),pointer.hoverX=chart.hoverPoints=chart.hoverPoint=null)},scaleGroups:function(attribs,clip){var seriesAttribs,chart=this.chart;each(chart.series,function(series){seriesAttribs=attribs||series.getPlotBox(),series.xAxis&&series.xAxis.zoomEnabled&&series.group&&(series.group.attr(seriesAttribs),series.markerGroup&&(series.markerGroup.attr(seriesAttribs),series.markerGroup.clip(clip?chart.clipRect:null)),series.dataLabelsGroup&&series.dataLabelsGroup.attr(seriesAttribs))}),chart.clipRect.attr(clip||chart.clipBox)},dragStart:function(e){var chart=this.chart;chart.mouseIsDown=e.type,chart.cancelClick=!1,chart.mouseDownX=this.mouseDownX=e.chartX,chart.mouseDownY=this.mouseDownY=e.chartY},drag:function(e){var clickedInside,size,chart=this.chart,chartOptions=chart.options.chart,chartX=e.chartX,chartY=e.chartY,zoomHor=this.zoomHor,zoomVert=this.zoomVert,plotLeft=chart.plotLeft,plotTop=chart.plotTop,plotWidth=chart.plotWidth,plotHeight=chart.plotHeight,selectionMarker=this.selectionMarker,mouseDownX=this.mouseDownX,mouseDownY=this.mouseDownY,panKey=chartOptions.panKey&&e[chartOptions.panKey+"Key"];selectionMarker&&selectionMarker.touch||(plotLeft>chartX?chartX=plotLeft:chartX>plotLeft+plotWidth&&(chartX=plotLeft+plotWidth),plotTop>chartY?chartY=plotTop:chartY>plotTop+plotHeight&&(chartY=plotTop+plotHeight),this.hasDragged=Math.sqrt(Math.pow(mouseDownX-chartX,2)+Math.pow(mouseDownY-chartY,2)),this.hasDragged>10&&(clickedInside=chart.isInsidePlot(mouseDownX-plotLeft,mouseDownY-plotTop),chart.hasCartesianSeries&&(this.zoomX||this.zoomY)&&clickedInside&&!panKey&&(selectionMarker||(this.selectionMarker=selectionMarker=chart.renderer.rect(plotLeft,plotTop,zoomHor?1:plotWidth,zoomVert?1:plotHeight,0).attr({fill:chartOptions.selectionMarkerFill||color("#335cad").setOpacity(.25).get(),"class":"highcharts-selection-marker",zIndex:7}).add())),selectionMarker&&zoomHor&&(size=chartX-mouseDownX,selectionMarker.attr({width:Math.abs(size),x:(size>0?0:size)+mouseDownX})),selectionMarker&&zoomVert&&(size=chartY-mouseDownY,selectionMarker.attr({height:Math.abs(size),y:(size>0?0:size)+mouseDownY})),clickedInside&&!selectionMarker&&chartOptions.panning&&chart.pan(e,chartOptions.panning)))
},drop:function(e){var pointer=this,chart=this.chart,hasPinched=this.hasPinched;if(this.selectionMarker){var runZoom,selectionData={originalEvent:e,xAxis:[],yAxis:[]},selectionBox=this.selectionMarker,selectionLeft=selectionBox.attr?selectionBox.attr("x"):selectionBox.x,selectionTop=selectionBox.attr?selectionBox.attr("y"):selectionBox.y,selectionWidth=selectionBox.attr?selectionBox.attr("width"):selectionBox.width,selectionHeight=selectionBox.attr?selectionBox.attr("height"):selectionBox.height;(this.hasDragged||hasPinched)&&(each(chart.axes,function(axis){if(axis.zoomEnabled&&defined(axis.min)&&(hasPinched||pointer[{xAxis:"zoomX",yAxis:"zoomY"}[axis.coll]])){var horiz=axis.horiz,minPixelPadding="touchend"===e.type?axis.minPixelPadding:0,selectionMin=axis.toValue((horiz?selectionLeft:selectionTop)+minPixelPadding),selectionMax=axis.toValue((horiz?selectionLeft+selectionWidth:selectionTop+selectionHeight)-minPixelPadding);selectionData[axis.coll].push({axis:axis,min:Math.min(selectionMin,selectionMax),max:Math.max(selectionMin,selectionMax)}),runZoom=!0}}),runZoom&&fireEvent(chart,"selection",selectionData,function(args){chart.zoom(extend(args,hasPinched?{animation:!1}:null))})),this.selectionMarker=this.selectionMarker.destroy(),hasPinched&&this.scaleGroups()}chart&&(css(chart.container,{cursor:chart._cursor}),chart.cancelClick=this.hasDragged>10,chart.mouseIsDown=this.hasDragged=this.hasPinched=!1,this.pinchDown=[])},onContainerMouseDown:function(e){2!==e.button&&(e=this.normalize(e),this.zoomOption(e),e.preventDefault&&e.preventDefault(),this.dragStart(e))},onDocumentMouseUp:function(e){charts[H.hoverChartIndex]&&charts[H.hoverChartIndex].pointer.drop(e)},onDocumentMouseMove:function(e){var chart=this.chart,chartPosition=this.chartPosition;e=this.normalize(e,chartPosition),!chartPosition||this.inClass(e.target,"highcharts-tracker")||chart.isInsidePlot(e.chartX-chart.plotLeft,e.chartY-chart.plotTop)||this.reset()},onContainerMouseLeave:function(e){var chart=charts[H.hoverChartIndex];chart&&(e.relatedTarget||e.toElement)&&(chart.pointer.reset(),chart.pointer.chartPosition=null)},onContainerMouseMove:function(e){var chart=this.chart;defined(H.hoverChartIndex)&&charts[H.hoverChartIndex]&&charts[H.hoverChartIndex].mouseIsDown||(H.hoverChartIndex=chart.index),e=this.normalize(e),e.returnValue=!1,"mousedown"===chart.mouseIsDown&&this.drag(e),!this.inClass(e.target,"highcharts-tracker")&&!chart.isInsidePlot(e.chartX-chart.plotLeft,e.chartY-chart.plotTop)||chart.openMenu||this.runPointActions(e)},inClass:function(element,className){for(var elemClassName;element;){if(elemClassName=attr(element,"class")){if(-1!==elemClassName.indexOf(className))return!0;if(-1!==elemClassName.indexOf("highcharts-container"))return!1}element=element.parentNode}},onTrackerMouseOut:function(e){var series=this.chart.hoverSeries,relatedTarget=e.relatedTarget||e.toElement;this.isDirectTouch=!1,!series||!relatedTarget||series.stickyTracking||this.inClass(relatedTarget,"highcharts-tooltip")||this.inClass(relatedTarget,"highcharts-series-"+series.index)&&this.inClass(relatedTarget,"highcharts-tracker")||series.onMouseOut()},onContainerClick:function(e){var chart=this.chart,hoverPoint=chart.hoverPoint,plotLeft=chart.plotLeft,plotTop=chart.plotTop;e=this.normalize(e),chart.cancelClick||(hoverPoint&&this.inClass(e.target,"highcharts-tracker")?(fireEvent(hoverPoint.series,"click",extend(e,{point:hoverPoint})),chart.hoverPoint&&hoverPoint.firePointEvent("click",e)):(extend(e,this.getCoordinates(e)),chart.isInsidePlot(e.chartX-plotLeft,e.chartY-plotTop)&&fireEvent(chart,"click",e)))},setDOMEvents:function(){var pointer=this,container=pointer.chart.container,ownerDoc=container.ownerDocument;container.onmousedown=function(e){pointer.onContainerMouseDown(e)},container.onmousemove=function(e){pointer.onContainerMouseMove(e)},container.onclick=function(e){pointer.onContainerClick(e)},this.unbindContainerMouseLeave=addEvent(container,"mouseleave",pointer.onContainerMouseLeave),H.unbindDocumentMouseUp||(H.unbindDocumentMouseUp=addEvent(ownerDoc,"mouseup",pointer.onDocumentMouseUp)),H.hasTouch&&(container.ontouchstart=function(e){pointer.onContainerTouchStart(e)},container.ontouchmove=function(e){pointer.onContainerTouchMove(e)},H.unbindDocumentTouchEnd||(H.unbindDocumentTouchEnd=addEvent(ownerDoc,"touchend",pointer.onDocumentTouchEnd)))},destroy:function(){var pointer=this;pointer.unDocMouseMove&&pointer.unDocMouseMove(),this.unbindContainerMouseLeave(),H.chartCount||(H.unbindDocumentMouseUp&&(H.unbindDocumentMouseUp=H.unbindDocumentMouseUp()),H.unbindDocumentTouchEnd&&(H.unbindDocumentTouchEnd=H.unbindDocumentTouchEnd())),clearInterval(pointer.tooltipTimeout),H.objectEach(pointer,function(val,prop){pointer[prop]=null})}}}(Highcharts),function(H){var charts=H.charts,each=H.each,extend=H.extend,map=H.map,noop=H.noop,pick=H.pick,Pointer=H.Pointer;extend(Pointer.prototype,{pinchTranslate:function(pinchDown,touches,transform,selectionMarker,clip,lastValidTouch){this.zoomHor&&this.pinchTranslateDirection(!0,pinchDown,touches,transform,selectionMarker,clip,lastValidTouch),this.zoomVert&&this.pinchTranslateDirection(!1,pinchDown,touches,transform,selectionMarker,clip,lastValidTouch)},pinchTranslateDirection:function(horiz,pinchDown,touches,transform,selectionMarker,clip,lastValidTouch,forcedScale){var selectionWH,selectionXY,clipXY,outOfBounds,transformScale,scaleKey,chart=this.chart,xy=horiz?"x":"y",XY=horiz?"X":"Y",sChartXY="chart"+XY,wh=horiz?"width":"height",plotLeftTop=chart["plot"+(horiz?"Left":"Top")],scale=forcedScale||1,inverted=chart.inverted,bounds=chart.bounds[horiz?"h":"v"],singleTouch=1===pinchDown.length,touch0Start=pinchDown[0][sChartXY],touch0Now=touches[0][sChartXY],touch1Start=!singleTouch&&pinchDown[1][sChartXY],touch1Now=!singleTouch&&touches[1][sChartXY],setScale=function(){!singleTouch&&Math.abs(touch0Start-touch1Start)>20&&(scale=forcedScale||Math.abs(touch0Now-touch1Now)/Math.abs(touch0Start-touch1Start)),clipXY=(plotLeftTop-touch0Now)/scale+touch0Start,selectionWH=chart["plot"+(horiz?"Width":"Height")]/scale};setScale(),selectionXY=clipXY,selectionXY<bounds.min?(selectionXY=bounds.min,outOfBounds=!0):selectionXY+selectionWH>bounds.max&&(selectionXY=bounds.max-selectionWH,outOfBounds=!0),outOfBounds?(touch0Now-=.8*(touch0Now-lastValidTouch[xy][0]),singleTouch||(touch1Now-=.8*(touch1Now-lastValidTouch[xy][1])),setScale()):lastValidTouch[xy]=[touch0Now,touch1Now],inverted||(clip[xy]=clipXY-plotLeftTop,clip[wh]=selectionWH),scaleKey=inverted?horiz?"scaleY":"scaleX":"scale"+XY,transformScale=inverted?1/scale:scale,selectionMarker[wh]=selectionWH,selectionMarker[xy]=selectionXY,transform[scaleKey]=scale,transform["translate"+XY]=transformScale*plotLeftTop+(touch0Now-transformScale*touch0Start)},pinch:function(e){var self=this,chart=self.chart,pinchDown=self.pinchDown,touches=e.touches,touchesLength=touches.length,lastValidTouch=self.lastValidTouch,hasZoom=self.hasZoom,selectionMarker=self.selectionMarker,transform={},fireClickEvent=1===touchesLength&&(self.inClass(e.target,"highcharts-tracker")&&chart.runTrackerClick||self.runChartClick),clip={};touchesLength>1&&(self.initiated=!0),hasZoom&&self.initiated&&!fireClickEvent&&e.preventDefault(),map(touches,function(e){return self.normalize(e)}),"touchstart"===e.type?(each(touches,function(e,i){pinchDown[i]={chartX:e.chartX,chartY:e.chartY}}),lastValidTouch.x=[pinchDown[0].chartX,pinchDown[1]&&pinchDown[1].chartX],lastValidTouch.y=[pinchDown[0].chartY,pinchDown[1]&&pinchDown[1].chartY],each(chart.axes,function(axis){if(axis.zoomEnabled){var bounds=chart.bounds[axis.horiz?"h":"v"],minPixelPadding=axis.minPixelPadding,min=axis.toPixels(pick(axis.options.min,axis.dataMin)),max=axis.toPixels(pick(axis.options.max,axis.dataMax)),absMin=Math.min(min,max),absMax=Math.max(min,max);bounds.min=Math.min(axis.pos,absMin-minPixelPadding),bounds.max=Math.max(axis.pos+axis.len,absMax+minPixelPadding)}}),self.res=!0):self.followTouchMove&&1===touchesLength?this.runPointActions(self.normalize(e)):pinchDown.length&&(selectionMarker||(self.selectionMarker=selectionMarker=extend({destroy:noop,touch:!0},chart.plotBox)),self.pinchTranslate(pinchDown,touches,transform,selectionMarker,clip,lastValidTouch),self.hasPinched=hasZoom,self.scaleGroups(transform,clip),self.res&&(self.res=!1,this.reset(!1,0)))},touch:function(e,start){var hasMoved,pinchDown,isInside,chart=this.chart;chart.index!==H.hoverChartIndex&&this.onContainerMouseLeave({relatedTarget:!0}),H.hoverChartIndex=chart.index,1===e.touches.length?(e=this.normalize(e),isInside=chart.isInsidePlot(e.chartX-chart.plotLeft,e.chartY-chart.plotTop),isInside&&!chart.openMenu?(start&&this.runPointActions(e),"touchmove"===e.type&&(pinchDown=this.pinchDown,hasMoved=pinchDown[0]?Math.sqrt(Math.pow(pinchDown[0].chartX-e.chartX,2)+Math.pow(pinchDown[0].chartY-e.chartY,2))>=4:!1),pick(hasMoved,!0)&&this.pinch(e)):start&&this.reset()):2===e.touches.length&&this.pinch(e)},onContainerTouchStart:function(e){this.zoomOption(e),this.touch(e,!0)},onContainerTouchMove:function(e){this.touch(e)},onDocumentTouchEnd:function(e){charts[H.hoverChartIndex]&&charts[H.hoverChartIndex].pointer.drop(e)}})}(Highcharts),function(H){var addEvent=H.addEvent,charts=H.charts,css=H.css,doc=H.doc,extend=H.extend,hasTouch=H.hasTouch,noop=H.noop,Pointer=H.Pointer,removeEvent=H.removeEvent,win=H.win,wrap=H.wrap;if(!hasTouch&&(win.PointerEvent||win.MSPointerEvent)){var touches={},hasPointerEvent=!!win.PointerEvent,getWebkitTouches=function(){var fake=[];return fake.item=function(i){return this[i]},H.objectEach(touches,function(touch){fake.push({pageX:touch.pageX,pageY:touch.pageY,target:touch.target})}),fake},translateMSPointer=function(e,method,wktype,func){var p;"touch"!==e.pointerType&&e.pointerType!==e.MSPOINTER_TYPE_TOUCH||!charts[H.hoverChartIndex]||(func(e),p=charts[H.hoverChartIndex].pointer,p[method]({type:wktype,target:e.currentTarget,preventDefault:noop,touches:getWebkitTouches()}))};extend(Pointer.prototype,{onContainerPointerDown:function(e){translateMSPointer(e,"onContainerTouchStart","touchstart",function(e){touches[e.pointerId]={pageX:e.pageX,pageY:e.pageY,target:e.currentTarget}})},onContainerPointerMove:function(e){translateMSPointer(e,"onContainerTouchMove","touchmove",function(e){touches[e.pointerId]={pageX:e.pageX,pageY:e.pageY},touches[e.pointerId].target||(touches[e.pointerId].target=e.currentTarget)})},onDocumentPointerUp:function(e){translateMSPointer(e,"onDocumentTouchEnd","touchend",function(e){delete touches[e.pointerId]})},batchMSEvents:function(fn){fn(this.chart.container,hasPointerEvent?"pointerdown":"MSPointerDown",this.onContainerPointerDown),fn(this.chart.container,hasPointerEvent?"pointermove":"MSPointerMove",this.onContainerPointerMove),fn(doc,hasPointerEvent?"pointerup":"MSPointerUp",this.onDocumentPointerUp)}}),wrap(Pointer.prototype,"init",function(proceed,chart,options){proceed.call(this,chart,options),this.hasZoom&&css(chart.container,{"-ms-touch-action":"none","touch-action":"none"})}),wrap(Pointer.prototype,"setDOMEvents",function(proceed){proceed.apply(this),(this.hasZoom||this.followTouchMove)&&this.batchMSEvents(addEvent)}),wrap(Pointer.prototype,"destroy",function(proceed){this.batchMSEvents(removeEvent),proceed.call(this)})}}(Highcharts),function(Highcharts){var H=Highcharts,addEvent=H.addEvent,css=H.css,discardElement=H.discardElement,defined=H.defined,each=H.each,isFirefox=H.isFirefox,marginNames=H.marginNames,merge=H.merge,pick=H.pick,setAnimation=H.setAnimation,stableSort=H.stableSort,win=H.win,wrap=H.wrap;Highcharts.Legend=function(chart,options){this.init(chart,options)},Highcharts.Legend.prototype={init:function(chart,options){this.chart=chart,this.setOptions(options),options.enabled&&(this.render(),addEvent(this.chart,"endResize",function(){this.legend.positionCheckboxes()}))},setOptions:function(options){var padding=pick(options.padding,8);this.options=options,this.itemStyle=options.itemStyle,this.itemHiddenStyle=merge(this.itemStyle,options.itemHiddenStyle),this.itemMarginTop=options.itemMarginTop||0,this.padding=padding,this.initialItemY=padding-5,this.maxItemWidth=0,this.itemHeight=0,this.symbolWidth=pick(options.symbolWidth,16),this.pages=[]},update:function(options,redraw){var chart=this.chart;this.setOptions(merge(!0,this.options,options)),this.destroy(),chart.isDirtyLegend=chart.isDirtyBox=!0,pick(redraw,!0)&&chart.redraw()},colorizeItem:function(item,visible){item.legendGroup[visible?"removeClass":"addClass"]("highcharts-legend-item-hidden");var legend=this,options=legend.options,legendItem=item.legendItem,legendLine=item.legendLine,legendSymbol=item.legendSymbol,hiddenColor=legend.itemHiddenStyle.color,textColor=visible?options.itemStyle.color:hiddenColor,symbolColor=visible?item.color||hiddenColor:hiddenColor,markerOptions=item.options&&item.options.marker,symbolAttr={fill:symbolColor};legendItem&&legendItem.css({fill:textColor,color:textColor}),legendLine&&legendLine.attr({stroke:symbolColor}),legendSymbol&&(markerOptions&&legendSymbol.isMarker&&(symbolAttr=item.pointAttribs(),visible||(symbolAttr.stroke=symbolAttr.fill=hiddenColor)),legendSymbol.attr(symbolAttr))},positionItem:function(item){var legend=this,options=legend.options,symbolPadding=options.symbolPadding,ltr=!options.rtl,legendItemPos=item._legendItemPos,itemX=legendItemPos[0],itemY=legendItemPos[1],checkbox=item.checkbox,legendGroup=item.legendGroup;legendGroup&&legendGroup.element&&legendGroup.translate(ltr?itemX:legend.legendWidth-itemX-2*symbolPadding-4,itemY),checkbox&&(checkbox.x=itemX,checkbox.y=itemY)},destroyItem:function(item){var checkbox=item.checkbox;each(["legendItem","legendLine","legendSymbol","legendGroup"],function(key){item[key]&&(item[key]=item[key].destroy())}),checkbox&&discardElement(item.checkbox)},destroy:function(){function destroyItems(key){this[key]&&(this[key]=this[key].destroy())}each(this.getAllItems(),function(item){each(["legendItem","legendGroup"],destroyItems,item)}),each(["clipRect","up","down","pager","nav","box","title","group"],destroyItems,this),this.display=null},positionCheckboxes:function(){var translateY,alignAttr=this.group&&this.group.alignAttr,clipHeight=this.clipHeight||this.legendHeight,titleHeight=this.titleHeight;alignAttr&&(translateY=alignAttr.translateY,each(this.allItems,function(item){var top,checkbox=item.checkbox;checkbox&&(top=translateY+titleHeight+checkbox.y+(this.scrollOffset||0)+3,css(checkbox,{left:alignAttr.translateX+item.checkboxOffset+checkbox.x-20+"px",top:top+"px",display:top>translateY-6&&translateY+clipHeight-6>top?"":"none"}))},this))},renderTitle:function(){var bBox,options=this.options,padding=this.padding,titleOptions=options.title,titleHeight=0;titleOptions.text&&(this.title||(this.title=this.chart.renderer.label(titleOptions.text,padding-3,padding-4,null,null,null,options.useHTML,null,"legend-title").attr({zIndex:1}).css(titleOptions.style).add(this.group)),bBox=this.title.getBBox(),titleHeight=bBox.height,this.offsetWidth=bBox.width,this.contentGroup.attr({translateY:titleHeight})),this.titleHeight=titleHeight},setText:function(item){var options=this.options;item.legendItem.attr({text:options.labelFormat?H.format(options.labelFormat,item,this.chart.time):options.labelFormatter.call(item)})},renderItem:function(item){var itemHeight,bBox,itemWidth,legend=this,chart=legend.chart,renderer=chart.renderer,options=legend.options,horizontal="horizontal"===options.layout,symbolWidth=legend.symbolWidth,symbolPadding=options.symbolPadding,itemStyle=legend.itemStyle,itemHiddenStyle=legend.itemHiddenStyle,padding=legend.padding,itemDistance=horizontal?pick(options.itemDistance,20):0,ltr=!options.rtl,widthOption=options.width,itemMarginBottom=options.itemMarginBottom||0,itemMarginTop=legend.itemMarginTop,li=item.legendItem,isSeries=!item.series,series=!isSeries&&item.series.drawLegendSymbol?item.series:item,seriesOptions=series.options,showCheckbox=legend.createCheckboxForItem&&seriesOptions&&seriesOptions.showCheckbox,itemExtraWidth=symbolWidth+symbolPadding+itemDistance+(showCheckbox?20:0),useHTML=options.useHTML,fontSize=12,itemClassName=item.options.className;li||(item.legendGroup=renderer.g("legend-item").addClass("highcharts-"+series.type+"-series highcharts-color-"+item.colorIndex+(itemClassName?" "+itemClassName:"")+(isSeries?" highcharts-series-"+item.index:"")).attr({zIndex:1}).add(legend.scrollGroup),item.legendItem=li=renderer.text("",ltr?symbolWidth+symbolPadding:-symbolPadding,legend.baseline||0,useHTML).css(merge(item.visible?itemStyle:itemHiddenStyle)).attr({align:ltr?"left":"right",zIndex:2}).add(item.legendGroup),legend.baseline||(fontSize=itemStyle.fontSize,legend.fontMetrics=renderer.fontMetrics(fontSize,li),legend.baseline=legend.fontMetrics.f+3+itemMarginTop,li.attr("y",legend.baseline)),legend.symbolHeight=options.symbolHeight||legend.fontMetrics.f,series.drawLegendSymbol(legend,item),legend.setItemEvents&&legend.setItemEvents(item,li,useHTML),showCheckbox&&legend.createCheckboxForItem(item)),legend.colorizeItem(item,item.visible),itemStyle.width||li.css({width:(options.itemWidth||options.width||chart.spacingBox.width)-itemExtraWidth}),legend.setText(item),bBox=li.getBBox(),itemWidth=item.checkboxOffset=options.itemWidth||item.legendItemWidth||bBox.width+itemExtraWidth,legend.itemHeight=itemHeight=Math.round(item.legendItemHeight||bBox.height||legend.symbolHeight),horizontal&&legend.itemX-padding+itemWidth>(widthOption||chart.spacingBox.width-2*padding-options.x)&&(legend.itemX=padding,legend.itemY+=itemMarginTop+legend.lastLineHeight+itemMarginBottom,legend.lastLineHeight=0),legend.maxItemWidth=Math.max(legend.maxItemWidth,itemWidth),legend.lastItemY=itemMarginTop+legend.itemY+itemMarginBottom,legend.lastLineHeight=Math.max(itemHeight,legend.lastLineHeight),item._legendItemPos=[legend.itemX,legend.itemY],horizontal?legend.itemX+=itemWidth:(legend.itemY+=itemMarginTop+itemHeight+itemMarginBottom,legend.lastLineHeight=itemHeight),legend.offsetWidth=widthOption||Math.max((horizontal?legend.itemX-padding-(item.checkbox?0:itemDistance):itemWidth)+padding,legend.offsetWidth)},getAllItems:function(){var allItems=[];return each(this.chart.series,function(series){var seriesOptions=series&&series.options;series&&pick(seriesOptions.showInLegend,defined(seriesOptions.linkedTo)?!1:void 0,!0)&&(allItems=allItems.concat(series.legendItems||("point"===seriesOptions.legendType?series.data:series)))}),allItems},getAlignment:function(){var options=this.options;return options.floating?"":options.align.charAt(0)+options.verticalAlign.charAt(0)+options.layout.charAt(0)},adjustMargins:function(margin,spacing){var chart=this.chart,options=this.options,alignment=this.getAlignment();alignment&&each([/(lth|ct|rth)/,/(rtv|rm|rbv)/,/(rbh|cb|lbh)/,/(lbv|lm|ltv)/],function(alignments,side){alignments.test(alignment)&&!defined(margin[side])&&(chart[marginNames[side]]=Math.max(chart[marginNames[side]],chart.legend[(side+1)%2?"legendHeight":"legendWidth"]+[1,-1,-1,1][side]*options[side%2?"x":"y"]+pick(options.margin,12)+spacing[side]+(0===side?chart.titleOffset+chart.options.title.margin:0)))})},render:function(){var allItems,display,legendWidth,legendHeight,alignTo,legend=this,chart=legend.chart,renderer=chart.renderer,legendGroup=legend.group,box=legend.box,options=legend.options,padding=legend.padding;legend.itemX=padding,legend.itemY=legend.initialItemY,legend.offsetWidth=0,legend.lastItemY=0,legendGroup||(legend.group=legendGroup=renderer.g("legend").attr({zIndex:7}).add(),legend.contentGroup=renderer.g().attr({zIndex:1}).add(legendGroup),legend.scrollGroup=renderer.g().add(legend.contentGroup)),legend.renderTitle(),allItems=legend.getAllItems(),stableSort(allItems,function(a,b){return(a.options&&a.options.legendIndex||0)-(b.options&&b.options.legendIndex||0)}),options.reversed&&allItems.reverse(),legend.allItems=allItems,legend.display=display=!!allItems.length,legend.lastLineHeight=0,each(allItems,function(item){legend.renderItem(item)}),legendWidth=(options.width||legend.offsetWidth)+padding,legendHeight=legend.lastItemY+legend.lastLineHeight+legend.titleHeight,legendHeight=legend.handleOverflow(legendHeight),legendHeight+=padding,box||(legend.box=box=renderer.rect().addClass("highcharts-legend-box").attr({r:options.borderRadius}).add(legendGroup),box.isNew=!0),box.attr({stroke:options.borderColor,"stroke-width":options.borderWidth||0,fill:options.backgroundColor||"none"}).shadow(options.shadow),legendWidth>0&&legendHeight>0&&(box[box.isNew?"attr":"animate"](box.crisp.call({},{x:0,y:0,width:legendWidth,height:legendHeight},box.strokeWidth())),box.isNew=!1),box[display?"show":"hide"](),legend.legendWidth=legendWidth,legend.legendHeight=legendHeight,each(allItems,function(item){legend.positionItem(item)}),display&&(alignTo=chart.spacingBox,/(lth|ct|rth)/.test(legend.getAlignment())&&(alignTo=merge(alignTo,{y:alignTo.y+chart.titleOffset+chart.options.title.margin})),legendGroup.align(merge(options,{width:legendWidth,height:legendHeight}),!0,alignTo)),chart.isResizing||this.positionCheckboxes()},handleOverflow:function(legendHeight){var clipHeight,lastY,legend=this,chart=this.chart,renderer=chart.renderer,options=this.options,optionsY=options.y,alignTop="top"===options.verticalAlign,padding=this.padding,spaceHeight=chart.spacingBox.height+(alignTop?-optionsY:optionsY)-padding,maxHeight=options.maxHeight,clipRect=this.clipRect,navOptions=options.navigation,animation=pick(navOptions.animation,!0),arrowSize=navOptions.arrowSize||12,nav=this.nav,pages=this.pages,allItems=this.allItems,clipToHeight=function(height){"number"==typeof height?clipRect.attr({height:height}):clipRect&&(legend.clipRect=clipRect.destroy(),legend.contentGroup.clip()),legend.contentGroup.div&&(legend.contentGroup.div.style.clip=height?"rect("+padding+"px,9999px,"+(padding+height)+"px,0)":"auto")};return"horizontal"!==options.layout||"middle"===options.verticalAlign||options.floating||(spaceHeight/=2),maxHeight&&(spaceHeight=Math.min(spaceHeight,maxHeight)),pages.length=0,legendHeight>spaceHeight&&navOptions.enabled!==!1?(this.clipHeight=clipHeight=Math.max(spaceHeight-20-this.titleHeight-padding,0),this.currentPage=pick(this.currentPage,1),this.fullHeight=legendHeight,each(allItems,function(item,i){var y=item._legendItemPos[1],h=Math.round(item.legendItem.getBBox().height),len=pages.length;(!len||y-pages[len-1]>clipHeight&&(lastY||y)!==pages[len-1])&&(pages.push(lastY||y),len++),item.pageIx=len-1,lastY&&(allItems[i-1].pageIx=len-1),i===allItems.length-1&&y+h-pages[len-1]>clipHeight&&(pages.push(y),item.pageIx=len),y!==lastY&&(lastY=y)}),clipRect||(clipRect=legend.clipRect=renderer.clipRect(0,padding,9999,0),legend.contentGroup.clip(clipRect)),clipToHeight(clipHeight),nav||(this.nav=nav=renderer.g().attr({zIndex:1}).add(this.group),this.up=renderer.symbol("triangle",0,0,arrowSize,arrowSize).on("click",function(){legend.scroll(-1,animation)}).add(nav),this.pager=renderer.text("",15,10).addClass("highcharts-legend-navigation").css(navOptions.style).add(nav),this.down=renderer.symbol("triangle-down",0,0,arrowSize,arrowSize).on("click",function(){legend.scroll(1,animation)}).add(nav)),legend.scroll(0),legendHeight=spaceHeight):nav&&(clipToHeight(),this.nav=nav.destroy(),this.scrollGroup.attr({translateY:1}),this.clipHeight=0),legendHeight},scroll:function(scrollBy,animation){var pages=this.pages,pageCount=pages.length,currentPage=this.currentPage+scrollBy,clipHeight=this.clipHeight,navOptions=this.options.navigation,pager=this.pager,padding=this.padding;currentPage>pageCount&&(currentPage=pageCount),currentPage>0&&(void 0!==animation&&setAnimation(animation,this.chart),this.nav.attr({translateX:padding,translateY:clipHeight+this.padding+7+this.titleHeight,visibility:"visible"}),this.up.attr({"class":1===currentPage?"highcharts-legend-nav-inactive":"highcharts-legend-nav-active"}),pager.attr({text:currentPage+"/"+pageCount}),this.down.attr({x:18+this.pager.getBBox().width,"class":currentPage===pageCount?"highcharts-legend-nav-inactive":"highcharts-legend-nav-active"}),this.up.attr({fill:1===currentPage?navOptions.inactiveColor:navOptions.activeColor}).css({cursor:1===currentPage?"default":"pointer"}),this.down.attr({fill:currentPage===pageCount?navOptions.inactiveColor:navOptions.activeColor}).css({cursor:currentPage===pageCount?"default":"pointer"}),this.scrollOffset=-pages[currentPage-1]+this.initialItemY,this.scrollGroup.animate({translateY:this.scrollOffset}),this.currentPage=currentPage,this.positionCheckboxes())}},H.LegendSymbolMixin={drawRectangle:function(legend,item){var options=legend.options,symbolHeight=legend.symbolHeight,square=options.squareSymbol,symbolWidth=square?symbolHeight:legend.symbolWidth;item.legendSymbol=this.chart.renderer.rect(square?(legend.symbolWidth-symbolHeight)/2:0,legend.baseline-symbolHeight+1,symbolWidth,symbolHeight,pick(legend.options.symbolRadius,symbolHeight/2)).addClass("highcharts-point").attr({zIndex:3}).add(item.legendGroup)},drawLineMarker:function(legend){var radius,legendSymbol,options=this.options,markerOptions=options.marker,symbolWidth=legend.symbolWidth,symbolHeight=legend.symbolHeight,generalRadius=symbolHeight/2,renderer=this.chart.renderer,legendItemGroup=this.legendGroup,verticalCenter=legend.baseline-Math.round(.3*legend.fontMetrics.b),attr={};attr={"stroke-width":options.lineWidth||0},options.dashStyle&&(attr.dashstyle=options.dashStyle),this.legendLine=renderer.path(["M",0,verticalCenter,"L",symbolWidth,verticalCenter]).addClass("highcharts-graph").attr(attr).add(legendItemGroup),markerOptions&&markerOptions.enabled!==!1&&(radius=Math.min(pick(markerOptions.radius,generalRadius),generalRadius),0===this.symbol.indexOf("url")&&(markerOptions=merge(markerOptions,{width:symbolHeight,height:symbolHeight}),radius=0),this.legendSymbol=legendSymbol=renderer.symbol(this.symbol,symbolWidth/2-radius,verticalCenter-radius,2*radius,2*radius,markerOptions).addClass("highcharts-point").add(legendItemGroup),legendSymbol.isMarker=!0)}},(/Trident\/7\.0/.test(win.navigator.userAgent)||isFirefox)&&wrap(Highcharts.Legend.prototype,"positionItem",function(proceed,item){var legend=this,runPositionItem=function(){item._legendItemPos&&proceed.call(legend,item)};runPositionItem(),setTimeout(runPositionItem)})}(Highcharts),function(H){var addEvent=H.addEvent,animate=H.animate,animObject=H.animObject,attr=H.attr,doc=H.doc,Axis=H.Axis,createElement=H.createElement,defaultOptions=H.defaultOptions,discardElement=H.discardElement,charts=H.charts,css=H.css,defined=H.defined,each=H.each,extend=H.extend,find=H.find,fireEvent=H.fireEvent,grep=H.grep,isNumber=H.isNumber,isObject=H.isObject,isString=H.isString,Legend=H.Legend,marginNames=H.marginNames,merge=H.merge,objectEach=H.objectEach,Pointer=H.Pointer,pick=H.pick,pInt=H.pInt,removeEvent=H.removeEvent,seriesTypes=H.seriesTypes,splat=H.splat,svg=H.svg,syncTimeout=H.syncTimeout,win=H.win,Chart=H.Chart=function(){this.getArgs.apply(this,arguments)};H.chart=function(a,b,c){return new Chart(a,b,c)},extend(Chart.prototype,{callbacks:[],getArgs:function(){var args=[].slice.call(arguments);(isString(args[0])||args[0].nodeName)&&(this.renderTo=args.shift()),this.init(args[0],args[1])},init:function(userOptions,callback){var options,type,seriesOptions=userOptions.series,userPlotOptions=userOptions.plotOptions||{};userOptions.series=null,options=merge(defaultOptions,userOptions);for(type in options.plotOptions)options.plotOptions[type].tooltip=userPlotOptions[type]&&merge(userPlotOptions[type].tooltip)||void 0;options.tooltip.userOptions=userOptions.chart&&userOptions.chart.forExport&&userOptions.tooltip.userOptions||userOptions.tooltip,options.series=userOptions.series=seriesOptions,this.userOptions=userOptions;var optionsChart=options.chart,chartEvents=optionsChart.events;this.margin=[],this.spacing=[],this.bounds={h:{},v:{}},this.labelCollectors=[],this.callback=callback,this.isResizing=0,this.options=options,this.axes=[],this.series=[],this.time=userOptions.time?new H.Time(this):H.time,this.hasCartesianSeries=optionsChart.showAxes;var chart=this;chart.index=charts.length,charts.push(chart),H.chartCount++,chartEvents&&objectEach(chartEvents,function(event,eventType){addEvent(chart,eventType,event)}),chart.xAxis=[],chart.yAxis=[],chart.pointCount=chart.colorCounter=chart.symbolCounter=0,chart.firstRender()},initSeries:function(options){var series,chart=this,optionsChart=chart.options.chart,type=options.type||optionsChart.type||optionsChart.defaultSeriesType,Constr=seriesTypes[type];return Constr||H.error(17,!0),series=new Constr,series.init(this,options),series},orderSeries:function(fromIndex){for(var series=this.series,i=fromIndex||0;i<series.length;i++)series[i]&&(series[i].index=i,series[i].name=series[i].name||"Series "+(series[i].index+1))},isInsidePlot:function(plotX,plotY,inverted){var x=inverted?plotY:plotX,y=inverted?plotX:plotY;return x>=0&&x<=this.plotWidth&&y>=0&&y<=this.plotHeight},redraw:function(animation){var hasStackedSeries,hasDirtyStacks,i,serie,chart=this,axes=chart.axes,series=chart.series,pointer=chart.pointer,legend=chart.legend,redrawLegend=chart.isDirtyLegend,hasCartesianSeries=chart.hasCartesianSeries,isDirtyBox=chart.isDirtyBox,renderer=chart.renderer,isHiddenChart=renderer.isHidden(),afterRedraw=[];for(chart.setResponsive&&chart.setResponsive(!1),H.setAnimation(animation,chart),isHiddenChart&&chart.temporaryDisplay(),chart.layOutTitles(),i=series.length;i--;)if(serie=series[i],serie.options.stacking&&(hasStackedSeries=!0,serie.isDirty)){hasDirtyStacks=!0;break}if(hasDirtyStacks)for(i=series.length;i--;)serie=series[i],serie.options.stacking&&(serie.isDirty=!0);each(series,function(serie){serie.isDirty&&"point"===serie.options.legendType&&(serie.updateTotals&&serie.updateTotals(),redrawLegend=!0),serie.isDirtyData&&fireEvent(serie,"updatedData")}),redrawLegend&&legend.options.enabled&&(legend.render(),chart.isDirtyLegend=!1),hasStackedSeries&&chart.getStacks(),hasCartesianSeries&&each(axes,function(axis){axis.updateNames(),axis.setScale()}),chart.getMargins(),hasCartesianSeries&&(each(axes,function(axis){axis.isDirty&&(isDirtyBox=!0)}),each(axes,function(axis){var key=axis.min+","+axis.max;axis.extKey!==key&&(axis.extKey=key,afterRedraw.push(function(){fireEvent(axis,"afterSetExtremes",extend(axis.eventArgs,axis.getExtremes())),delete axis.eventArgs})),(isDirtyBox||hasStackedSeries)&&axis.redraw()})),isDirtyBox&&chart.drawChartBox(),fireEvent(chart,"predraw"),each(series,function(serie){(isDirtyBox||serie.isDirty)&&serie.visible&&serie.redraw(),serie.isDirtyData=!1}),pointer&&pointer.reset(!0),renderer.draw(),fireEvent(chart,"redraw"),fireEvent(chart,"render"),isHiddenChart&&chart.temporaryDisplay(!0),each(afterRedraw,function(callback){callback.call()})},get:function(id){function itemById(item){return item.id===id||item.options&&item.options.id===id}var ret,i,series=this.series;for(ret=find(this.axes,itemById)||find(this.series,itemById),i=0;!ret&&i<series.length;i++)ret=find(series[i].points||[],itemById);return ret},getAxes:function(){var optionsArray,chart=this,options=this.options,xAxisOptions=options.xAxis=splat(options.xAxis||{}),yAxisOptions=options.yAxis=splat(options.yAxis||{});each(xAxisOptions,function(axis,i){axis.index=i,axis.isX=!0}),each(yAxisOptions,function(axis,i){axis.index=i}),optionsArray=xAxisOptions.concat(yAxisOptions),each(optionsArray,function(axisOptions){new Axis(chart,axisOptions)})},getSelectedPoints:function(){var points=[];return each(this.series,function(serie){points=points.concat(grep(serie.data||[],function(point){return point.selected}))}),points},getSelectedSeries:function(){return grep(this.series,function(serie){return serie.selected})},setTitle:function(titleOptions,subtitleOptions,redraw){var chartTitleOptions,chartSubtitleOptions,chart=this,options=chart.options;chartTitleOptions=options.title=merge({style:{color:"#333333",fontSize:options.isStock?"16px":"18px"}},options.title,titleOptions),chartSubtitleOptions=options.subtitle=merge({style:{color:"#666666"}},options.subtitle,subtitleOptions),each([["title",titleOptions,chartTitleOptions],["subtitle",subtitleOptions,chartSubtitleOptions]],function(arr,i){var name=arr[0],title=chart[name],titleOptions=arr[1],chartTitleOptions=arr[2];title&&titleOptions&&(chart[name]=title=title.destroy()),chartTitleOptions&&!title&&(chart[name]=chart.renderer.text(chartTitleOptions.text,0,0,chartTitleOptions.useHTML).attr({align:chartTitleOptions.align,"class":"highcharts-"+name,zIndex:chartTitleOptions.zIndex||4}).add(),chart[name].update=function(o){chart.setTitle(!i&&o,i&&o)},chart[name].css(chartTitleOptions.style))}),chart.layOutTitles(redraw)},layOutTitles:function(redraw){var requiresDirtyBox,titleOffset=0,renderer=this.renderer,spacingBox=this.spacingBox;
each(["title","subtitle"],function(key){var titleSize,title=this[key],titleOptions=this.options[key],offset="title"===key?-3:titleOptions.verticalAlign?0:titleOffset+2;title&&(titleSize=titleOptions.style.fontSize,titleSize=renderer.fontMetrics(titleSize,title).b,title.css({width:(titleOptions.width||spacingBox.width+titleOptions.widthAdjust)+"px"}).align(extend({y:offset+titleSize},titleOptions),!1,"spacingBox"),titleOptions.floating||titleOptions.verticalAlign||(titleOffset=Math.ceil(titleOffset+title.getBBox(titleOptions.useHTML).height)))},this),requiresDirtyBox=this.titleOffset!==titleOffset,this.titleOffset=titleOffset,!this.isDirtyBox&&requiresDirtyBox&&(this.isDirtyBox=requiresDirtyBox,this.hasRendered&&pick(redraw,!0)&&this.isDirtyBox&&this.redraw())},getChartSize:function(){var chart=this,optionsChart=chart.options.chart,widthOption=optionsChart.width,heightOption=optionsChart.height,renderTo=chart.renderTo;defined(widthOption)||(chart.containerWidth=H.getStyle(renderTo,"width")),defined(heightOption)||(chart.containerHeight=H.getStyle(renderTo,"height")),chart.chartWidth=Math.max(0,widthOption||chart.containerWidth||600),chart.chartHeight=Math.max(0,H.relativeLength(heightOption,chart.chartWidth)||(chart.containerHeight>1?chart.containerHeight:400))},temporaryDisplay:function(revert){var tempStyle,node=this.renderTo;if(revert)for(;node&&node.style;)node.hcOrigStyle&&(H.css(node,node.hcOrigStyle),delete node.hcOrigStyle),node.hcOrigDetached&&(doc.body.removeChild(node),node.hcOrigDetached=!1),node=node.parentNode;else for(;node&&node.style&&(doc.body.contains(node)||node.parentNode||(node.hcOrigDetached=!0,doc.body.appendChild(node)),("none"===H.getStyle(node,"display",!1)||node.hcOricDetached)&&(node.hcOrigStyle={display:node.style.display,height:node.style.height,overflow:node.style.overflow},tempStyle={display:"block",overflow:"hidden"},node!==this.renderTo&&(tempStyle.height=0),H.css(node,tempStyle),node.offsetWidth||node.style.setProperty("display","block","important")),node=node.parentNode,node!==doc.body););},setClassName:function(className){this.container.className="highcharts-container "+(className||"")},getContainer:function(){var container,chartWidth,chartHeight,oldChartIndex,Ren,containerStyle,chart=this,options=chart.options,optionsChart=options.chart,renderTo=chart.renderTo,indexAttrName="data-highcharts-chart",containerId=H.uniqueKey();renderTo||(chart.renderTo=renderTo=optionsChart.renderTo),isString(renderTo)&&(chart.renderTo=renderTo=doc.getElementById(renderTo)),renderTo||H.error(13,!0),oldChartIndex=pInt(attr(renderTo,indexAttrName)),isNumber(oldChartIndex)&&charts[oldChartIndex]&&charts[oldChartIndex].hasRendered&&charts[oldChartIndex].destroy(),attr(renderTo,indexAttrName,chart.index),renderTo.innerHTML="",optionsChart.skipClone||renderTo.offsetWidth||chart.temporaryDisplay(),chart.getChartSize(),chartWidth=chart.chartWidth,chartHeight=chart.chartHeight,containerStyle=extend({position:"relative",overflow:"hidden",width:chartWidth+"px",height:chartHeight+"px",textAlign:"left",lineHeight:"normal",zIndex:0,"-webkit-tap-highlight-color":"rgba(0,0,0,0)"},optionsChart.style),container=createElement("div",{id:containerId},containerStyle,renderTo),chart.container=container,chart._cursor=container.style.cursor,Ren=H[optionsChart.renderer]||H.Renderer,chart.renderer=new Ren(container,chartWidth,chartHeight,null,optionsChart.forExport,options.exporting&&options.exporting.allowHTML),chart.setClassName(optionsChart.className),chart.renderer.setStyle(optionsChart.style),chart.renderer.chartIndex=chart.index},getMargins:function(skipAxes){var chart=this,spacing=chart.spacing,margin=chart.margin,titleOffset=chart.titleOffset;chart.resetMargins(),titleOffset&&!defined(margin[0])&&(chart.plotTop=Math.max(chart.plotTop,titleOffset+chart.options.title.margin+spacing[0])),chart.legend&&chart.legend.display&&chart.legend.adjustMargins(margin,spacing),chart.extraMargin&&(chart[chart.extraMargin.type]=(chart[chart.extraMargin.type]||0)+chart.extraMargin.value),chart.adjustPlotArea&&chart.adjustPlotArea(),skipAxes||this.getAxisMargins()},getAxisMargins:function(){var chart=this,axisOffset=chart.axisOffset=[0,0,0,0],margin=chart.margin;chart.hasCartesianSeries&&each(chart.axes,function(axis){axis.visible&&axis.getOffset()}),each(marginNames,function(m,side){defined(margin[side])||(chart[m]+=axisOffset[side])}),chart.setChartSize()},reflow:function(e){var chart=this,optionsChart=chart.options.chart,renderTo=chart.renderTo,hasUserSize=defined(optionsChart.width)&&defined(optionsChart.height),width=optionsChart.width||H.getStyle(renderTo,"width"),height=optionsChart.height||H.getStyle(renderTo,"height"),target=e?e.target:win;hasUserSize||chart.isPrinting||!width||!height||target!==win&&target!==doc||((width!==chart.containerWidth||height!==chart.containerHeight)&&(clearTimeout(chart.reflowTimeout),chart.reflowTimeout=syncTimeout(function(){chart.container&&chart.setSize(void 0,void 0,!1)},e?100:0)),chart.containerWidth=width,chart.containerHeight=height)},initReflow:function(){var unbind,chart=this;unbind=addEvent(win,"resize",function(e){chart.reflow(e)}),addEvent(chart,"destroy",unbind)},setSize:function(width,height,animation){var globalAnimation,chart=this,renderer=chart.renderer;chart.isResizing+=1,H.setAnimation(animation,chart),chart.oldChartHeight=chart.chartHeight,chart.oldChartWidth=chart.chartWidth,void 0!==width&&(chart.options.chart.width=width),void 0!==height&&(chart.options.chart.height=height),chart.getChartSize(),globalAnimation=renderer.globalAnimation,(globalAnimation?animate:css)(chart.container,{width:chart.chartWidth+"px",height:chart.chartHeight+"px"},globalAnimation),chart.setChartSize(!0),renderer.setSize(chart.chartWidth,chart.chartHeight,animation),each(chart.axes,function(axis){axis.isDirty=!0,axis.setScale()}),chart.isDirtyLegend=!0,chart.isDirtyBox=!0,chart.layOutTitles(),chart.getMargins(),chart.redraw(animation),chart.oldChartHeight=null,fireEvent(chart,"resize"),syncTimeout(function(){chart&&fireEvent(chart,"endResize",null,function(){chart.isResizing-=1})},animObject(globalAnimation).duration)},setChartSize:function(skipAxes){var clipX,clipY,plotLeft,plotTop,plotWidth,plotHeight,plotBorderWidth,chart=this,inverted=chart.inverted,renderer=chart.renderer,chartWidth=chart.chartWidth,chartHeight=chart.chartHeight,optionsChart=chart.options.chart,spacing=chart.spacing,clipOffset=chart.clipOffset;chart.plotLeft=plotLeft=Math.round(chart.plotLeft),chart.plotTop=plotTop=Math.round(chart.plotTop),chart.plotWidth=plotWidth=Math.max(0,Math.round(chartWidth-plotLeft-chart.marginRight)),chart.plotHeight=plotHeight=Math.max(0,Math.round(chartHeight-plotTop-chart.marginBottom)),chart.plotSizeX=inverted?plotHeight:plotWidth,chart.plotSizeY=inverted?plotWidth:plotHeight,chart.plotBorderWidth=optionsChart.plotBorderWidth||0,chart.spacingBox=renderer.spacingBox={x:spacing[3],y:spacing[0],width:chartWidth-spacing[3]-spacing[1],height:chartHeight-spacing[0]-spacing[2]},chart.plotBox=renderer.plotBox={x:plotLeft,y:plotTop,width:plotWidth,height:plotHeight},plotBorderWidth=2*Math.floor(chart.plotBorderWidth/2),clipX=Math.ceil(Math.max(plotBorderWidth,clipOffset[3])/2),clipY=Math.ceil(Math.max(plotBorderWidth,clipOffset[0])/2),chart.clipBox={x:clipX,y:clipY,width:Math.floor(chart.plotSizeX-Math.max(plotBorderWidth,clipOffset[1])/2-clipX),height:Math.max(0,Math.floor(chart.plotSizeY-Math.max(plotBorderWidth,clipOffset[2])/2-clipY))},skipAxes||each(chart.axes,function(axis){axis.setAxisSize(),axis.setAxisTranslation()})},resetMargins:function(){var chart=this,chartOptions=chart.options.chart;each(["margin","spacing"],function(target){var value=chartOptions[target],values=isObject(value)?value:[value,value,value,value];each(["Top","Right","Bottom","Left"],function(sideName,side){chart[target][side]=pick(chartOptions[target+sideName],values[side])})}),each(marginNames,function(m,side){chart[m]=pick(chart.margin[side],chart.spacing[side])}),chart.axisOffset=[0,0,0,0],chart.clipOffset=[0,0,0,0]},drawChartBox:function(){var chartBorderWidth,mgn,bgAttr,chart=this,optionsChart=chart.options.chart,renderer=chart.renderer,chartWidth=chart.chartWidth,chartHeight=chart.chartHeight,chartBackground=chart.chartBackground,plotBackground=chart.plotBackground,plotBorder=chart.plotBorder,plotBGImage=chart.plotBGImage,chartBackgroundColor=optionsChart.backgroundColor,plotBackgroundColor=optionsChart.plotBackgroundColor,plotBackgroundImage=optionsChart.plotBackgroundImage,plotLeft=chart.plotLeft,plotTop=chart.plotTop,plotWidth=chart.plotWidth,plotHeight=chart.plotHeight,plotBox=chart.plotBox,clipRect=chart.clipRect,clipBox=chart.clipBox,verb="animate";chartBackground||(chart.chartBackground=chartBackground=renderer.rect().addClass("highcharts-background").add(),verb="attr"),chartBorderWidth=optionsChart.borderWidth||0,mgn=chartBorderWidth+(optionsChart.shadow?8:0),bgAttr={fill:chartBackgroundColor||"none"},(chartBorderWidth||chartBackground["stroke-width"])&&(bgAttr.stroke=optionsChart.borderColor,bgAttr["stroke-width"]=chartBorderWidth),chartBackground.attr(bgAttr).shadow(optionsChart.shadow),chartBackground[verb]({x:mgn/2,y:mgn/2,width:chartWidth-mgn-chartBorderWidth%2,height:chartHeight-mgn-chartBorderWidth%2,r:optionsChart.borderRadius}),verb="animate",plotBackground||(verb="attr",chart.plotBackground=plotBackground=renderer.rect().addClass("highcharts-plot-background").add()),plotBackground[verb](plotBox),plotBackground.attr({fill:plotBackgroundColor||"none"}).shadow(optionsChart.plotShadow),plotBackgroundImage&&(plotBGImage?plotBGImage.animate(plotBox):chart.plotBGImage=renderer.image(plotBackgroundImage,plotLeft,plotTop,plotWidth,plotHeight).add()),clipRect?clipRect.animate({width:clipBox.width,height:clipBox.height}):chart.clipRect=renderer.clipRect(clipBox),verb="animate",plotBorder||(verb="attr",chart.plotBorder=plotBorder=renderer.rect().addClass("highcharts-plot-border").attr({zIndex:1}).add()),plotBorder.attr({stroke:optionsChart.plotBorderColor,"stroke-width":optionsChart.plotBorderWidth||0,fill:"none"}),plotBorder[verb](plotBorder.crisp({x:plotLeft,y:plotTop,width:plotWidth,height:plotHeight},-plotBorder.strokeWidth())),chart.isDirtyBox=!1},propFromSeries:function(){var klass,i,value,chart=this,optionsChart=chart.options.chart,seriesOptions=chart.options.series;each(["inverted","angular","polar"],function(key){for(klass=seriesTypes[optionsChart.type||optionsChart.defaultSeriesType],value=optionsChart[key]||klass&&klass.prototype[key],i=seriesOptions&&seriesOptions.length;!value&&i--;)klass=seriesTypes[seriesOptions[i].type],klass&&klass.prototype[key]&&(value=!0);chart[key]=value})},linkSeries:function(){var chart=this,chartSeries=chart.series;each(chartSeries,function(series){series.linkedSeries.length=0}),each(chartSeries,function(series){var linkedTo=series.options.linkedTo;isString(linkedTo)&&(linkedTo=":previous"===linkedTo?chart.series[series.index-1]:chart.get(linkedTo),linkedTo&&linkedTo.linkedParent!==series&&(linkedTo.linkedSeries.push(series),series.linkedParent=linkedTo,series.visible=pick(series.options.visible,linkedTo.options.visible,series.visible)))})},renderSeries:function(){each(this.series,function(serie){serie.translate(),serie.render()})},renderLabels:function(){var chart=this,labels=chart.options.labels;labels.items&&each(labels.items,function(label){var style=extend(labels.style,label.style),x=pInt(style.left)+chart.plotLeft,y=pInt(style.top)+chart.plotTop+12;delete style.left,delete style.top,chart.renderer.text(label.html,x,y).attr({zIndex:2}).css(style).add()})},render:function(){var tempWidth,tempHeight,redoHorizontal,redoVertical,chart=this,axes=chart.axes,renderer=chart.renderer,options=chart.options;chart.setTitle(),chart.legend=new Legend(chart,options.legend),chart.getStacks&&chart.getStacks(),chart.getMargins(!0),chart.setChartSize(),tempWidth=chart.plotWidth,tempHeight=chart.plotHeight=Math.max(chart.plotHeight-21,0),each(axes,function(axis){axis.setScale()}),chart.getAxisMargins(),redoHorizontal=tempWidth/chart.plotWidth>1.1,redoVertical=tempHeight/chart.plotHeight>1.05,(redoHorizontal||redoVertical)&&(each(axes,function(axis){(axis.horiz&&redoHorizontal||!axis.horiz&&redoVertical)&&axis.setTickInterval(!0)}),chart.getMargins()),chart.drawChartBox(),chart.hasCartesianSeries&&each(axes,function(axis){axis.visible&&axis.render()}),chart.seriesGroup||(chart.seriesGroup=renderer.g("series-group").attr({zIndex:3}).add()),chart.renderSeries(),chart.renderLabels(),chart.addCredits(),chart.setResponsive&&chart.setResponsive(),chart.hasRendered=!0},addCredits:function(credits){var chart=this;credits=merge(!0,this.options.credits,credits),credits.enabled&&!this.credits&&(this.credits=this.renderer.text(credits.text+(this.mapCredits||""),0,0).addClass("highcharts-credits").on("click",function(){credits.href&&(win.location.href=credits.href)}).attr({align:credits.position.align,zIndex:8}).css(credits.style).add().align(credits.position),this.credits.update=function(options){chart.credits=chart.credits.destroy(),chart.addCredits(options)})},destroy:function(){var i,chart=this,axes=chart.axes,series=chart.series,container=chart.container,parentNode=container&&container.parentNode;for(fireEvent(chart,"destroy"),chart.renderer.forExport?H.erase(charts,chart):charts[chart.index]=void 0,H.chartCount--,chart.renderTo.removeAttribute("data-highcharts-chart"),removeEvent(chart),i=axes.length;i--;)axes[i]=axes[i].destroy();for(this.scroller&&this.scroller.destroy&&this.scroller.destroy(),i=series.length;i--;)series[i]=series[i].destroy();each(["title","subtitle","chartBackground","plotBackground","plotBGImage","plotBorder","seriesGroup","clipRect","credits","pointer","rangeSelector","legend","resetZoomButton","tooltip","renderer"],function(name){var prop=chart[name];prop&&prop.destroy&&(chart[name]=prop.destroy())}),container&&(container.innerHTML="",removeEvent(container),parentNode&&discardElement(container)),objectEach(chart,function(val,key){delete chart[key]})},isReadyToRender:function(){var chart=this;return svg||win!=win.top||"complete"===doc.readyState?!0:(doc.attachEvent("onreadystatechange",function(){doc.detachEvent("onreadystatechange",chart.firstRender),"complete"===doc.readyState&&chart.firstRender()}),!1)},firstRender:function(){var chart=this,options=chart.options;chart.isReadyToRender()&&(chart.getContainer(),fireEvent(chart,"init"),chart.resetMargins(),chart.setChartSize(),chart.propFromSeries(),chart.getAxes(),each(options.series||[],function(serieOptions){chart.initSeries(serieOptions)}),chart.linkSeries(),fireEvent(chart,"beforeRender"),Pointer&&(chart.pointer=new Pointer(chart,options)),chart.render(),!chart.renderer.imgCount&&chart.onload&&chart.onload(),chart.temporaryDisplay(!0))},onload:function(){each([this.callback].concat(this.callbacks),function(fn){fn&&void 0!==this.index&&fn.apply(this,[this])},this),fireEvent(this,"load"),fireEvent(this,"render"),defined(this.index)&&this.options.chart.reflow!==!1&&this.initReflow(),this.onload=null}})}(Highcharts),function(Highcharts){var Point,H=Highcharts,each=H.each,extend=H.extend,erase=H.erase,fireEvent=H.fireEvent,format=H.format,isArray=H.isArray,isNumber=H.isNumber,pick=H.pick,removeEvent=H.removeEvent;Highcharts.Point=Point=function(){},Highcharts.Point.prototype={init:function(series,options,x){var colors,colorIndex,point=this,colorCount=series.chart.options.chart.colorCount;return point.series=series,point.color=series.color,point.applyOptions(options,x),series.options.colorByPoint?(colors=series.options.colors||series.chart.options.colors,point.color=point.color||colors[series.colorCounter],colorCount=colors.length,colorIndex=series.colorCounter,series.colorCounter++,series.colorCounter===colorCount&&(series.colorCounter=0)):colorIndex=series.colorIndex,point.colorIndex=pick(point.colorIndex,colorIndex),series.chart.pointCount++,point},applyOptions:function(options,x){var point=this,series=point.series,pointValKey=series.options.pointValKey||series.pointValKey;return options=Point.prototype.optionsToObject.call(this,options),extend(point,options),point.options=point.options?extend(point.options,options):options,options.group&&delete point.group,pointValKey&&(point.y=point[pointValKey]),point.isNull=pick(point.isValid&&!point.isValid(),null===point.x||!isNumber(point.y,!0)),point.selected&&(point.state="select"),"name"in point&&void 0===x&&series.xAxis&&series.xAxis.hasNames&&(point.x=series.xAxis.nameToX(point)),void 0===point.x&&series&&(point.x=void 0===x?series.autoIncrement(point):x),point},optionsToObject:function(options){var firstItemType,ret={},series=this.series,keys=series.options.keys,pointArrayMap=keys||series.pointArrayMap||["y"],valueCount=pointArrayMap.length,i=0,j=0;if(isNumber(options)||null===options)ret[pointArrayMap[0]]=options;else if(isArray(options))for(!keys&&options.length>valueCount&&(firstItemType=typeof options[0],"string"===firstItemType?ret.name=options[0]:"number"===firstItemType&&(ret.x=options[0]),i++);valueCount>j;)keys&&void 0===options[i]||(ret[pointArrayMap[j]]=options[i]),i++,j++;else"object"==typeof options&&(ret=options,options.dataLabels&&(series._hasPointLabels=!0),options.marker&&(series._hasPointMarkers=!0));return ret},getClassName:function(){return"highcharts-point"+(this.selected?" highcharts-point-select":"")+(this.negative?" highcharts-negative":"")+(this.isNull?" highcharts-null-point":"")+(void 0!==this.colorIndex?" highcharts-color-"+this.colorIndex:"")+(this.options.className?" "+this.options.className:"")+(this.zone&&this.zone.className?" "+this.zone.className.replace("highcharts-negative",""):"")},getZone:function(){var zone,series=this.series,zones=series.zones,zoneAxis=series.zoneAxis||"y",i=0;for(zone=zones[i];this[zoneAxis]>=zone.value;)zone=zones[++i];return zone&&zone.color&&!this.options.color&&(this.color=zone.color),zone},destroy:function(){var prop,point=this,series=point.series,chart=series.chart,hoverPoints=chart.hoverPoints;chart.pointCount--,hoverPoints&&(point.setState(),erase(hoverPoints,point),hoverPoints.length||(chart.hoverPoints=null)),point===chart.hoverPoint&&point.onMouseOut(),(point.graphic||point.dataLabel)&&(removeEvent(point),point.destroyElements()),point.legendItem&&chart.legend.destroyItem(point);for(prop in point)point[prop]=null},destroyElements:function(){for(var prop,point=this,props=["graphic","dataLabel","dataLabelUpper","connector","shadowGroup"],i=6;i--;)prop=props[i],point[prop]&&(point[prop]=point[prop].destroy())},getLabelConfig:function(){return{x:this.category,y:this.y,color:this.color,colorIndex:this.colorIndex,key:this.name||this.category,series:this.series,point:this,percentage:this.percentage,total:this.total||this.stackTotal}},tooltipFormatter:function(pointFormat){var series=this.series,seriesTooltipOptions=series.tooltipOptions,valueDecimals=pick(seriesTooltipOptions.valueDecimals,""),valuePrefix=seriesTooltipOptions.valuePrefix||"",valueSuffix=seriesTooltipOptions.valueSuffix||"";return each(series.pointArrayMap||["y"],function(key){key="{point."+key,(valuePrefix||valueSuffix)&&(pointFormat=pointFormat.replace(key+"}",valuePrefix+key+"}"+valueSuffix)),pointFormat=pointFormat.replace(key+"}",key+":,."+valueDecimals+"f}")}),format(pointFormat,{point:this,series:this.series},series.chart.time)},firePointEvent:function(eventType,eventArgs,defaultFunction){var point=this,series=this.series,seriesOptions=series.options;(seriesOptions.point.events[eventType]||point.options&&point.options.events&&point.options.events[eventType])&&this.importEvents(),"click"===eventType&&seriesOptions.allowPointSelect&&(defaultFunction=function(event){point.select&&point.select(null,event.ctrlKey||event.metaKey||event.shiftKey)}),fireEvent(this,eventType,eventArgs,defaultFunction)},visible:!0}}(Highcharts),function(H){var addEvent=H.addEvent,animObject=H.animObject,arrayMax=H.arrayMax,arrayMin=H.arrayMin,correctFloat=H.correctFloat,defaultOptions=H.defaultOptions,defaultPlotOptions=H.defaultPlotOptions,defined=H.defined,each=H.each,erase=H.erase,extend=H.extend,fireEvent=H.fireEvent,grep=H.grep,isArray=H.isArray,isNumber=H.isNumber,isString=H.isString,LegendSymbolMixin=H.LegendSymbolMixin,merge=H.merge,objectEach=H.objectEach,pick=H.pick,Point=H.Point,removeEvent=H.removeEvent,splat=H.splat,SVGElement=H.SVGElement,syncTimeout=H.syncTimeout,win=H.win;H.Series=H.seriesType("line",null,{lineWidth:2,allowPointSelect:!1,showCheckbox:!1,animation:{duration:1e3},events:{},marker:{lineWidth:0,lineColor:"#ffffff",radius:4,states:{hover:{animation:{duration:50},enabled:!0,radiusPlus:2,lineWidthPlus:1},select:{fillColor:"#cccccc",lineColor:"#000000",lineWidth:2}}},point:{events:{}},dataLabels:{align:"center",formatter:function(){return null===this.y?"":H.numberFormat(this.y,-1)},style:{fontSize:"11px",fontWeight:"bold",color:"contrast",textOutline:"1px contrast"},verticalAlign:"bottom",x:0,y:0,padding:5},cropThreshold:300,pointRange:0,softThreshold:!0,states:{hover:{animation:{duration:50},lineWidthPlus:1,marker:{},halo:{size:10,opacity:.25}},select:{marker:{}}},stickyTracking:!0,turboThreshold:1e3,findNearestPointBy:"x"},{isCartesian:!0,pointClass:Point,sorted:!0,requireSorting:!0,directTouch:!1,axisTypes:["xAxis","yAxis"],colorCounter:0,parallelArrays:["x","y"],coll:"series",init:function(chart,options){var events,lastSeries,series=this,chartSeries=chart.series;series.chart=chart,series.options=options=series.setOptions(options),series.linkedSeries=[],series.bindAxes(),extend(series,{name:options.name,state:"",visible:options.visible!==!1,selected:options.selected===!0}),events=options.events,objectEach(events,function(event,eventType){addEvent(series,eventType,event)}),(events&&events.click||options.point&&options.point.events&&options.point.events.click||options.allowPointSelect)&&(chart.runTrackerClick=!0),series.getColor(),series.getSymbol(),each(series.parallelArrays,function(key){series[key+"Data"]=[]}),series.setData(options.data,!1),series.isCartesian&&(chart.hasCartesianSeries=!0),chartSeries.length&&(lastSeries=chartSeries[chartSeries.length-1]),series._i=pick(lastSeries&&lastSeries._i,-1)+1,chart.orderSeries(this.insert(chartSeries))},insert:function(collection){var i,indexOption=this.options.index;if(isNumber(indexOption)){for(i=collection.length;i--;)if(indexOption>=pick(collection[i].options.index,collection[i]._i)){collection.splice(i+1,0,this);break}-1===i&&collection.unshift(this),i+=1}else collection.push(this);return pick(i,collection.length-1)},bindAxes:function(){var axisOptions,series=this,seriesOptions=series.options,chart=series.chart;each(series.axisTypes||[],function(AXIS){each(chart[AXIS],function(axis){axisOptions=axis.options,(seriesOptions[AXIS]===axisOptions.index||void 0!==seriesOptions[AXIS]&&seriesOptions[AXIS]===axisOptions.id||void 0===seriesOptions[AXIS]&&0===axisOptions.index)&&(series.insert(axis.series),series[AXIS]=axis,axis.isDirty=!0)}),series[AXIS]||series.optionalAxis===AXIS||H.error(18,!0)})},updateParallelArrays:function(point,i){var series=point.series,args=arguments,fn=isNumber(i)?function(key){var val="y"===key&&series.toYData?series.toYData(point):point[key];series[key+"Data"][i]=val}:function(key){Array.prototype[i].apply(series[key+"Data"],Array.prototype.slice.call(args,2))};each(series.parallelArrays,fn)},autoIncrement:function(){var date,pointInterval,options=this.options,xIncrement=this.xIncrement,pointIntervalUnit=options.pointIntervalUnit,dstCrossover=0,time=this.chart.time;return xIncrement=pick(xIncrement,options.pointStart,0),this.pointInterval=pointInterval=pick(this.pointInterval,options.pointInterval,1),pointIntervalUnit&&(date=new time.Date(xIncrement),"day"===pointIntervalUnit?date=+date[time.setDate](date[time.getDate]()+pointInterval):"month"===pointIntervalUnit?date=+date[time.setMonth](date[time.getMonth]()+pointInterval):"year"===pointIntervalUnit&&(date=+date[time.setFullYear](date[time.getFullYear]()+pointInterval)),time.variableTimezone&&(dstCrossover=time.getTimezoneOffset(date)-time.getTimezoneOffset(xIncrement)),pointInterval=date-xIncrement+dstCrossover),this.xIncrement=xIncrement+pointInterval,xIncrement},setOptions:function(itemOptions){var options,zones,chart=this.chart,chartOptions=chart.options,plotOptions=chartOptions.plotOptions,userOptions=chart.userOptions||{},userPlotOptions=userOptions.plotOptions||{},typeOptions=plotOptions[this.type];return this.userOptions=itemOptions,options=merge(typeOptions,plotOptions.series,itemOptions),this.tooltipOptions=merge(defaultOptions.tooltip,defaultOptions.plotOptions.series&&defaultOptions.plotOptions.series.tooltip,defaultOptions.plotOptions[this.type].tooltip,chartOptions.tooltip.userOptions,plotOptions.series&&plotOptions.series.tooltip,plotOptions[this.type].tooltip,itemOptions.tooltip),this.stickyTracking=pick(itemOptions.stickyTracking,userPlotOptions[this.type]&&userPlotOptions[this.type].stickyTracking,userPlotOptions.series&&userPlotOptions.series.stickyTracking,this.tooltipOptions.shared&&!this.noSharedTooltip?!0:options.stickyTracking),null===typeOptions.marker&&delete options.marker,this.zoneAxis=options.zoneAxis,zones=this.zones=(options.zones||[]).slice(),!options.negativeColor&&!options.negativeFillColor||options.zones||zones.push({value:options[this.zoneAxis+"Threshold"]||options.threshold||0,className:"highcharts-negative",color:options.negativeColor,fillColor:options.negativeFillColor}),zones.length&&defined(zones[zones.length-1].value)&&zones.push({color:this.color,fillColor:this.fillColor}),options},getCyclic:function(prop,value,defaults){var i,setting,chart=this.chart,userOptions=this.userOptions,indexName=prop+"Index",counterName=prop+"Counter",len=defaults?defaults.length:pick(chart.options.chart[prop+"Count"],chart[prop+"Count"]);value||(setting=pick(userOptions[indexName],userOptions["_"+indexName]),defined(setting)?i=setting:(chart.series.length||(chart[counterName]=0),userOptions["_"+indexName]=i=chart[counterName]%len,chart[counterName]+=1),defaults&&(value=defaults[i])),void 0!==i&&(this[indexName]=i),this[prop]=value},getColor:function(){this.options.colorByPoint?this.options.color=null:this.getCyclic("color",this.options.color||defaultPlotOptions[this.type].color,this.chart.options.colors)},getSymbol:function(){var seriesMarkerOption=this.options.marker;this.getCyclic("symbol",seriesMarkerOption.symbol,this.chart.options.symbols)},drawLegendSymbol:LegendSymbolMixin.drawLineMarker,setData:function(data,redraw,animation,updatePoints){var dataLength,i,pt,series=this,oldData=series.points,oldDataLength=oldData&&oldData.length||0,options=series.options,chart=series.chart,firstPoint=null,xAxis=series.xAxis,turboThreshold=options.turboThreshold,xData=this.xData,yData=this.yData,pointArrayMap=series.pointArrayMap,valueCount=pointArrayMap&&pointArrayMap.length;if(data=data||[],dataLength=data.length,redraw=pick(redraw,!0),updatePoints!==!1&&dataLength&&oldDataLength===dataLength&&!series.cropped&&!series.hasGroupedData&&series.visible)each(data,function(point,i){oldData[i].update&&point!==options.data[i]&&oldData[i].update(point,!1,null,!1)});else{if(series.xIncrement=null,series.colorCounter=0,each(this.parallelArrays,function(key){series[key+"Data"].length=0}),turboThreshold&&dataLength>turboThreshold){for(i=0;null===firstPoint&&dataLength>i;)firstPoint=data[i],i++;if(isNumber(firstPoint))for(i=0;dataLength>i;i++)xData[i]=this.autoIncrement(),yData[i]=data[i];else if(isArray(firstPoint))if(valueCount)for(i=0;dataLength>i;i++)pt=data[i],xData[i]=pt[0],yData[i]=pt.slice(1,valueCount+1);else for(i=0;dataLength>i;i++)pt=data[i],xData[i]=pt[0],yData[i]=pt[1];else H.error(12)}else for(i=0;dataLength>i;i++)void 0!==data[i]&&(pt={series:series},series.pointClass.prototype.applyOptions.apply(pt,[data[i]]),series.updateParallelArrays(pt,i));for(yData&&isString(yData[0])&&H.error(14,!0),series.data=[],series.options.data=series.userOptions.data=data,i=oldDataLength;i--;)oldData[i]&&oldData[i].destroy&&oldData[i].destroy();xAxis&&(xAxis.minRange=xAxis.userMinRange),series.isDirty=chart.isDirtyBox=!0,series.isDirtyData=!!oldData,animation=!1}"point"===options.legendType&&(this.processData(),this.generatePoints()),redraw&&chart.redraw(animation)},processData:function(force){var croppedData,cropped,distance,closestPointRange,i,xExtremes,min,max,series=this,processedXData=series.xData,processedYData=series.yData,dataLength=processedXData.length,cropStart=0,xAxis=series.xAxis,options=series.options,cropThreshold=options.cropThreshold,getExtremesFromAll=series.getExtremesFromAll||options.getExtremesFromAll,isCartesian=series.isCartesian,val2lin=xAxis&&xAxis.val2lin,isLog=xAxis&&xAxis.isLog,throwOnUnsorted=series.requireSorting;if(isCartesian&&!series.isDirty&&!xAxis.isDirty&&!series.yAxis.isDirty&&!force)return!1;for(xAxis&&(xExtremes=xAxis.getExtremes(),min=xExtremes.min,max=xExtremes.max),isCartesian&&series.sorted&&!getExtremesFromAll&&(!cropThreshold||dataLength>cropThreshold||series.forceCrop)&&(processedXData[dataLength-1]<min||processedXData[0]>max?(processedXData=[],processedYData=[]):(processedXData[0]<min||processedXData[dataLength-1]>max)&&(croppedData=this.cropData(series.xData,series.yData,min,max),processedXData=croppedData.xData,processedYData=croppedData.yData,cropStart=croppedData.start,cropped=!0)),i=processedXData.length||1;--i;)distance=isLog?val2lin(processedXData[i])-val2lin(processedXData[i-1]):processedXData[i]-processedXData[i-1],distance>0&&(void 0===closestPointRange||closestPointRange>distance)?closestPointRange=distance:0>distance&&throwOnUnsorted&&(H.error(15),throwOnUnsorted=!1);series.cropped=cropped,series.cropStart=cropStart,series.processedXData=processedXData,series.processedYData=processedYData,series.closestPointRange=closestPointRange},cropData:function(xData,yData,min,max){var i,j,dataLength=xData.length,cropStart=0,cropEnd=dataLength,cropShoulder=pick(this.cropShoulder,1);for(i=0;dataLength>i;i++)if(xData[i]>=min){cropStart=Math.max(0,i-cropShoulder);break}for(j=i;dataLength>j;j++)if(xData[j]>max){cropEnd=j+cropShoulder;break}return{xData:xData.slice(cropStart,cropEnd),yData:yData.slice(cropStart,cropEnd),start:cropStart,end:cropEnd}},generatePoints:function(){var dataLength,cursor,point,i,series=this,options=series.options,dataOptions=options.data,data=series.data,processedXData=series.processedXData,processedYData=series.processedYData,PointClass=series.pointClass,processedDataLength=processedXData.length,cropStart=series.cropStart||0,hasGroupedData=series.hasGroupedData,keys=options.keys,points=[];if(!data&&!hasGroupedData){var arr=[];arr.length=dataOptions.length,data=series.data=arr}for(keys&&hasGroupedData&&(series.options.keys=!1),i=0;processedDataLength>i;i++)cursor=cropStart+i,hasGroupedData?(point=(new PointClass).init(series,[processedXData[i]].concat(splat(processedYData[i]))),point.dataGroup=series.groupMap[i]):(point=data[cursor],point||void 0===dataOptions[cursor]||(data[cursor]=point=(new PointClass).init(series,dataOptions[cursor],processedXData[i]))),point&&(point.index=cursor,points[i]=point);if(series.options.keys=keys,data&&(processedDataLength!==(dataLength=data.length)||hasGroupedData))for(i=0;dataLength>i;i++)i!==cropStart||hasGroupedData||(i+=processedDataLength),data[i]&&(data[i].destroyElements(),data[i].plotX=void 0);series.data=data,series.points=points},getExtremes:function(yData){var yDataLength,validValue,withinRange,x,y,i,j,xAxis=this.xAxis,yAxis=this.yAxis,xData=this.processedXData,activeYData=[],activeCounter=0,xExtremes=xAxis.getExtremes(),xMin=xExtremes.min,xMax=xExtremes.max;for(yData=yData||this.stackedYData||this.processedYData||[],yDataLength=yData.length,i=0;yDataLength>i;i++)if(x=xData[i],y=yData[i],validValue=(isNumber(y,!0)||isArray(y))&&(!yAxis.positiveValuesOnly||y.length||y>0),withinRange=this.getExtremesFromAll||this.options.getExtremesFromAll||this.cropped||(xData[i+1]||x)>=xMin&&(xData[i-1]||x)<=xMax,validValue&&withinRange)if(j=y.length)for(;j--;)"number"==typeof y[j]&&(activeYData[activeCounter++]=y[j]);else activeYData[activeCounter++]=y;this.dataMin=arrayMin(activeYData),this.dataMax=arrayMax(activeYData)},translate:function(){function limitedRange(val){return Math.min(Math.max(-1e5,val),1e5)}this.processedXData||this.processData(),this.generatePoints();var i,plotX,plotY,lastPlotX,stackIndicator,series=this,options=series.options,stacking=options.stacking,xAxis=series.xAxis,categories=xAxis.categories,yAxis=series.yAxis,points=series.points,dataLength=points.length,hasModifyValue=!!series.modifyValue,pointPlacement=options.pointPlacement,dynamicallyPlaced="between"===pointPlacement||isNumber(pointPlacement),threshold=options.threshold,stackThreshold=options.startFromThreshold?threshold:0,closestPointRangePx=Number.MAX_VALUE;
for("between"===pointPlacement&&(pointPlacement=.5),isNumber(pointPlacement)&&(pointPlacement*=pick(options.pointRange||xAxis.pointRange)),i=0;dataLength>i;i++){var pointStack,stackValues,point=points[i],xValue=point.x,yValue=point.y,yBottom=point.low,stack=stacking&&yAxis.stacks[(series.negStacks&&(stackThreshold?0:threshold)>yValue?"-":"")+series.stackKey];yAxis.positiveValuesOnly&&null!==yValue&&0>=yValue&&(point.isNull=!0),point.plotX=plotX=correctFloat(limitedRange(xAxis.translate(xValue,0,0,0,1,pointPlacement,"flags"===this.type))),stacking&&series.visible&&!point.isNull&&stack&&stack[xValue]&&(stackIndicator=series.getStackIndicator(stackIndicator,xValue,series.index),pointStack=stack[xValue],stackValues=pointStack.points[stackIndicator.key],yBottom=stackValues[0],yValue=stackValues[1],yBottom===stackThreshold&&stackIndicator.key===stack[xValue].base&&(yBottom=pick(threshold,yAxis.min)),yAxis.positiveValuesOnly&&0>=yBottom&&(yBottom=null),point.total=point.stackTotal=pointStack.total,point.percentage=pointStack.total&&point.y/pointStack.total*100,point.stackY=yValue,pointStack.setOffset(series.pointXOffset||0,series.barW||0)),point.yBottom=defined(yBottom)?limitedRange(yAxis.translate(yBottom,0,1,0,1)):null,hasModifyValue&&(yValue=series.modifyValue(yValue,point)),point.plotY=plotY="number"==typeof yValue&&1/0!==yValue?limitedRange(yAxis.translate(yValue,0,1,0,1)):void 0,point.isInside=void 0!==plotY&&plotY>=0&&plotY<=yAxis.len&&plotX>=0&&plotX<=xAxis.len,point.clientX=dynamicallyPlaced?correctFloat(xAxis.translate(xValue,0,0,0,1,pointPlacement)):plotX,point.negative=point.y<(threshold||0),point.category=categories&&void 0!==categories[point.x]?categories[point.x]:point.x,point.isNull||(void 0!==lastPlotX&&(closestPointRangePx=Math.min(closestPointRangePx,Math.abs(plotX-lastPlotX))),lastPlotX=plotX),point.zone=this.zones.length&&point.getZone()}series.closestPointRangePx=closestPointRangePx},getValidPoints:function(points,insideOnly){var chart=this.chart;return grep(points||this.points||[],function(point){return insideOnly&&!chart.isInsidePlot(point.plotX,point.plotY,chart.inverted)?!1:!point.isNull})},setClip:function(animation){var chart=this.chart,options=this.options,renderer=chart.renderer,inverted=chart.inverted,seriesClipBox=this.clipBox,clipBox=seriesClipBox||chart.clipBox,sharedClipKey=this.sharedClipKey||["_sharedClip",animation&&animation.duration,animation&&animation.easing,clipBox.height,options.xAxis,options.yAxis].join(","),clipRect=chart[sharedClipKey],markerClipRect=chart[sharedClipKey+"m"];clipRect||(animation&&(clipBox.width=0,inverted&&(clipBox.x=chart.plotSizeX),chart[sharedClipKey+"m"]=markerClipRect=renderer.clipRect(inverted?chart.plotSizeX+99:-99,inverted?-chart.plotLeft:-chart.plotTop,99,inverted?chart.chartWidth:chart.chartHeight)),chart[sharedClipKey]=clipRect=renderer.clipRect(clipBox),clipRect.count={length:0}),animation&&(clipRect.count[this.index]||(clipRect.count[this.index]=!0,clipRect.count.length+=1)),options.clip!==!1&&(this.group.clip(animation||seriesClipBox?clipRect:chart.clipRect),this.markerGroup.clip(markerClipRect),this.sharedClipKey=sharedClipKey),animation||(clipRect.count[this.index]&&(delete clipRect.count[this.index],clipRect.count.length-=1),0===clipRect.count.length&&sharedClipKey&&chart[sharedClipKey]&&(seriesClipBox||(chart[sharedClipKey]=chart[sharedClipKey].destroy()),chart[sharedClipKey+"m"]&&(chart[sharedClipKey+"m"]=chart[sharedClipKey+"m"].destroy())))},animate:function(init){var clipRect,sharedClipKey,series=this,chart=series.chart,animation=animObject(series.options.animation);init?series.setClip(animation):(sharedClipKey=this.sharedClipKey,clipRect=chart[sharedClipKey],clipRect&&clipRect.animate({width:chart.plotSizeX,x:0},animation),chart[sharedClipKey+"m"]&&chart[sharedClipKey+"m"].animate({width:chart.plotSizeX+99,x:0},animation),series.animate=null)},afterAnimate:function(){this.setClip(),fireEvent(this,"afterAnimate"),this.finishedAnimating=!0},drawPoints:function(){var i,point,symbol,graphic,pointMarkerOptions,hasPointMarker,enabled,isInside,markerAttribs,series=this,points=series.points,chart=series.chart,options=series.options,seriesMarkerOptions=options.marker,markerGroup=series[series.specialGroup]||series.markerGroup,xAxis=series.xAxis,globallyEnabled=pick(seriesMarkerOptions.enabled,xAxis.isRadial?!0:null,series.closestPointRangePx>=2*seriesMarkerOptions.radius);if(seriesMarkerOptions.enabled!==!1||series._hasPointMarkers)for(i=0;i<points.length;i++)point=points[i],graphic=point.graphic,pointMarkerOptions=point.marker||{},hasPointMarker=!!point.marker,enabled=globallyEnabled&&void 0===pointMarkerOptions.enabled||pointMarkerOptions.enabled,isInside=point.isInside,enabled&&!point.isNull?(symbol=pick(pointMarkerOptions.symbol,series.symbol),point.hasImage=0===symbol.indexOf("url"),markerAttribs=series.markerAttribs(point,point.selected&&"select"),graphic?graphic[isInside?"show":"hide"](!0).animate(markerAttribs):isInside&&(markerAttribs.width>0||point.hasImage)&&(point.graphic=graphic=chart.renderer.symbol(symbol,markerAttribs.x,markerAttribs.y,markerAttribs.width,markerAttribs.height,hasPointMarker?pointMarkerOptions:seriesMarkerOptions).add(markerGroup)),graphic&&graphic.attr(series.pointAttribs(point,point.selected&&"select")),graphic&&graphic.addClass(point.getClassName(),!0)):graphic&&(point.graphic=graphic.destroy())},markerAttribs:function(point,state){var seriesStateOptions,pointStateOptions,attribs,seriesMarkerOptions=this.options.marker,pointMarkerOptions=point.marker||{},radius=pick(pointMarkerOptions.radius,seriesMarkerOptions.radius);return state&&(seriesStateOptions=seriesMarkerOptions.states[state],pointStateOptions=pointMarkerOptions.states&&pointMarkerOptions.states[state],radius=pick(pointStateOptions&&pointStateOptions.radius,seriesStateOptions&&seriesStateOptions.radius,radius+(seriesStateOptions&&seriesStateOptions.radiusPlus||0))),point.hasImage&&(radius=0),attribs={x:Math.floor(point.plotX)-radius,y:point.plotY-radius},radius&&(attribs.width=attribs.height=2*radius),attribs},pointAttribs:function(point,state){var seriesStateOptions,pointStateOptions,fill,stroke,seriesMarkerOptions=this.options.marker,pointOptions=point&&point.options,pointMarkerOptions=pointOptions&&pointOptions.marker||{},color=this.color,pointColorOption=pointOptions&&pointOptions.color,pointColor=point&&point.color,strokeWidth=pick(pointMarkerOptions.lineWidth,seriesMarkerOptions.lineWidth),zoneColor=point&&point.zone&&point.zone.color;return color=pointColorOption||zoneColor||pointColor||color,fill=pointMarkerOptions.fillColor||seriesMarkerOptions.fillColor||color,stroke=pointMarkerOptions.lineColor||seriesMarkerOptions.lineColor||color,state&&(seriesStateOptions=seriesMarkerOptions.states[state],pointStateOptions=pointMarkerOptions.states&&pointMarkerOptions.states[state]||{},strokeWidth=pick(pointStateOptions.lineWidth,seriesStateOptions.lineWidth,strokeWidth+pick(pointStateOptions.lineWidthPlus,seriesStateOptions.lineWidthPlus,0)),fill=pointStateOptions.fillColor||seriesStateOptions.fillColor||fill,stroke=pointStateOptions.lineColor||seriesStateOptions.lineColor||stroke),{stroke:stroke,"stroke-width":strokeWidth,fill:fill}},destroy:function(){var destroy,i,point,axis,series=this,chart=series.chart,issue134=/AppleWebKit\/533/.test(win.navigator.userAgent),data=series.data||[];for(fireEvent(series,"destroy"),removeEvent(series),each(series.axisTypes||[],function(AXIS){axis=series[AXIS],axis&&axis.series&&(erase(axis.series,series),axis.isDirty=axis.forceRedraw=!0)}),series.legendItem&&series.chart.legend.destroyItem(series),i=data.length;i--;)point=data[i],point&&point.destroy&&point.destroy();series.points=null,clearTimeout(series.animationTimeout),objectEach(series,function(val,prop){val instanceof SVGElement&&!val.survive&&(destroy=issue134&&"group"===prop?"hide":"destroy",val[destroy]())}),chart.hoverSeries===series&&(chart.hoverSeries=null),erase(chart.series,series),chart.orderSeries(),objectEach(series,function(val,prop){delete series[prop]})},getGraphPath:function(points,nullsAsZeroes,connectCliffs){var reversed,gap,series=this,options=series.options,step=options.step,graphPath=[],xMap=[];return points=points||series.points,reversed=points.reversed,reversed&&points.reverse(),step={right:1,center:2}[step]||step&&3,step&&reversed&&(step=4-step),!options.connectNulls||nullsAsZeroes||connectCliffs||(points=this.getValidPoints(points)),each(points,function(point,i){var pathToPoint,plotX=point.plotX,plotY=point.plotY,lastPoint=points[i-1];(point.leftCliff||lastPoint&&lastPoint.rightCliff)&&!connectCliffs&&(gap=!0),point.isNull&&!defined(nullsAsZeroes)&&i>0?gap=!options.connectNulls:point.isNull&&!nullsAsZeroes?gap=!0:(0===i||gap?pathToPoint=["M",point.plotX,point.plotY]:series.getPointSpline?pathToPoint=series.getPointSpline(points,point,i):step?(pathToPoint=1===step?["L",lastPoint.plotX,plotY]:2===step?["L",(lastPoint.plotX+plotX)/2,lastPoint.plotY,"L",(lastPoint.plotX+plotX)/2,plotY]:["L",plotX,lastPoint.plotY],pathToPoint.push("L",plotX,plotY)):pathToPoint=["L",plotX,plotY],xMap.push(point.x),step&&xMap.push(point.x),graphPath.push.apply(graphPath,pathToPoint),gap=!1)}),graphPath.xMap=xMap,series.graphPath=graphPath,graphPath},drawGraph:function(){var series=this,options=this.options,graphPath=(this.gappedPath||this.getGraphPath).call(this),props=[["graph","highcharts-graph",options.lineColor||this.color,options.dashStyle]];each(this.zones,function(zone,i){props.push(["zone-graph-"+i,"highcharts-graph highcharts-zone-graph-"+i+" "+(zone.className||""),zone.color||series.color,zone.dashStyle||options.dashStyle])}),each(props,function(prop,i){var attribs,graphKey=prop[0],graph=series[graphKey];graph?(graph.endX=series.preventGraphAnimation?null:graphPath.xMap,graph.animate({d:graphPath})):graphPath.length&&(series[graphKey]=series.chart.renderer.path(graphPath).addClass(prop[1]).attr({zIndex:1}).add(series.group),attribs={stroke:prop[2],"stroke-width":options.lineWidth,fill:series.fillGraph&&series.color||"none"},prop[3]?attribs.dashstyle=prop[3]:"square"!==options.linecap&&(attribs["stroke-linecap"]=attribs["stroke-linejoin"]="round"),graph=series[graphKey].attr(attribs).shadow(2>i&&options.shadow)),graph&&(graph.startX=graphPath.xMap,graph.isArea=graphPath.isArea)})},applyZones:function(){var translatedFrom,translatedTo,clipAttr,extremes,reversed,horiz,pxRange,pxPosMin,pxPosMax,series=this,chart=this.chart,renderer=chart.renderer,zones=this.zones,clips=this.clips||[],graph=this.graph,area=this.area,chartSizeMax=Math.max(chart.chartWidth,chart.chartHeight),axis=this[(this.zoneAxis||"y")+"Axis"],inverted=chart.inverted,ignoreZones=!1;zones.length&&(graph||area)&&axis&&void 0!==axis.min&&(reversed=axis.reversed,horiz=axis.horiz,graph&&graph.hide(),area&&area.hide(),extremes=axis.getExtremes(),each(zones,function(threshold,i){translatedFrom=reversed?horiz?chart.plotWidth:0:horiz?0:axis.toPixels(extremes.min),translatedFrom=Math.min(Math.max(pick(translatedTo,translatedFrom),0),chartSizeMax),translatedTo=Math.min(Math.max(Math.round(axis.toPixels(pick(threshold.value,extremes.max),!0)),0),chartSizeMax),ignoreZones&&(translatedFrom=translatedTo=axis.toPixels(extremes.max)),pxRange=Math.abs(translatedFrom-translatedTo),pxPosMin=Math.min(translatedFrom,translatedTo),pxPosMax=Math.max(translatedFrom,translatedTo),axis.isXAxis?(clipAttr={x:inverted?pxPosMax:pxPosMin,y:0,width:pxRange,height:chartSizeMax},horiz||(clipAttr.x=chart.plotHeight-clipAttr.x)):(clipAttr={x:0,y:inverted?pxPosMax:pxPosMin,width:chartSizeMax,height:pxRange},horiz&&(clipAttr.y=chart.plotWidth-clipAttr.y)),inverted&&renderer.isVML&&(clipAttr=axis.isXAxis?{x:0,y:reversed?pxPosMin:pxPosMax,height:clipAttr.width,width:chart.chartWidth}:{x:clipAttr.y-chart.plotLeft-chart.spacingBox.x,y:0,width:clipAttr.height,height:chart.chartHeight}),clips[i]?clips[i].animate(clipAttr):(clips[i]=renderer.clipRect(clipAttr),graph&&series["zone-graph-"+i].clip(clips[i]),area&&series["zone-area-"+i].clip(clips[i])),ignoreZones=threshold.value>extremes.max}),this.clips=clips)},invertGroups:function(inverted){function setInvert(){each(["group","markerGroup"],function(groupName){series[groupName]&&(chart.renderer.isVML&&series[groupName].attr({width:series.yAxis.len,height:series.xAxis.len}),series[groupName].width=series.yAxis.len,series[groupName].height=series.xAxis.len,series[groupName].invert(inverted))})}var remover,series=this,chart=series.chart;series.xAxis&&(remover=addEvent(chart,"resize",setInvert),addEvent(series,"destroy",remover),setInvert(inverted),series.invertGroups=setInvert)},plotGroup:function(prop,name,visibility,zIndex,parent){var group=this[prop],isNew=!group;return isNew&&(this[prop]=group=this.chart.renderer.g().attr({zIndex:zIndex||.1}).add(parent)),group.addClass("highcharts-"+name+" highcharts-series-"+this.index+" highcharts-"+this.type+"-series "+(defined(this.colorIndex)?"highcharts-color-"+this.colorIndex+" ":"")+(this.options.className||"")+(group.hasClass("highcharts-tracker")?" highcharts-tracker":""),!0),group.attr({visibility:visibility})[isNew?"attr":"animate"](this.getPlotBox()),group},getPlotBox:function(){var chart=this.chart,xAxis=this.xAxis,yAxis=this.yAxis;return chart.inverted&&(xAxis=yAxis,yAxis=this.xAxis),{translateX:xAxis?xAxis.left:chart.plotLeft,translateY:yAxis?yAxis.top:chart.plotTop,scaleX:1,scaleY:1}},render:function(){var group,series=this,chart=series.chart,options=series.options,animDuration=!!series.animate&&chart.renderer.isSVG&&animObject(options.animation).duration,visibility=series.visible?"inherit":"hidden",zIndex=options.zIndex,hasRendered=series.hasRendered,chartSeriesGroup=chart.seriesGroup,inverted=chart.inverted;group=series.plotGroup("group","series",visibility,zIndex,chartSeriesGroup),series.markerGroup=series.plotGroup("markerGroup","markers",visibility,zIndex,chartSeriesGroup),animDuration&&series.animate(!0),group.inverted=series.isCartesian?inverted:!1,series.drawGraph&&(series.drawGraph(),series.applyZones()),series.drawDataLabels&&series.drawDataLabels(),series.visible&&series.drawPoints(),series.drawTracker&&series.options.enableMouseTracking!==!1&&series.drawTracker(),series.invertGroups(inverted),options.clip===!1||series.sharedClipKey||hasRendered||group.clip(chart.clipRect),animDuration&&series.animate(),hasRendered||(series.animationTimeout=syncTimeout(function(){series.afterAnimate()},animDuration)),series.isDirty=!1,series.hasRendered=!0},redraw:function(){var series=this,chart=series.chart,wasDirty=series.isDirty||series.isDirtyData,group=series.group,xAxis=series.xAxis,yAxis=series.yAxis;group&&(chart.inverted&&group.attr({width:chart.plotWidth,height:chart.plotHeight}),group.animate({translateX:pick(xAxis&&xAxis.left,chart.plotLeft),translateY:pick(yAxis&&yAxis.top,chart.plotTop)})),series.translate(),series.render(),wasDirty&&delete this.kdTree},kdAxisArray:["clientX","plotY"],searchPoint:function(e,compareX){var series=this,xAxis=series.xAxis,yAxis=series.yAxis,inverted=series.chart.inverted;return this.searchKDTree({clientX:inverted?xAxis.len-e.chartY+xAxis.pos:e.chartX-xAxis.pos,plotY:inverted?yAxis.len-e.chartX+yAxis.pos:e.chartY-yAxis.pos},compareX)},buildKDTree:function(){function _kdtree(points,depth,dimensions){var axis,median,length=points&&points.length;return length?(axis=series.kdAxisArray[depth%dimensions],points.sort(function(a,b){return a[axis]-b[axis]}),median=Math.floor(length/2),{point:points[median],left:_kdtree(points.slice(0,median),depth+1,dimensions),right:_kdtree(points.slice(median+1),depth+1,dimensions)}):void 0}function startRecursive(){series.kdTree=_kdtree(series.getValidPoints(null,!series.directTouch),dimensions,dimensions),series.buildingKdTree=!1}this.buildingKdTree=!0;var series=this,dimensions=series.options.findNearestPointBy.indexOf("y")>-1?2:1;delete series.kdTree,syncTimeout(startRecursive,series.options.kdNow?0:1)},searchKDTree:function(point,compareX){function setDistance(p1,p2){var x=defined(p1[kdX])&&defined(p2[kdX])?Math.pow(p1[kdX]-p2[kdX],2):null,y=defined(p1[kdY])&&defined(p2[kdY])?Math.pow(p1[kdY]-p2[kdY],2):null,r=(x||0)+(y||0);p2.dist=defined(r)?Math.sqrt(r):Number.MAX_VALUE,p2.distX=defined(x)?Math.sqrt(x):Number.MAX_VALUE}function _search(search,tree,depth,dimensions){var tdist,sideA,sideB,nPoint1,nPoint2,point=tree.point,axis=series.kdAxisArray[depth%dimensions],ret=point;return setDistance(search,point),tdist=search[axis]-point[axis],sideA=0>tdist?"left":"right",sideB=0>tdist?"right":"left",tree[sideA]&&(nPoint1=_search(search,tree[sideA],depth+1,dimensions),ret=nPoint1[kdComparer]<ret[kdComparer]?nPoint1:point),tree[sideB]&&Math.sqrt(tdist*tdist)<ret[kdComparer]&&(nPoint2=_search(search,tree[sideB],depth+1,dimensions),ret=nPoint2[kdComparer]<ret[kdComparer]?nPoint2:ret),ret}var series=this,kdX=this.kdAxisArray[0],kdY=this.kdAxisArray[1],kdComparer=compareX?"distX":"dist",kdDimensions=series.options.findNearestPointBy.indexOf("y")>-1?2:1;return this.kdTree||this.buildingKdTree||this.buildKDTree(),this.kdTree?_search(point,this.kdTree,kdDimensions,kdDimensions):void 0}})}(Highcharts),function(H){var Axis=H.Axis,Chart=H.Chart,correctFloat=H.correctFloat,defined=H.defined,destroyObjectProperties=H.destroyObjectProperties,each=H.each,format=H.format,objectEach=H.objectEach,pick=H.pick,Series=H.Series;H.StackItem=function(axis,options,isNegative,x,stackOption){var inverted=axis.chart.inverted;this.axis=axis,this.isNegative=isNegative,this.options=options,this.x=x,this.total=null,this.points={},this.stack=stackOption,this.leftCliff=0,this.rightCliff=0,this.alignOptions={align:options.align||(inverted?isNegative?"left":"right":"center"),verticalAlign:options.verticalAlign||(inverted?"middle":isNegative?"bottom":"top"),y:pick(options.y,inverted?4:isNegative?14:-6),x:pick(options.x,inverted?isNegative?-6:6:0)},this.textAlign=options.textAlign||(inverted?isNegative?"right":"left":"center")},H.StackItem.prototype={destroy:function(){destroyObjectProperties(this,this.axis)},render:function(group){var chart=this.axis.chart,options=this.options,formatOption=options.format,str=formatOption?format(formatOption,this,chart.time):options.formatter.call(this);this.label?this.label.attr({text:str,visibility:"hidden"}):this.label=chart.renderer.text(str,null,null,options.useHTML).css(options.style).attr({align:this.textAlign,rotation:options.rotation,visibility:"hidden"}).add(group)},setOffset:function(xOffset,xWidth){var alignAttr,stackItem=this,axis=stackItem.axis,chart=axis.chart,y=axis.translate(axis.usePercentage?100:stackItem.total,0,0,0,1),yZero=axis.translate(0),h=Math.abs(y-yZero),x=chart.xAxis[0].translate(stackItem.x)+xOffset,stackBox=stackItem.getStackBox(chart,stackItem,x,y,xWidth,h),label=stackItem.label;label&&(label.align(stackItem.alignOptions,null,stackBox),alignAttr=label.alignAttr,label[stackItem.options.crop===!1||chart.isInsidePlot(alignAttr.x,alignAttr.y)?"show":"hide"](!0))},getStackBox:function(chart,stackItem,x,y,xWidth,h){var reversed=stackItem.axis.reversed,inverted=chart.inverted,plotHeight=chart.plotHeight,neg=stackItem.isNegative&&!reversed||!stackItem.isNegative&&reversed;return{x:inverted?neg?y:y-h:x,y:inverted?plotHeight-x-xWidth:neg?plotHeight-y-h:plotHeight-y,width:inverted?h:xWidth,height:inverted?xWidth:h}}},Chart.prototype.getStacks=function(){var chart=this;each(chart.yAxis,function(axis){axis.stacks&&axis.hasVisibleSeries&&(axis.oldStacks=axis.stacks)}),each(chart.series,function(series){!series.options.stacking||series.visible!==!0&&chart.options.chart.ignoreHiddenSeries!==!1||(series.stackKey=series.type+pick(series.options.stack,""))})},Axis.prototype.buildStacks=function(){var i,axisSeries=this.series,reversedStacks=pick(this.options.reversedStacks,!0),len=axisSeries.length;if(!this.isXAxis){for(this.usePercentage=!1,i=len;i--;)axisSeries[reversedStacks?i:len-i-1].setStackedPoints();for(i=0;len>i;i++)axisSeries[i].modifyStacks()}},Axis.prototype.renderStackTotals=function(){var axis=this,chart=axis.chart,renderer=chart.renderer,stacks=axis.stacks,stackTotalGroup=axis.stackTotalGroup;stackTotalGroup||(axis.stackTotalGroup=stackTotalGroup=renderer.g("stack-labels").attr({visibility:"visible",zIndex:6}).add()),stackTotalGroup.translate(chart.plotLeft,chart.plotTop),objectEach(stacks,function(type){objectEach(type,function(stack){stack.render(stackTotalGroup)})})},Axis.prototype.resetStacks=function(){var axis=this,stacks=axis.stacks;axis.isXAxis||objectEach(stacks,function(type){objectEach(type,function(stack,key){stack.touched<axis.stacksTouched?(stack.destroy(),delete type[key]):(stack.total=null,stack.cumulative=null)})})},Axis.prototype.cleanStacks=function(){var stacks;this.isXAxis||(this.oldStacks&&(stacks=this.stacks=this.oldStacks),objectEach(stacks,function(type){objectEach(type,function(stack){stack.cumulative=stack.total})}))},Series.prototype.setStackedPoints=function(){if(this.options.stacking&&(this.visible===!0||this.chart.options.chart.ignoreHiddenSeries===!1)){var stackIndicator,isNegative,stack,other,key,pointKey,i,x,y,series=this,xData=series.processedXData,yData=series.processedYData,stackedYData=[],yDataLength=yData.length,seriesOptions=series.options,threshold=seriesOptions.threshold,stackThreshold=pick(seriesOptions.startFromThreshold&&threshold,0),stackOption=seriesOptions.stack,stacking=seriesOptions.stacking,stackKey=series.stackKey,negKey="-"+stackKey,negStacks=series.negStacks,yAxis=series.yAxis,stacks=yAxis.stacks,oldStacks=yAxis.oldStacks;for(yAxis.stacksTouched+=1,i=0;yDataLength>i;i++)x=xData[i],y=yData[i],stackIndicator=series.getStackIndicator(stackIndicator,x,series.index),pointKey=stackIndicator.key,isNegative=negStacks&&(stackThreshold?0:threshold)>y,key=isNegative?negKey:stackKey,stacks[key]||(stacks[key]={}),stacks[key][x]||(oldStacks[key]&&oldStacks[key][x]?(stacks[key][x]=oldStacks[key][x],stacks[key][x].total=null):stacks[key][x]=new H.StackItem(yAxis,yAxis.options.stackLabels,isNegative,x,stackOption)),stack=stacks[key][x],null!==y?(stack.points[pointKey]=stack.points[series.index]=[pick(stack.cumulative,stackThreshold)],defined(stack.cumulative)||(stack.base=pointKey),stack.touched=yAxis.stacksTouched,stackIndicator.index>0&&series.singleStacks===!1&&(stack.points[pointKey][0]=stack.points[series.index+","+x+",0"][0])):stack.points[pointKey]=stack.points[series.index]=null,"percent"===stacking?(other=isNegative?stackKey:negKey,negStacks&&stacks[other]&&stacks[other][x]?(other=stacks[other][x],stack.total=other.total=Math.max(other.total,stack.total)+Math.abs(y)||0):stack.total=correctFloat(stack.total+(Math.abs(y)||0))):stack.total=correctFloat(stack.total+(y||0)),stack.cumulative=pick(stack.cumulative,stackThreshold)+(y||0),null!==y&&(stack.points[pointKey].push(stack.cumulative),stackedYData[i]=stack.cumulative);"percent"===stacking&&(yAxis.usePercentage=!0),this.stackedYData=stackedYData,yAxis.oldStacks={}}},Series.prototype.modifyStacks=function(){var stackIndicator,series=this,stackKey=series.stackKey,stacks=series.yAxis.stacks,processedXData=series.processedXData,stacking=series.options.stacking;series[stacking+"Stacker"]&&each([stackKey,"-"+stackKey],function(key){for(var x,stack,pointExtremes,i=processedXData.length;i--;)x=processedXData[i],stackIndicator=series.getStackIndicator(stackIndicator,x,series.index,key),stack=stacks[key]&&stacks[key][x],pointExtremes=stack&&stack.points[stackIndicator.key],pointExtremes&&series[stacking+"Stacker"](pointExtremes,stack,i)})},Series.prototype.percentStacker=function(pointExtremes,stack,i){var totalFactor=stack.total?100/stack.total:0;pointExtremes[0]=correctFloat(pointExtremes[0]*totalFactor),pointExtremes[1]=correctFloat(pointExtremes[1]*totalFactor),this.stackedYData[i]=pointExtremes[1]},Series.prototype.getStackIndicator=function(stackIndicator,x,index,key){return!defined(stackIndicator)||stackIndicator.x!==x||key&&stackIndicator.key!==key?stackIndicator={x:x,index:0,key:key}:stackIndicator.index++,stackIndicator.key=[index,x,stackIndicator.index].join(","),stackIndicator}}(Highcharts),function(H){var addEvent=H.addEvent,animate=H.animate,Axis=H.Axis,Chart=H.Chart,createElement=H.createElement,css=H.css,defined=H.defined,each=H.each,erase=H.erase,extend=H.extend,fireEvent=H.fireEvent,inArray=H.inArray,isNumber=H.isNumber,isObject=H.isObject,isArray=H.isArray,merge=H.merge,objectEach=H.objectEach,pick=H.pick,Point=H.Point,Series=H.Series,seriesTypes=H.seriesTypes,setAnimation=H.setAnimation,splat=H.splat;extend(Chart.prototype,{addSeries:function(options,redraw,animation){var series,chart=this;return options&&(redraw=pick(redraw,!0),fireEvent(chart,"addSeries",{options:options},function(){series=chart.initSeries(options),chart.isDirtyLegend=!0,chart.linkSeries(),redraw&&chart.redraw(animation)})),series},addAxis:function(options,isX,redraw,animation){var axis,key=isX?"xAxis":"yAxis",chartOptions=this.options,userOptions=merge(options,{index:this[key].length,isX:isX});return axis=new Axis(this,userOptions),chartOptions[key]=splat(chartOptions[key]||{}),chartOptions[key].push(userOptions),pick(redraw,!0)&&this.redraw(animation),axis},showLoading:function(str){var chart=this,options=chart.options,loadingDiv=chart.loadingDiv,loadingOptions=options.loading,setLoadingSize=function(){loadingDiv&&css(loadingDiv,{left:chart.plotLeft+"px",top:chart.plotTop+"px",width:chart.plotWidth+"px",height:chart.plotHeight+"px"})};loadingDiv||(chart.loadingDiv=loadingDiv=createElement("div",{className:"highcharts-loading highcharts-loading-hidden"},null,chart.container),chart.loadingSpan=createElement("span",{className:"highcharts-loading-inner"},null,loadingDiv),addEvent(chart,"redraw",setLoadingSize)),loadingDiv.className="highcharts-loading",chart.loadingSpan.innerHTML=str||options.lang.loading,css(loadingDiv,extend(loadingOptions.style,{zIndex:10})),css(chart.loadingSpan,loadingOptions.labelStyle),chart.loadingShown||(css(loadingDiv,{opacity:0,display:""}),animate(loadingDiv,{opacity:loadingOptions.style.opacity||.5},{duration:loadingOptions.showDuration||0})),chart.loadingShown=!0,setLoadingSize()},hideLoading:function(){var options=this.options,loadingDiv=this.loadingDiv;loadingDiv&&(loadingDiv.className="highcharts-loading highcharts-loading-hidden",animate(loadingDiv,{opacity:0},{duration:options.loading.hideDuration||100,complete:function(){css(loadingDiv,{display:"none"})}})),this.loadingShown=!1},propsRequireDirtyBox:["backgroundColor","borderColor","borderWidth","margin","marginTop","marginRight","marginBottom","marginLeft","spacing","spacingTop","spacingRight","spacingBottom","spacingLeft","borderRadius","plotBackgroundColor","plotBackgroundImage","plotBorderColor","plotBorderWidth","plotShadow","shadow"],propsRequireUpdateSeries:["chart.inverted","chart.polar","chart.ignoreHiddenSeries","chart.type","colors","plotOptions","time","tooltip"],update:function(options,redraw,oneToOne){var updateAllAxes,updateAllSeries,newWidth,newHeight,chart=this,adders={credits:"addCredits",title:"setTitle",subtitle:"setSubtitle"},optionsChart=options.chart,itemsForRemoval=[];optionsChart&&(merge(!0,chart.options.chart,optionsChart),"className"in optionsChart&&chart.setClassName(optionsChart.className),("inverted"in optionsChart||"polar"in optionsChart)&&(chart.propFromSeries(),updateAllAxes=!0),"alignTicks"in optionsChart&&(updateAllAxes=!0),objectEach(optionsChart,function(val,key){-1!==inArray("chart."+key,chart.propsRequireUpdateSeries)&&(updateAllSeries=!0),-1!==inArray(key,chart.propsRequireDirtyBox)&&(chart.isDirtyBox=!0)}),"style"in optionsChart&&chart.renderer.setStyle(optionsChart.style)),options.colors&&(this.options.colors=options.colors),options.plotOptions&&merge(!0,this.options.plotOptions,options.plotOptions),objectEach(options,function(val,key){chart[key]&&"function"==typeof chart[key].update?chart[key].update(val,!1):"function"==typeof chart[adders[key]]&&chart[adders[key]](val),"chart"!==key&&-1!==inArray(key,chart.propsRequireUpdateSeries)&&(updateAllSeries=!0)}),each(["xAxis","yAxis","zAxis","series","colorAxis","pane"],function(coll){options[coll]&&(each(splat(options[coll]),function(newOptions,i){var item=defined(newOptions.id)&&chart.get(newOptions.id)||chart[coll][i];item&&item.coll===coll&&(item.update(newOptions,!1),oneToOne&&(item.touched=!0)),!item&&oneToOne&&("series"===coll?chart.addSeries(newOptions,!1).touched=!0:("xAxis"===coll||"yAxis"===coll)&&(chart.addAxis(newOptions,"xAxis"===coll,!1).touched=!0))}),oneToOne&&each(chart[coll],function(item){item.touched?delete item.touched:itemsForRemoval.push(item)}))}),each(itemsForRemoval,function(item){item.remove(!1)}),updateAllAxes&&each(chart.axes,function(axis){axis.update({},!1)}),updateAllSeries&&each(chart.series,function(series){series.update({},!1)}),options.loading&&merge(!0,chart.options.loading,options.loading),newWidth=optionsChart&&optionsChart.width,newHeight=optionsChart&&optionsChart.height,isNumber(newWidth)&&newWidth!==chart.chartWidth||isNumber(newHeight)&&newHeight!==chart.chartHeight?chart.setSize(newWidth,newHeight):pick(redraw,!0)&&chart.redraw()},setSubtitle:function(options){this.setTitle(void 0,options)}}),extend(Point.prototype,{update:function(options,redraw,animation,runEvent){function update(){point.applyOptions(options),null===point.y&&graphic&&(point.graphic=graphic.destroy()),isObject(options,!0)&&(graphic&&graphic.element&&options&&options.marker&&void 0!==options.marker.symbol&&(point.graphic=graphic.destroy()),options&&options.dataLabels&&point.dataLabel&&(point.dataLabel=point.dataLabel.destroy()),point.connector&&(point.connector=point.connector.destroy())),i=point.index,series.updateParallelArrays(point,i),seriesOptions.data[i]=isObject(seriesOptions.data[i],!0)||isObject(options,!0)?point.options:options,series.isDirty=series.isDirtyData=!0,!series.fixedBox&&series.hasCartesianSeries&&(chart.isDirtyBox=!0),"point"===seriesOptions.legendType&&(chart.isDirtyLegend=!0),redraw&&chart.redraw(animation)}var i,point=this,series=point.series,graphic=point.graphic,chart=series.chart,seriesOptions=series.options;redraw=pick(redraw,!0),runEvent===!1?update():point.firePointEvent("update",{options:options},update)},remove:function(redraw,animation){this.series.removePoint(inArray(this,this.series.data),redraw,animation)}}),extend(Series.prototype,{addPoint:function(options,redraw,shift,animation){var point,isInTheMiddle,i,x,series=this,seriesOptions=series.options,data=series.data,chart=series.chart,xAxis=series.xAxis,names=xAxis&&xAxis.hasNames&&xAxis.names,dataOptions=seriesOptions.data,xData=series.xData;if(redraw=pick(redraw,!0),point={series:series},series.pointClass.prototype.applyOptions.apply(point,[options]),x=point.x,i=xData.length,series.requireSorting&&x<xData[i-1])for(isInTheMiddle=!0;i&&xData[i-1]>x;)i--;series.updateParallelArrays(point,"splice",i,0,0),series.updateParallelArrays(point,i),names&&point.name&&(names[x]=point.name),dataOptions.splice(i,0,options),isInTheMiddle&&(series.data.splice(i,0,null),series.processData()),"point"===seriesOptions.legendType&&series.generatePoints(),shift&&(data[0]&&data[0].remove?data[0].remove(!1):(data.shift(),series.updateParallelArrays(point,"shift"),dataOptions.shift())),series.isDirty=!0,series.isDirtyData=!0,redraw&&chart.redraw(animation)},removePoint:function(i,redraw,animation){var series=this,data=series.data,point=data[i],points=series.points,chart=series.chart,remove=function(){points&&points.length===data.length&&points.splice(i,1),data.splice(i,1),series.options.data.splice(i,1),series.updateParallelArrays(point||{series:series},"splice",i,1),point&&point.destroy(),series.isDirty=!0,series.isDirtyData=!0,redraw&&chart.redraw()};setAnimation(animation,chart),redraw=pick(redraw,!0),point?point.firePointEvent("remove",null,remove):remove()},remove:function(redraw,animation,withEvent){function remove(){series.destroy(),chart.isDirtyLegend=chart.isDirtyBox=!0,chart.linkSeries(),pick(redraw,!0)&&chart.redraw(animation)}var series=this,chart=series.chart;withEvent!==!1?fireEvent(series,"remove",null,remove):remove()},update:function(newOptions,redraw){var n,series=this,chart=series.chart,oldOptions=series.userOptions,oldType=series.oldType||series.type,newType=newOptions.type||oldOptions.type||chart.options.chart.type,proto=seriesTypes[oldType].prototype,groups=["group","markerGroup","dataLabelsGroup"],preserve=["navigatorSeries","baseSeries"],animation=series.finishedAnimating&&{animation:!1};if(Object.keys&&"data"===Object.keys(newOptions).toString())return this.setData(newOptions.data,redraw);preserve=groups.concat(preserve),each(preserve,function(prop){preserve[prop]=series[prop],delete series[prop]}),newOptions=merge(oldOptions,animation,{index:series.index,pointStart:series.xData[0]},{data:series.options.data},newOptions),series.remove(!1,null,!1);
for(n in proto)series[n]=void 0;extend(series,seriesTypes[newType||oldType].prototype),each(preserve,function(prop){series[prop]=preserve[prop]}),series.init(chart,newOptions),newOptions.zIndex!==oldOptions.zIndex&&each(groups,function(groupName){series[groupName]&&series[groupName].attr({zIndex:newOptions.zIndex})}),series.oldType=oldType,chart.linkSeries(),pick(redraw,!0)&&chart.redraw(!1)}}),extend(Axis.prototype,{update:function(options,redraw){var chart=this.chart;options=chart.options[this.coll][this.options.index]=merge(this.userOptions,options),this.destroy(!0),this.init(chart,extend(options,{events:void 0})),chart.isDirtyBox=!0,pick(redraw,!0)&&chart.redraw()},remove:function(redraw){for(var chart=this.chart,key=this.coll,axisSeries=this.series,i=axisSeries.length;i--;)axisSeries[i]&&axisSeries[i].remove(!1);erase(chart.axes,this),erase(chart[key],this),isArray(chart.options[key])?chart.options[key].splice(this.options.index,1):delete chart.options[key],each(chart[key],function(axis,i){axis.options.index=i}),this.destroy(),chart.isDirtyBox=!0,pick(redraw,!0)&&chart.redraw()},setTitle:function(titleOptions,redraw){this.update({title:titleOptions},redraw)},setCategories:function(categories,redraw){this.update({categories:categories},redraw)}})}(Highcharts),function(H){var color=H.color,each=H.each,LegendSymbolMixin=H.LegendSymbolMixin,map=H.map,pick=H.pick,Series=H.Series,seriesType=H.seriesType;seriesType("area","line",{softThreshold:!1,threshold:0},{singleStacks:!1,getStackPoints:function(points){var visibleSeries,i,series=this,segment=[],keys=[],xAxis=this.xAxis,yAxis=this.yAxis,stack=yAxis.stacks[this.stackKey],pointMap={},seriesIndex=series.index,yAxisSeries=yAxis.series,seriesLength=yAxisSeries.length,upOrDown=pick(yAxis.options.reversedStacks,!0)?1:-1;if(points=points||this.points,this.options.stacking){for(i=0;i<points.length;i++)points[i].leftNull=points[i].rightNull=null,pointMap[points[i].x]=points[i];H.objectEach(stack,function(stackX,x){null!==stackX.total&&keys.push(x)}),keys.sort(function(a,b){return a-b}),visibleSeries=map(yAxisSeries,function(){return this.visible}),each(keys,function(x,idx){var stackPoint,stackedValues,y=0;if(pointMap[x]&&!pointMap[x].isNull)segment.push(pointMap[x]),each([-1,1],function(direction){var nullName=1===direction?"rightNull":"leftNull",cliffName=1===direction?"rightCliff":"leftCliff",cliff=0,otherStack=stack[keys[idx+direction]];if(otherStack)for(i=seriesIndex;i>=0&&seriesLength>i;)stackPoint=otherStack.points[i],stackPoint||(i===seriesIndex?pointMap[x][nullName]=!0:visibleSeries[i]&&(stackedValues=stack[x].points[i],stackedValues&&(cliff-=stackedValues[1]-stackedValues[0]))),i+=upOrDown;pointMap[x][cliffName]=cliff});else{for(i=seriesIndex;i>=0&&seriesLength>i;){if(stackPoint=stack[x].points[i]){y=stackPoint[1];break}i+=upOrDown}y=yAxis.translate(y,0,1,0,1),segment.push({isNull:!0,plotX:xAxis.translate(x,0,0,0,1),x:x,plotY:y,yBottom:y})}})}return segment},getGraphPath:function(points){var graphPath,topPath,bottomPath,i,areaPath,plotX,isNull,yBottom,getGraphPath=Series.prototype.getGraphPath,options=this.options,stacking=options.stacking,yAxis=this.yAxis,bottomPoints=[],graphPoints=[],seriesIndex=this.index,stacks=yAxis.stacks[this.stackKey],threshold=options.threshold,translatedThreshold=yAxis.getThreshold(options.threshold),connectNulls=options.connectNulls||"percent"===stacking,addDummyPoints=function(i,otherI,side){var top,bottom,point=points[i],stackedValues=stacking&&stacks[point.x].points[seriesIndex],nullVal=point[side+"Null"]||0,cliffVal=point[side+"Cliff"]||0,isNull=!0;cliffVal||nullVal?(top=(nullVal?stackedValues[0]:stackedValues[1])+cliffVal,bottom=stackedValues[0]+cliffVal,isNull=!!nullVal):!stacking&&points[otherI]&&points[otherI].isNull&&(top=bottom=threshold),void 0!==top&&(graphPoints.push({plotX:plotX,plotY:null===top?translatedThreshold:yAxis.getThreshold(top),isNull:isNull,isCliff:!0}),bottomPoints.push({plotX:plotX,plotY:null===bottom?translatedThreshold:yAxis.getThreshold(bottom),doCurve:!1}))};for(points=points||this.points,stacking&&(points=this.getStackPoints(points)),i=0;i<points.length;i++)isNull=points[i].isNull,plotX=pick(points[i].rectPlotX,points[i].plotX),yBottom=pick(points[i].yBottom,translatedThreshold),(!isNull||connectNulls)&&(connectNulls||addDummyPoints(i,i-1,"left"),isNull&&!stacking&&connectNulls||(graphPoints.push(points[i]),bottomPoints.push({x:i,plotX:plotX,plotY:yBottom})),connectNulls||addDummyPoints(i,i+1,"right"));return topPath=getGraphPath.call(this,graphPoints,!0,!0),bottomPoints.reversed=!0,bottomPath=getGraphPath.call(this,bottomPoints,!0,!0),bottomPath.length&&(bottomPath[0]="L"),areaPath=topPath.concat(bottomPath),graphPath=getGraphPath.call(this,graphPoints,!1,connectNulls),areaPath.xMap=topPath.xMap,this.areaPath=areaPath,graphPath},drawGraph:function(){this.areaPath=[],Series.prototype.drawGraph.apply(this);var series=this,areaPath=this.areaPath,options=this.options,zones=this.zones,props=[["area","highcharts-area",this.color,options.fillColor]];each(zones,function(zone,i){props.push(["zone-area-"+i,"highcharts-area highcharts-zone-area-"+i+" "+zone.className,zone.color||series.color,zone.fillColor||options.fillColor])}),each(props,function(prop){var areaKey=prop[0],area=series[areaKey];area?(area.endX=series.preventGraphAnimation?null:areaPath.xMap,area.animate({d:areaPath})):(area=series[areaKey]=series.chart.renderer.path(areaPath).addClass(prop[1]).attr({fill:pick(prop[3],color(prop[2]).setOpacity(pick(options.fillOpacity,.75)).get()),zIndex:0}).add(series.group),area.isArea=!0),area.startX=areaPath.xMap,area.shiftUnit=options.step?2:1})},drawLegendSymbol:LegendSymbolMixin.drawRectangle})}(Highcharts),function(H){var pick=H.pick,seriesType=H.seriesType;seriesType("spline","line",{},{getPointSpline:function(points,point,i){function doCurve(otherPoint){return otherPoint&&!otherPoint.isNull&&otherPoint.doCurve!==!1&&!point.isCliff}var leftContX,leftContY,rightContX,rightContY,ret,smoothing=1.5,denom=smoothing+1,plotX=point.plotX,plotY=point.plotY,lastPoint=points[i-1],nextPoint=points[i+1];if(doCurve(lastPoint)&&doCurve(nextPoint)){var lastX=lastPoint.plotX,lastY=lastPoint.plotY,nextX=nextPoint.plotX,nextY=nextPoint.plotY,correction=0;leftContX=(smoothing*plotX+lastX)/denom,leftContY=(smoothing*plotY+lastY)/denom,rightContX=(smoothing*plotX+nextX)/denom,rightContY=(smoothing*plotY+nextY)/denom,rightContX!==leftContX&&(correction=(rightContY-leftContY)*(rightContX-plotX)/(rightContX-leftContX)+plotY-rightContY),leftContY+=correction,rightContY+=correction,leftContY>lastY&&leftContY>plotY?(leftContY=Math.max(lastY,plotY),rightContY=2*plotY-leftContY):lastY>leftContY&&plotY>leftContY&&(leftContY=Math.min(lastY,plotY),rightContY=2*plotY-leftContY),rightContY>nextY&&rightContY>plotY?(rightContY=Math.max(nextY,plotY),leftContY=2*plotY-rightContY):nextY>rightContY&&plotY>rightContY&&(rightContY=Math.min(nextY,plotY),leftContY=2*plotY-rightContY),point.rightContX=rightContX,point.rightContY=rightContY}return ret=["C",pick(lastPoint.rightContX,lastPoint.plotX),pick(lastPoint.rightContY,lastPoint.plotY),pick(leftContX,plotX),pick(leftContY,plotY),plotX,plotY],lastPoint.rightContX=lastPoint.rightContY=null,ret}})}(Highcharts),function(H){var areaProto=H.seriesTypes.area.prototype,defaultPlotOptions=H.defaultPlotOptions,LegendSymbolMixin=H.LegendSymbolMixin,seriesType=H.seriesType;seriesType("areaspline","spline",defaultPlotOptions.area,{getStackPoints:areaProto.getStackPoints,getGraphPath:areaProto.getGraphPath,drawGraph:areaProto.drawGraph,drawLegendSymbol:LegendSymbolMixin.drawRectangle})}(Highcharts),function(H){var animObject=H.animObject,color=H.color,each=H.each,extend=H.extend,isNumber=H.isNumber,LegendSymbolMixin=H.LegendSymbolMixin,merge=H.merge,noop=H.noop,pick=H.pick,Series=H.Series,seriesType=H.seriesType,svg=H.svg;seriesType("column","line",{borderRadius:0,crisp:!0,groupPadding:.2,marker:null,pointPadding:.1,minPointLength:0,cropThreshold:50,pointRange:null,states:{hover:{halo:!1,brightness:.1},select:{color:"#cccccc",borderColor:"#000000"}},dataLabels:{align:null,verticalAlign:null,y:null},softThreshold:!1,startFromThreshold:!0,stickyTracking:!1,tooltip:{distance:6},threshold:0,borderColor:"#ffffff"},{cropShoulder:0,directTouch:!0,trackerGroups:["group","dataLabelsGroup"],negStacks:!0,init:function(){Series.prototype.init.apply(this,arguments);var series=this,chart=series.chart;chart.hasRendered&&each(chart.series,function(otherSeries){otherSeries.type===series.type&&(otherSeries.isDirty=!0)})},getColumnMetrics:function(){var stackKey,series=this,options=series.options,xAxis=series.xAxis,yAxis=series.yAxis,reversedXAxis=xAxis.reversed,stackGroups={},columnCount=0;options.grouping===!1?columnCount=1:each(series.chart.series,function(otherSeries){var columnIndex,otherOptions=otherSeries.options,otherYAxis=otherSeries.yAxis;otherSeries.type!==series.type||!otherSeries.visible&&series.chart.options.chart.ignoreHiddenSeries||yAxis.len!==otherYAxis.len||yAxis.pos!==otherYAxis.pos||(otherOptions.stacking?(stackKey=otherSeries.stackKey,void 0===stackGroups[stackKey]&&(stackGroups[stackKey]=columnCount++),columnIndex=stackGroups[stackKey]):otherOptions.grouping!==!1&&(columnIndex=columnCount++),otherSeries.columnIndex=columnIndex)});var categoryWidth=Math.min(Math.abs(xAxis.transA)*(xAxis.ordinalSlope||options.pointRange||xAxis.closestPointRange||xAxis.tickInterval||1),xAxis.len),groupPadding=categoryWidth*options.groupPadding,groupWidth=categoryWidth-2*groupPadding,pointOffsetWidth=groupWidth/(columnCount||1),pointWidth=Math.min(options.maxPointWidth||xAxis.len,pick(options.pointWidth,pointOffsetWidth*(1-2*options.pointPadding))),pointPadding=(pointOffsetWidth-pointWidth)/2,colIndex=(series.columnIndex||0)+(reversedXAxis?1:0),pointXOffset=pointPadding+(groupPadding+colIndex*pointOffsetWidth-categoryWidth/2)*(reversedXAxis?-1:1);return series.columnMetrics={width:pointWidth,offset:pointXOffset},series.columnMetrics},crispCol:function(x,y,w,h){var right,bottom,fromTop,chart=this.chart,borderWidth=this.borderWidth,xCrisp=-(borderWidth%2?.5:0),yCrisp=borderWidth%2?.5:1;return chart.inverted&&chart.renderer.isVML&&(yCrisp+=1),this.options.crisp&&(right=Math.round(x+w)+xCrisp,x=Math.round(x)+xCrisp,w=right-x),bottom=Math.round(y+h)+yCrisp,fromTop=Math.abs(y)<=.5&&bottom>.5,y=Math.round(y)+yCrisp,h=bottom-y,fromTop&&h&&(y-=1,h+=1),{x:x,y:y,width:w,height:h}},translate:function(){var series=this,chart=series.chart,options=series.options,dense=series.dense=series.closestPointRange*series.xAxis.transA<2,borderWidth=series.borderWidth=pick(options.borderWidth,dense?0:1),yAxis=series.yAxis,threshold=options.threshold,translatedThreshold=series.translatedThreshold=yAxis.getThreshold(threshold),minPointLength=pick(options.minPointLength,5),metrics=series.getColumnMetrics(),pointWidth=metrics.width,seriesBarW=series.barW=Math.max(pointWidth,1+2*borderWidth),pointXOffset=series.pointXOffset=metrics.offset;chart.inverted&&(translatedThreshold-=.5),options.pointPadding&&(seriesBarW=Math.ceil(seriesBarW)),Series.prototype.translate.apply(series),each(series.points,function(point){var up,yBottom=pick(point.yBottom,translatedThreshold),safeDistance=999+Math.abs(yBottom),plotY=Math.min(Math.max(-safeDistance,point.plotY),yAxis.len+safeDistance),barX=point.plotX+pointXOffset,barW=seriesBarW,barY=Math.min(plotY,yBottom),barH=Math.max(plotY,yBottom)-barY;minPointLength&&Math.abs(barH)<minPointLength&&(barH=minPointLength,up=!yAxis.reversed&&!point.negative||yAxis.reversed&&point.negative,point.y===threshold&&series.dataMax<=threshold&&yAxis.min<threshold&&(up=!up),barY=Math.abs(barY-translatedThreshold)>minPointLength?yBottom-minPointLength:translatedThreshold-(up?minPointLength:0)),point.barX=barX,point.pointWidth=pointWidth,point.tooltipPos=chart.inverted?[yAxis.len+yAxis.pos-chart.plotLeft-plotY,series.xAxis.len-barX-barW/2,barH]:[barX+barW/2,plotY+yAxis.pos-chart.plotTop,barH],point.shapeType="rect",point.shapeArgs=series.crispCol.apply(series,point.isNull?[barX,translatedThreshold,barW,0]:[barX,barY,barW,barH])})},getSymbol:noop,drawLegendSymbol:LegendSymbolMixin.drawRectangle,drawGraph:function(){this.group[this.dense?"addClass":"removeClass"]("highcharts-dense-data")},pointAttribs:function(point,state){var stateOptions,ret,zone,brightness,options=this.options,p2o=this.pointAttrToOptions||{},strokeOption=p2o.stroke||"borderColor",strokeWidthOption=p2o["stroke-width"]||"borderWidth",fill=point&&point.color||this.color,stroke=point&&point[strokeOption]||options[strokeOption]||this.color||fill,strokeWidth=point&&point[strokeWidthOption]||options[strokeWidthOption]||this[strokeWidthOption]||0,dashstyle=options.dashStyle;return point&&this.zones.length&&(zone=point.getZone(),fill=point.options.color||zone&&zone.color||this.color),state&&(stateOptions=merge(options.states[state],point.options.states&&point.options.states[state]||{}),brightness=stateOptions.brightness,fill=stateOptions.color||void 0!==brightness&&color(fill).brighten(stateOptions.brightness).get()||fill,stroke=stateOptions[strokeOption]||stroke,strokeWidth=stateOptions[strokeWidthOption]||strokeWidth,dashstyle=stateOptions.dashStyle||dashstyle),ret={fill:fill,stroke:stroke,"stroke-width":strokeWidth},dashstyle&&(ret.dashstyle=dashstyle),ret},drawPoints:function(){var shapeArgs,series=this,chart=this.chart,options=series.options,renderer=chart.renderer,animationLimit=options.animationLimit||250;each(series.points,function(point){var plotY=point.plotY,graphic=point.graphic;isNumber(plotY)&&null!==point.y?(shapeArgs=point.shapeArgs,graphic?graphic[chart.pointCount<animationLimit?"animate":"attr"](merge(shapeArgs)):point.graphic=graphic=renderer[point.shapeType](shapeArgs).add(point.group||series.group),options.borderRadius&&graphic.attr({r:options.borderRadius}),graphic.attr(series.pointAttribs(point,point.selected&&"select")).shadow(options.shadow,null,options.stacking&&!options.borderRadius),graphic.addClass(point.getClassName(),!0)):graphic&&(point.graphic=graphic.destroy())})},animate:function(init){var translateStart,translatedThreshold,series=this,yAxis=this.yAxis,options=series.options,inverted=this.chart.inverted,attr={},translateProp=inverted?"translateX":"translateY";svg&&(init?(attr.scaleY=.001,translatedThreshold=Math.min(yAxis.pos+yAxis.len,Math.max(yAxis.pos,yAxis.toPixels(options.threshold))),inverted?attr.translateX=translatedThreshold-yAxis.len:attr.translateY=translatedThreshold,series.group.attr(attr)):(translateStart=series.group.attr(translateProp),series.group.animate({scaleY:1},extend(animObject(series.options.animation),{step:function(val,fx){attr[translateProp]=translateStart+fx.pos*(yAxis.pos-translateStart),series.group.attr(attr)}})),series.animate=null))},remove:function(){var series=this,chart=series.chart;chart.hasRendered&&each(chart.series,function(otherSeries){otherSeries.type===series.type&&(otherSeries.isDirty=!0)}),Series.prototype.remove.apply(series,arguments)}})}(Highcharts),function(H){var seriesType=H.seriesType;seriesType("bar","column",null,{inverted:!0})}(Highcharts),function(H){var Series=H.Series,seriesType=H.seriesType;seriesType("scatter","line",{lineWidth:0,findNearestPointBy:"xy",marker:{enabled:!0},tooltip:{headerFormat:'<span style="color:{point.color}">●</span> <span style="font-size: 0.85em"> {series.name}</span><br/>',pointFormat:"x: <b>{point.x}</b><br/>y: <b>{point.y}</b><br/>"}},{sorted:!1,requireSorting:!1,noSharedTooltip:!0,trackerGroups:["group","markerGroup","dataLabelsGroup"],takeOrdinalPosition:!1,drawGraph:function(){this.options.lineWidth&&Series.prototype.drawGraph.call(this)}})}(Highcharts),function(H){var deg2rad=H.deg2rad,isNumber=H.isNumber,pick=H.pick,relativeLength=H.relativeLength;H.CenteredSeriesMixin={getCenter:function(){var handleSlicingRoom,i,value,options=this.options,chart=this.chart,slicingRoom=2*(options.slicedOffset||0),plotWidth=chart.plotWidth-2*slicingRoom,plotHeight=chart.plotHeight-2*slicingRoom,centerOption=options.center,positions=[pick(centerOption[0],"50%"),pick(centerOption[1],"50%"),options.size||"100%",options.innerSize||0],smallestSize=Math.min(plotWidth,plotHeight);for(i=0;4>i;++i)value=positions[i],handleSlicingRoom=2>i||2===i&&/%$/.test(value),positions[i]=relativeLength(value,[plotWidth,plotHeight,smallestSize,positions[2]][i])+(handleSlicingRoom?slicingRoom:0);return positions[3]>positions[2]&&(positions[3]=positions[2]),positions},getStartAndEndRadians:function(start,end){var startAngle=isNumber(start)?start:0,endAngle=isNumber(end)&&end>startAngle&&360>end-startAngle?end:startAngle+360,correction=-90;return{start:deg2rad*(startAngle+correction),end:deg2rad*(endAngle+correction)}}}}(Highcharts),function(H){var addEvent=H.addEvent,CenteredSeriesMixin=H.CenteredSeriesMixin,defined=H.defined,each=H.each,extend=H.extend,getStartAndEndRadians=CenteredSeriesMixin.getStartAndEndRadians,inArray=H.inArray,LegendSymbolMixin=H.LegendSymbolMixin,noop=H.noop,pick=H.pick,Point=H.Point,Series=H.Series,seriesType=H.seriesType,seriesTypes=H.seriesTypes,setAnimation=H.setAnimation;seriesType("pie","line",{center:[null,null],clip:!1,colorByPoint:!0,dataLabels:{distance:30,enabled:!0,formatter:function(){return this.point.isNull?void 0:this.point.name},x:0},ignoreHiddenPoint:!0,legendType:"point",marker:null,size:null,showInLegend:!1,slicedOffset:10,stickyTracking:!1,tooltip:{followPointer:!0},borderColor:"#ffffff",borderWidth:1,states:{hover:{brightness:.1,shadow:!1}}},{isCartesian:!1,requireSorting:!1,directTouch:!0,noSharedTooltip:!0,trackerGroups:["group","dataLabelsGroup"],axisTypes:[],pointAttribs:seriesTypes.column.prototype.pointAttribs,animate:function(init){var series=this,points=series.points,startAngleRad=series.startAngleRad;init||(each(points,function(point){var graphic=point.graphic,args=point.shapeArgs;graphic&&(graphic.attr({r:point.startR||series.center[3]/2,start:startAngleRad,end:startAngleRad}),graphic.animate({r:args.r,start:args.start,end:args.end},series.options.animation))}),series.animate=null)},updateTotals:function(){var i,point,total=0,points=this.points,len=points.length,ignoreHiddenPoint=this.options.ignoreHiddenPoint;for(i=0;len>i;i++)point=points[i],total+=ignoreHiddenPoint&&!point.visible?0:point.isNull?0:point.y;for(this.total=total,i=0;len>i;i++)point=points[i],point.percentage=total>0&&(point.visible||!ignoreHiddenPoint)?point.y/total*100:0,point.total=total},generatePoints:function(){Series.prototype.generatePoints.call(this),this.updateTotals()},translate:function(positions){this.generatePoints();var finalConnectorOffset,start,end,angle,radiusX,radiusY,i,point,series=this,cumulative=0,precision=1e3,options=series.options,slicedOffset=options.slicedOffset,connectorOffset=slicedOffset+(options.borderWidth||0),radians=getStartAndEndRadians(options.startAngle,options.endAngle),startAngleRad=series.startAngleRad=radians.start,endAngleRad=series.endAngleRad=radians.end,circ=endAngleRad-startAngleRad,points=series.points,labelDistance=options.dataLabels.distance,ignoreHiddenPoint=options.ignoreHiddenPoint,len=points.length;for(positions||(series.center=positions=series.getCenter()),series.getX=function(y,left,point){return angle=Math.asin(Math.min((y-positions[1])/(positions[2]/2+point.labelDistance),1)),positions[0]+(left?-1:1)*Math.cos(angle)*(positions[2]/2+point.labelDistance)},i=0;len>i;i++)point=points[i],point.labelDistance=pick(point.options.dataLabels&&point.options.dataLabels.distance,labelDistance),series.maxLabelDistance=Math.max(series.maxLabelDistance||0,point.labelDistance),start=startAngleRad+cumulative*circ,(!ignoreHiddenPoint||point.visible)&&(cumulative+=point.percentage/100),end=startAngleRad+cumulative*circ,point.shapeType="arc",point.shapeArgs={x:positions[0],y:positions[1],r:positions[2]/2,innerR:positions[3]/2,start:Math.round(start*precision)/precision,end:Math.round(end*precision)/precision},angle=(end+start)/2,angle>1.5*Math.PI?angle-=2*Math.PI:angle<-Math.PI/2&&(angle+=2*Math.PI),point.slicedTranslation={translateX:Math.round(Math.cos(angle)*slicedOffset),translateY:Math.round(Math.sin(angle)*slicedOffset)},radiusX=Math.cos(angle)*positions[2]/2,radiusY=Math.sin(angle)*positions[2]/2,point.tooltipPos=[positions[0]+.7*radiusX,positions[1]+.7*radiusY],point.half=angle<-Math.PI/2||angle>Math.PI/2?1:0,point.angle=angle,finalConnectorOffset=Math.min(connectorOffset,point.labelDistance/5),point.labelPos=[positions[0]+radiusX+Math.cos(angle)*point.labelDistance,positions[1]+radiusY+Math.sin(angle)*point.labelDistance,positions[0]+radiusX+Math.cos(angle)*finalConnectorOffset,positions[1]+radiusY+Math.sin(angle)*finalConnectorOffset,positions[0]+radiusX,positions[1]+radiusY,point.labelDistance<0?"center":point.half?"right":"left",angle]},drawGraph:null,drawPoints:function(){var groupTranslation,graphic,pointAttr,shapeArgs,series=this,chart=series.chart,renderer=chart.renderer,shadow=series.options.shadow;shadow&&!series.shadowGroup&&(series.shadowGroup=renderer.g("shadow").add(series.group)),each(series.points,function(point){if(graphic=point.graphic,point.isNull)graphic&&(point.graphic=graphic.destroy());else{shapeArgs=point.shapeArgs,groupTranslation=point.getTranslate();var shadowGroup=point.shadowGroup;shadow&&!shadowGroup&&(shadowGroup=point.shadowGroup=renderer.g("shadow").add(series.shadowGroup)),shadowGroup&&shadowGroup.attr(groupTranslation),pointAttr=series.pointAttribs(point,point.selected&&"select"),graphic?graphic.setRadialReference(series.center).attr(pointAttr).animate(extend(shapeArgs,groupTranslation)):(point.graphic=graphic=renderer[point.shapeType](shapeArgs).setRadialReference(series.center).attr(groupTranslation).add(series.group),point.visible||graphic.attr({visibility:"hidden"}),graphic.attr(pointAttr).attr({"stroke-linejoin":"round"}).shadow(shadow,shadowGroup)),graphic.addClass(point.getClassName())}})},searchPoint:noop,sortByAngle:function(points,sign){points.sort(function(a,b){return void 0!==a.angle&&(b.angle-a.angle)*sign})},drawLegendSymbol:LegendSymbolMixin.drawRectangle,getCenter:CenteredSeriesMixin.getCenter,getSymbol:noop},{init:function(){Point.prototype.init.apply(this,arguments);var toggleSlice,point=this;return point.name=pick(point.name,"Slice"),toggleSlice=function(e){point.slice("select"===e.type)},addEvent(point,"select",toggleSlice),addEvent(point,"unselect",toggleSlice),point},isValid:function(){return H.isNumber(this.y,!0)&&this.y>=0},setVisible:function(vis,redraw){var point=this,series=point.series,chart=series.chart,ignoreHiddenPoint=series.options.ignoreHiddenPoint;redraw=pick(redraw,ignoreHiddenPoint),vis!==point.visible&&(point.visible=point.options.visible=vis=void 0===vis?!point.visible:vis,series.options.data[inArray(point,series.data)]=point.options,each(["graphic","dataLabel","connector","shadowGroup"],function(key){point[key]&&point[key][vis?"show":"hide"](!0)}),point.legendItem&&chart.legend.colorizeItem(point,vis),vis||"hover"!==point.state||point.setState(""),ignoreHiddenPoint&&(series.isDirty=!0),redraw&&chart.redraw())},slice:function(sliced,redraw,animation){var point=this,series=point.series,chart=series.chart;setAnimation(animation,chart),redraw=pick(redraw,!0),point.sliced=point.options.sliced=sliced=defined(sliced)?sliced:!point.sliced,series.options.data[inArray(point,series.data)]=point.options,point.graphic.animate(this.getTranslate()),point.shadowGroup&&point.shadowGroup.animate(this.getTranslate())},getTranslate:function(){return this.sliced?this.slicedTranslation:{translateX:0,translateY:0}},haloPath:function(size){var shapeArgs=this.shapeArgs;return this.sliced||!this.visible?[]:this.series.chart.renderer.symbols.arc(shapeArgs.x,shapeArgs.y,shapeArgs.r+size,shapeArgs.r+size,{innerR:this.shapeArgs.r-1,start:shapeArgs.start,end:shapeArgs.end})}})}(Highcharts),function(H){var addEvent=H.addEvent,arrayMax=H.arrayMax,defined=H.defined,each=H.each,extend=H.extend,format=H.format,map=H.map,merge=H.merge,noop=H.noop,pick=H.pick,relativeLength=H.relativeLength,Series=H.Series,seriesTypes=H.seriesTypes,stableSort=H.stableSort;H.distribute=function(boxes,len){function sortByTarget(a,b){return a.target-b.target}var i,box,target,overlapping=!0,origBoxes=boxes,restBoxes=[],total=0;for(i=boxes.length;i--;)total+=boxes[i].size;if(total>len){for(stableSort(boxes,function(a,b){return(b.rank||0)-(a.rank||0)}),i=0,total=0;len>=total;)total+=boxes[i].size,i++;restBoxes=boxes.splice(i-1,boxes.length)}for(stableSort(boxes,sortByTarget),boxes=map(boxes,function(box){return{size:box.size,targets:[box.target],align:pick(box.align,.5)}});overlapping;){for(i=boxes.length;i--;)box=boxes[i],target=(Math.min.apply(0,box.targets)+Math.max.apply(0,box.targets))/2,box.pos=Math.min(Math.max(0,target-box.size*box.align),len-box.size);for(i=boxes.length,overlapping=!1;i--;)i>0&&boxes[i-1].pos+boxes[i-1].size>boxes[i].pos&&(boxes[i-1].size+=boxes[i].size,boxes[i-1].targets=boxes[i-1].targets.concat(boxes[i].targets),boxes[i-1].align=.5,boxes[i-1].pos+boxes[i-1].size>len&&(boxes[i-1].pos=len-boxes[i-1].size),boxes.splice(i,1),overlapping=!0)}i=0,each(boxes,function(box){var posInCompositeBox=0;each(box.targets,function(){origBoxes[i].pos=box.pos+posInCompositeBox,posInCompositeBox+=origBoxes[i].size,i++})}),origBoxes.push.apply(origBoxes,restBoxes),stableSort(origBoxes,sortByTarget)},Series.prototype.drawDataLabels=function(){function applyFilter(point,options){var op,prop,val,filter=options.filter;return filter?(op=filter.operator,prop=point[filter.property],val=filter.value,">"===op&&prop>val||"<"===op&&val>prop||">="===op&&prop>=val||"<="===op&&val>=prop||"=="===op&&prop==val||"==="===op&&prop===val?!0:!1):!0}var pointOptions,generalOptions,str,dataLabelsGroup,series=this,chart=series.chart,seriesOptions=series.options,options=seriesOptions.dataLabels,points=series.points,hasRendered=series.hasRendered||0,defer=pick(options.defer,!!seriesOptions.animation),renderer=chart.renderer;(options.enabled||series._hasPointLabels)&&(series.dlProcessOptions&&series.dlProcessOptions(options),dataLabelsGroup=series.plotGroup("dataLabelsGroup","data-labels",defer&&!hasRendered?"hidden":"visible",options.zIndex||6),defer&&(dataLabelsGroup.attr({opacity:+hasRendered}),hasRendered||addEvent(series,"afterAnimate",function(){series.visible&&dataLabelsGroup.show(!0),dataLabelsGroup[seriesOptions.animation?"animate":"attr"]({opacity:1},{duration:200})})),generalOptions=options,each(points,function(point){var enabled,labelConfig,attr,rotation,style,formatString,dataLabel=point.dataLabel,connector=point.connector,isNew=!dataLabel;pointOptions=point.dlOptions||point.options&&point.options.dataLabels,enabled=pick(pointOptions&&pointOptions.enabled,generalOptions.enabled)&&!point.isNull,enabled&&(enabled=applyFilter(point,pointOptions||options)===!0),enabled&&(options=merge(generalOptions,pointOptions),labelConfig=point.getLabelConfig(),formatString=options[point.formatPrefix+"Format"]||options.format,str=defined(formatString)?format(formatString,labelConfig,chart.time):(options[point.formatPrefix+"Formatter"]||options.formatter).call(labelConfig,options),style=options.style,rotation=options.rotation,style.color=pick(options.color,style.color,series.color,"#000000"),"contrast"===style.color&&(point.contrastColor=renderer.getContrast(point.color||series.color),style.color=options.inside||pick(point.labelDistance,options.distance)<0||seriesOptions.stacking?point.contrastColor:"#000000"),seriesOptions.cursor&&(style.cursor=seriesOptions.cursor),attr={fill:options.backgroundColor,stroke:options.borderColor,"stroke-width":options.borderWidth,r:options.borderRadius||0,rotation:rotation,padding:options.padding,zIndex:1},H.objectEach(attr,function(val,name){void 0===val&&delete attr[name]})),!dataLabel||enabled&&defined(str)?enabled&&defined(str)&&(dataLabel?attr.text=str:(dataLabel=point.dataLabel=rotation?renderer.text(str,0,-9999).addClass("highcharts-data-label"):renderer.label(str,0,-9999,options.shape,null,null,options.useHTML,null,"data-label"),dataLabel.addClass(" highcharts-data-label-color-"+point.colorIndex+" "+(options.className||"")+(options.useHTML?"highcharts-tracker":""))),dataLabel.attr(attr),dataLabel.css(style).shadow(options.shadow),dataLabel.added||dataLabel.add(dataLabelsGroup),series.alignDataLabel(point,dataLabel,options,null,isNew)):(point.dataLabel=dataLabel=dataLabel.destroy(),connector&&(point.connector=connector.destroy()))}))},Series.prototype.alignDataLabel=function(point,dataLabel,options,alignTo,isNew){var fontSize,baseline,normRotation,negRotation,rotCorr,alignAttr,chart=this.chart,inverted=chart.inverted,plotX=pick(point.dlBox&&point.dlBox.centerX,point.plotX,-9999),plotY=pick(point.plotY,-9999),bBox=dataLabel.getBBox(),rotation=options.rotation,align=options.align,visible=this.visible&&(point.series.forceDL||chart.isInsidePlot(plotX,Math.round(plotY),inverted)||alignTo&&chart.isInsidePlot(plotX,inverted?alignTo.x+1:alignTo.y+alignTo.height-1,inverted)),justify="justify"===pick(options.overflow,"justify");visible&&(fontSize=options.style.fontSize,baseline=chart.renderer.fontMetrics(fontSize,dataLabel).b,alignTo=extend({x:inverted?this.yAxis.len-plotY:plotX,y:Math.round(inverted?this.xAxis.len-plotX:plotY),width:0,height:0},alignTo),extend(options,{width:bBox.width,height:bBox.height}),rotation?(justify=!1,rotCorr=chart.renderer.rotCorr(baseline,rotation),alignAttr={x:alignTo.x+options.x+alignTo.width/2+rotCorr.x,y:alignTo.y+options.y+{top:0,middle:.5,bottom:1}[options.verticalAlign]*alignTo.height},dataLabel[isNew?"attr":"animate"](alignAttr).attr({align:align}),normRotation=(rotation+720)%360,negRotation=normRotation>180&&360>normRotation,"left"===align?alignAttr.y-=negRotation?bBox.height:0:"center"===align?(alignAttr.x-=bBox.width/2,alignAttr.y-=bBox.height/2):"right"===align&&(alignAttr.x-=bBox.width,alignAttr.y-=negRotation?0:bBox.height)):(dataLabel.align(options,null,alignTo),alignAttr=dataLabel.alignAttr),justify?point.isLabelJustified=this.justifyDataLabel(dataLabel,options,alignAttr,bBox,alignTo,isNew):pick(options.crop,!0)&&(visible=chart.isInsidePlot(alignAttr.x,alignAttr.y)&&chart.isInsidePlot(alignAttr.x+bBox.width,alignAttr.y+bBox.height)),options.shape&&!rotation&&dataLabel[isNew?"attr":"animate"]({anchorX:inverted?chart.plotWidth-point.plotY:point.plotX,anchorY:inverted?chart.plotHeight-point.plotX:point.plotY})),visible||(dataLabel.attr({y:-9999}),dataLabel.placed=!1)},Series.prototype.justifyDataLabel=function(dataLabel,options,alignAttr,bBox,alignTo,isNew){var off,justified,chart=this.chart,align=options.align,verticalAlign=options.verticalAlign,padding=dataLabel.box?0:dataLabel.padding||0;return off=alignAttr.x+padding,0>off&&("right"===align?options.align="left":options.x=-off,justified=!0),off=alignAttr.x+bBox.width-padding,off>chart.plotWidth&&("left"===align?options.align="right":options.x=chart.plotWidth-off,justified=!0),off=alignAttr.y+padding,0>off&&("bottom"===verticalAlign?options.verticalAlign="top":options.y=-off,justified=!0),off=alignAttr.y+bBox.height-padding,off>chart.plotHeight&&("top"===verticalAlign?options.verticalAlign="bottom":options.y=chart.plotHeight-off,justified=!0),justified&&(dataLabel.placed=!isNew,dataLabel.align(options,null,alignTo)),justified},seriesTypes.pie&&(seriesTypes.pie.prototype.drawDataLabels=function(){var point,connector,dataLabel,dataLabelWidth,labelPos,labelHeight,x,y,visibility,j,series=this,data=series.data,chart=series.chart,options=series.options.dataLabels,connectorPadding=pick(options.connectorPadding,10),connectorWidth=pick(options.connectorWidth,1),plotWidth=chart.plotWidth,plotHeight=chart.plotHeight,seriesCenter=series.center,radius=seriesCenter[2]/2,centerY=seriesCenter[1],halves=[[],[]],overflow=[0,0,0,0];series.visible&&(options.enabled||series._hasPointLabels)&&(each(data,function(point){point.dataLabel&&point.visible&&point.dataLabel.shortened&&(point.dataLabel.attr({width:"auto"}).css({width:"auto",textOverflow:"clip"}),point.dataLabel.shortened=!1)}),Series.prototype.drawDataLabels.apply(series),each(data,function(point){point.dataLabel&&point.visible&&(halves[point.half].push(point),point.dataLabel._pos=null)}),each(halves,function(points,i){var top,bottom,naturalY,sideOverflow,positionsIndex,size,length=points.length,positions=[];if(length)for(series.sortByAngle(points,i-.5),series.maxLabelDistance>0&&(top=Math.max(0,centerY-radius-series.maxLabelDistance),bottom=Math.min(centerY+radius+series.maxLabelDistance,chart.plotHeight),each(points,function(point){point.labelDistance>0&&point.dataLabel&&(point.top=Math.max(0,centerY-radius-point.labelDistance),point.bottom=Math.min(centerY+radius+point.labelDistance,chart.plotHeight),size=point.dataLabel.getBBox().height||21,point.positionsIndex=positions.push({target:point.labelPos[1]-point.top+size/2,size:size,rank:point.y})-1)
}),H.distribute(positions,bottom+size-top)),j=0;length>j;j++)point=points[j],positionsIndex=point.positionsIndex,labelPos=point.labelPos,dataLabel=point.dataLabel,visibility=point.visible===!1?"hidden":"inherit",naturalY=labelPos[1],y=naturalY,positions&&defined(positions[positionsIndex])&&(void 0===positions[positionsIndex].pos?visibility="hidden":(labelHeight=positions[positionsIndex].size,y=point.top+positions[positionsIndex].pos)),delete point.positionIndex,x=options.justify?seriesCenter[0]+(i?-1:1)*(radius+point.labelDistance):series.getX(y<point.top+2||y>point.bottom-2?naturalY:y,i,point),dataLabel._attr={visibility:visibility,align:labelPos[6]},dataLabel._pos={x:x+options.x+({left:connectorPadding,right:-connectorPadding}[labelPos[6]]||0),y:y+options.y-10},labelPos.x=x,labelPos.y=y,pick(options.crop,!0)&&(dataLabelWidth=dataLabel.getBBox().width,sideOverflow=null,connectorPadding>x-dataLabelWidth?(sideOverflow=Math.round(dataLabelWidth-x+connectorPadding),overflow[3]=Math.max(sideOverflow,overflow[3])):x+dataLabelWidth>plotWidth-connectorPadding&&(sideOverflow=Math.round(x+dataLabelWidth-plotWidth+connectorPadding),overflow[1]=Math.max(sideOverflow,overflow[1])),0>y-labelHeight/2?overflow[0]=Math.max(Math.round(-y+labelHeight/2),overflow[0]):y+labelHeight/2>plotHeight&&(overflow[2]=Math.max(Math.round(y+labelHeight/2-plotHeight),overflow[2])),dataLabel.sideOverflow=sideOverflow)}),(0===arrayMax(overflow)||this.verifyDataLabelOverflow(overflow))&&(this.placeDataLabels(),connectorWidth&&each(this.points,function(point){var isNew;connector=point.connector,dataLabel=point.dataLabel,dataLabel&&dataLabel._pos&&point.visible&&point.labelDistance>0?(visibility=dataLabel._attr.visibility,isNew=!connector,isNew&&(point.connector=connector=chart.renderer.path().addClass("highcharts-data-label-connector  highcharts-color-"+point.colorIndex).add(series.dataLabelsGroup),connector.attr({"stroke-width":connectorWidth,stroke:options.connectorColor||point.color||"#666666"})),connector[isNew?"attr":"animate"]({d:series.connectorPath(point.labelPos)}),connector.attr("visibility",visibility)):connector&&(point.connector=connector.destroy())})))},seriesTypes.pie.prototype.connectorPath=function(labelPos){var x=labelPos.x,y=labelPos.y;return pick(this.options.dataLabels.softConnector,!0)?["M",x+("left"===labelPos[6]?5:-5),y,"C",x,y,2*labelPos[2]-labelPos[4],2*labelPos[3]-labelPos[5],labelPos[2],labelPos[3],"L",labelPos[4],labelPos[5]]:["M",x+("left"===labelPos[6]?5:-5),y,"L",labelPos[2],labelPos[3],"L",labelPos[4],labelPos[5]]},seriesTypes.pie.prototype.placeDataLabels=function(){each(this.points,function(point){var _pos,dataLabel=point.dataLabel;dataLabel&&point.visible&&(_pos=dataLabel._pos,_pos?(dataLabel.sideOverflow&&(dataLabel._attr.width=dataLabel.getBBox().width-dataLabel.sideOverflow,dataLabel.css({width:dataLabel._attr.width+"px",textOverflow:"ellipsis"}),dataLabel.shortened=!0),dataLabel.attr(dataLabel._attr),dataLabel[dataLabel.moved?"animate":"attr"](_pos),dataLabel.moved=!0):dataLabel&&dataLabel.attr({y:-9999}))},this)},seriesTypes.pie.prototype.alignDataLabel=noop,seriesTypes.pie.prototype.verifyDataLabelOverflow=function(overflow){var center=this.center,options=this.options,centerOption=options.center,minSize=options.minSize||80,newSize=minSize,ret=null!==options.size;return ret||(null!==centerOption[0]?newSize=Math.max(center[2]-Math.max(overflow[1],overflow[3]),minSize):(newSize=Math.max(center[2]-overflow[1]-overflow[3],minSize),center[0]+=(overflow[3]-overflow[1])/2),null!==centerOption[1]?newSize=Math.max(Math.min(newSize,center[2]-Math.max(overflow[0],overflow[2])),minSize):(newSize=Math.max(Math.min(newSize,center[2]-overflow[0]-overflow[2]),minSize),center[1]+=(overflow[0]-overflow[2])/2),newSize<center[2]?(center[2]=newSize,center[3]=Math.min(relativeLength(options.innerSize||0,newSize),newSize),this.translate(center),this.drawDataLabels&&this.drawDataLabels()):ret=!0),ret}),seriesTypes.column&&(seriesTypes.column.prototype.alignDataLabel=function(point,dataLabel,options,alignTo,isNew){var overshoot,inverted=this.chart.inverted,series=point.series,dlBox=point.dlBox||point.shapeArgs,below=pick(point.below,point.plotY>pick(this.translatedThreshold,series.yAxis.len)),inside=pick(options.inside,!!this.options.stacking);dlBox&&(alignTo=merge(dlBox),alignTo.y<0&&(alignTo.height+=alignTo.y,alignTo.y=0),overshoot=alignTo.y+alignTo.height-series.yAxis.len,overshoot>0&&(alignTo.height-=overshoot),inverted&&(alignTo={x:series.yAxis.len-alignTo.y-alignTo.height,y:series.xAxis.len-alignTo.x-alignTo.width,width:alignTo.height,height:alignTo.width}),inside||(inverted?(alignTo.x+=below?0:alignTo.width,alignTo.width=0):(alignTo.y+=below?alignTo.height:0,alignTo.height=0))),options.align=pick(options.align,!inverted||inside?"center":below?"right":"left"),options.verticalAlign=pick(options.verticalAlign,inverted||inside?"middle":below?"top":"bottom"),Series.prototype.alignDataLabel.call(this,point,dataLabel,options,alignTo,isNew),point.isLabelJustified&&point.contrastColor&&point.dataLabel.css({color:point.contrastColor})})}(Highcharts),function(H){var Chart=H.Chart,each=H.each,objectEach=H.objectEach,pick=H.pick,addEvent=H.addEvent;addEvent(Chart.prototype,"render",function(){var labels=[];each(this.labelCollectors||[],function(collector){labels=labels.concat(collector())}),each(this.yAxis||[],function(yAxis){yAxis.options.stackLabels&&!yAxis.options.stackLabels.allowOverlap&&objectEach(yAxis.stacks,function(stack){objectEach(stack,function(stackItem){labels.push(stackItem.label)})})}),each(this.series||[],function(series){var dlOptions=series.options.dataLabels,collections=series.dataLabelCollections||["dataLabel"];(dlOptions.enabled||series._hasPointLabels)&&!dlOptions.allowOverlap&&series.visible&&each(collections,function(coll){each(series.points,function(point){point[coll]&&(point[coll].labelrank=pick(point.labelrank,point.shapeArgs&&point.shapeArgs.height),labels.push(point[coll]))})})}),this.hideOverlappingLabels(labels)}),Chart.prototype.hideOverlappingLabels=function(labels){var label,i,j,label1,label2,isIntersecting,pos1,pos2,parent1,parent2,padding,bBox,len=labels.length,intersectRect=function(x1,y1,w1,h1,x2,y2,w2,h2){return!(x2>x1+w1||x1>x2+w2||y2>y1+h1||y1>y2+h2)};for(i=0;len>i;i++)label=labels[i],label&&(label.oldOpacity=label.opacity,label.newOpacity=1,label.width||(bBox=label.getBBox(),label.width=bBox.width,label.height=bBox.height));for(labels.sort(function(a,b){return(b.labelrank||0)-(a.labelrank||0)}),i=0;len>i;i++)for(label1=labels[i],j=i+1;len>j;++j)label2=labels[j],label1&&label2&&label1!==label2&&label1.placed&&label2.placed&&0!==label1.newOpacity&&0!==label2.newOpacity&&(pos1=label1.alignAttr,pos2=label2.alignAttr,parent1=label1.parentGroup,parent2=label2.parentGroup,padding=2*(label1.box?0:label1.padding||0),isIntersecting=intersectRect(pos1.x+parent1.translateX,pos1.y+parent1.translateY,label1.width-padding,label1.height-padding,pos2.x+parent2.translateX,pos2.y+parent2.translateY,label2.width-padding,label2.height-padding),isIntersecting&&((label1.labelrank<label2.labelrank?label1:label2).newOpacity=0));each(labels,function(label){var complete,newOpacity;label&&(newOpacity=label.newOpacity,label.oldOpacity!==newOpacity&&label.placed&&(newOpacity?label.show(!0):complete=function(){label.hide()},label.alignAttr.opacity=newOpacity,label[label.isOld?"animate":"attr"](label.alignAttr,null,complete)),label.isOld=!0)})}}(Highcharts),function(H){var TrackerMixin,addEvent=H.addEvent,Chart=H.Chart,createElement=H.createElement,css=H.css,defaultOptions=H.defaultOptions,defaultPlotOptions=H.defaultPlotOptions,each=H.each,extend=H.extend,fireEvent=H.fireEvent,hasTouch=H.hasTouch,inArray=H.inArray,isObject=H.isObject,Legend=H.Legend,merge=H.merge,pick=H.pick,Point=H.Point,Series=H.Series,seriesTypes=H.seriesTypes,svg=H.svg;TrackerMixin=H.TrackerMixin={drawTrackerPoint:function(){var series=this,chart=series.chart,pointer=chart.pointer,onMouseOver=function(e){var point=pointer.getPointFromEvent(e);void 0!==point&&(pointer.isDirectTouch=!0,point.onMouseOver(e))};each(series.points,function(point){point.graphic&&(point.graphic.element.point=point),point.dataLabel&&(point.dataLabel.div?point.dataLabel.div.point=point:point.dataLabel.element.point=point)}),series._hasTracking||(each(series.trackerGroups,function(key){series[key]&&(series[key].addClass("highcharts-tracker").on("mouseover",onMouseOver).on("mouseout",function(e){pointer.onTrackerMouseOut(e)}),hasTouch&&series[key].on("touchstart",onMouseOver),series.options.cursor&&series[key].css(css).css({cursor:series.options.cursor}))}),series._hasTracking=!0)},drawTrackerGraph:function(){var i,series=this,options=series.options,trackByArea=options.trackByArea,trackerPath=[].concat(trackByArea?series.areaPath:series.graphPath),trackerPathLength=trackerPath.length,chart=series.chart,pointer=chart.pointer,renderer=chart.renderer,snap=chart.options.tooltip.snap,tracker=series.tracker,onMouseOver=function(){chart.hoverSeries!==series&&series.onMouseOver()},TRACKER_FILL="rgba(192,192,192,"+(svg?1e-4:.002)+")";if(trackerPathLength&&!trackByArea)for(i=trackerPathLength+1;i--;)"M"===trackerPath[i]&&trackerPath.splice(i+1,0,trackerPath[i+1]-snap,trackerPath[i+2],"L"),(i&&"M"===trackerPath[i]||i===trackerPathLength)&&trackerPath.splice(i,0,"L",trackerPath[i-2]+snap,trackerPath[i-1]);tracker?tracker.attr({d:trackerPath}):series.graph&&(series.tracker=renderer.path(trackerPath).attr({"stroke-linejoin":"round",visibility:series.visible?"visible":"hidden",stroke:TRACKER_FILL,fill:trackByArea?TRACKER_FILL:"none","stroke-width":series.graph.strokeWidth()+(trackByArea?0:2*snap),zIndex:2}).add(series.group),each([series.tracker,series.markerGroup],function(tracker){tracker.addClass("highcharts-tracker").on("mouseover",onMouseOver).on("mouseout",function(e){pointer.onTrackerMouseOut(e)}),options.cursor&&tracker.css({cursor:options.cursor}),hasTouch&&tracker.on("touchstart",onMouseOver)}))}},seriesTypes.column&&(seriesTypes.column.prototype.drawTracker=TrackerMixin.drawTrackerPoint),seriesTypes.pie&&(seriesTypes.pie.prototype.drawTracker=TrackerMixin.drawTrackerPoint),seriesTypes.scatter&&(seriesTypes.scatter.prototype.drawTracker=TrackerMixin.drawTrackerPoint),extend(Legend.prototype,{setItemEvents:function(item,legendItem,useHTML){var legend=this,boxWrapper=legend.chart.renderer.boxWrapper,activeClass="highcharts-legend-"+(item instanceof Point?"point":"series")+"-active";(useHTML?legendItem:item.legendGroup).on("mouseover",function(){item.setState("hover"),boxWrapper.addClass(activeClass),legendItem.css(legend.options.itemHoverStyle)}).on("mouseout",function(){legendItem.css(merge(item.visible?legend.itemStyle:legend.itemHiddenStyle)),boxWrapper.removeClass(activeClass),item.setState()}).on("click",function(event){var strLegendItemClick="legendItemClick",fnLegendItemClick=function(){item.setVisible&&item.setVisible()};boxWrapper.removeClass(activeClass),event={browserEvent:event},item.firePointEvent?item.firePointEvent(strLegendItemClick,event,fnLegendItemClick):fireEvent(item,strLegendItemClick,event,fnLegendItemClick)})},createCheckboxForItem:function(item){var legend=this;item.checkbox=createElement("input",{type:"checkbox",checked:item.selected,defaultChecked:item.selected},legend.options.itemCheckboxStyle,legend.chart.container),addEvent(item.checkbox,"click",function(event){var target=event.target;fireEvent(item.series||item,"checkboxClick",{checked:target.checked,item:item},function(){item.select()})})}}),defaultOptions.legend.itemStyle.cursor="pointer",extend(Chart.prototype,{showResetZoom:function(){function zoomOut(){chart.zoomOut()}var chart=this,lang=defaultOptions.lang,btnOptions=chart.options.chart.resetZoomButton,theme=btnOptions.theme,states=theme.states,alignTo="chart"===btnOptions.relativeTo?null:"plotBox";this.resetZoomButton=chart.renderer.button(lang.resetZoom,null,null,zoomOut,theme,states&&states.hover).attr({align:btnOptions.position.align,title:lang.resetZoomTitle}).addClass("highcharts-reset-zoom").add().align(btnOptions.position,!1,alignTo)},zoomOut:function(){var chart=this;fireEvent(chart,"selection",{resetSelection:!0},function(){chart.zoom()})},zoom:function(event){var hasZoomed,resetZoomButton,chart=this,pointer=chart.pointer,displayButton=!1;!event||event.resetSelection?(each(chart.axes,function(axis){hasZoomed=axis.zoom()}),pointer.initiated=!1):each(event.xAxis.concat(event.yAxis),function(axisData){var axis=axisData.axis,isXAxis=axis.isXAxis;pointer[isXAxis?"zoomX":"zoomY"]&&(hasZoomed=axis.zoom(axisData.min,axisData.max),axis.displayBtn&&(displayButton=!0))}),resetZoomButton=chart.resetZoomButton,displayButton&&!resetZoomButton?chart.showResetZoom():!displayButton&&isObject(resetZoomButton)&&(chart.resetZoomButton=resetZoomButton.destroy()),hasZoomed&&chart.redraw(pick(chart.options.chart.animation,event&&event.animation,chart.pointCount<100))},pan:function(e,panning){var doRedraw,chart=this,hoverPoints=chart.hoverPoints;hoverPoints&&each(hoverPoints,function(point){point.setState()}),each("xy"===panning?[1,0]:[1],function(isX){var spill,axis=chart[isX?"xAxis":"yAxis"][0],horiz=axis.horiz,mousePos=e[horiz?"chartX":"chartY"],mouseDown=horiz?"mouseDownX":"mouseDownY",startPos=chart[mouseDown],halfPointRange=(axis.pointRange||0)/2,extremes=axis.getExtremes(),panMin=axis.toValue(startPos-mousePos,!0)+halfPointRange,panMax=axis.toValue(startPos+axis.len-mousePos,!0)-halfPointRange,flipped=panMin>panMax,newMin=flipped?panMax:panMin,newMax=flipped?panMin:panMax,paddedMin=Math.min(extremes.dataMin,halfPointRange?extremes.min:axis.toValue(axis.toPixels(extremes.min)-axis.minPixelPadding)),paddedMax=Math.max(extremes.dataMax,halfPointRange?extremes.max:axis.toValue(axis.toPixels(extremes.max)+axis.minPixelPadding));spill=paddedMin-newMin,spill>0&&(newMax+=spill,newMin=paddedMin),spill=newMax-paddedMax,spill>0&&(newMax=paddedMax,newMin-=spill),axis.series.length&&newMin!==extremes.min&&newMax!==extremes.max&&(axis.setExtremes(newMin,newMax,!1,!1,{trigger:"pan"}),doRedraw=!0),chart[mouseDown]=mousePos}),doRedraw&&chart.redraw(!1),css(chart.container,{cursor:"move"})}}),extend(Point.prototype,{select:function(selected,accumulate){var point=this,series=point.series,chart=series.chart;selected=pick(selected,!point.selected),point.firePointEvent(selected?"select":"unselect",{accumulate:accumulate},function(){point.selected=point.options.selected=selected,series.options.data[inArray(point,series.data)]=point.options,point.setState(selected&&"select"),accumulate||each(chart.getSelectedPoints(),function(loopPoint){loopPoint.selected&&loopPoint!==point&&(loopPoint.selected=loopPoint.options.selected=!1,series.options.data[inArray(loopPoint,series.data)]=loopPoint.options,loopPoint.setState(""),loopPoint.firePointEvent("unselect"))})})},onMouseOver:function(e){var point=this,series=point.series,chart=series.chart,pointer=chart.pointer;e=e?pointer.normalize(e):pointer.getChartCoordinatesFromPoint(point,chart.inverted),pointer.runPointActions(e,point)},onMouseOut:function(){var point=this,chart=point.series.chart;point.firePointEvent("mouseOut"),each(chart.hoverPoints||[],function(p){p.setState()}),chart.hoverPoints=chart.hoverPoint=null},importEvents:function(){if(!this.hasImportedEvents){var point=this,options=merge(point.series.options.point,point.options),events=options.events;point.events=events,H.objectEach(events,function(event,eventType){addEvent(point,eventType,event)}),this.hasImportedEvents=!0}},setState:function(state,move){var haloOptions,markerAttribs,newSymbol,point=this,plotX=Math.floor(point.plotX),plotY=point.plotY,series=point.series,stateOptions=series.options.states[state]||{},markerOptions=defaultPlotOptions[series.type].marker&&series.options.marker,normalDisabled=markerOptions&&markerOptions.enabled===!1,markerStateOptions=markerOptions&&markerOptions.states&&markerOptions.states[state]||{},stateDisabled=markerStateOptions.enabled===!1,stateMarkerGraphic=series.stateMarkerGraphic,pointMarker=point.marker||{},chart=series.chart,halo=series.halo,hasMarkers=markerOptions&&series.markerAttribs;state=state||"",state===point.state&&!move||point.selected&&"select"!==state||stateOptions.enabled===!1||state&&(stateDisabled||normalDisabled&&markerStateOptions.enabled===!1)||state&&pointMarker.states&&pointMarker.states[state]&&pointMarker.states[state].enabled===!1||(hasMarkers&&(markerAttribs=series.markerAttribs(point,state)),point.graphic?(point.state&&point.graphic.removeClass("highcharts-point-"+point.state),state&&point.graphic.addClass("highcharts-point-"+state),point.graphic.animate(series.pointAttribs(point,state),pick(chart.options.chart.animation,stateOptions.animation)),markerAttribs&&point.graphic.animate(markerAttribs,pick(chart.options.chart.animation,markerStateOptions.animation,markerOptions.animation)),stateMarkerGraphic&&stateMarkerGraphic.hide()):(state&&markerStateOptions&&(newSymbol=pointMarker.symbol||series.symbol,stateMarkerGraphic&&stateMarkerGraphic.currentSymbol!==newSymbol&&(stateMarkerGraphic=stateMarkerGraphic.destroy()),stateMarkerGraphic?stateMarkerGraphic[move?"animate":"attr"]({x:markerAttribs.x,y:markerAttribs.y}):newSymbol&&(series.stateMarkerGraphic=stateMarkerGraphic=chart.renderer.symbol(newSymbol,markerAttribs.x,markerAttribs.y,markerAttribs.width,markerAttribs.height).add(series.markerGroup),stateMarkerGraphic.currentSymbol=newSymbol),stateMarkerGraphic&&stateMarkerGraphic.attr(series.pointAttribs(point,state))),stateMarkerGraphic&&(stateMarkerGraphic[state&&chart.isInsidePlot(plotX,plotY,chart.inverted)?"show":"hide"](),stateMarkerGraphic.element.point=point)),haloOptions=stateOptions.halo,haloOptions&&haloOptions.size?(halo||(series.halo=halo=chart.renderer.path().add((point.graphic||stateMarkerGraphic).parentGroup)),halo[move?"animate":"attr"]({d:point.haloPath(haloOptions.size)}),halo.attr({"class":"highcharts-halo highcharts-color-"+pick(point.colorIndex,series.colorIndex)}),halo.point=point,halo.attr(extend({fill:point.color||series.color,"fill-opacity":haloOptions.opacity,zIndex:-1},haloOptions.attributes))):halo&&halo.point&&halo.point.haloPath&&halo.animate({d:halo.point.haloPath(0)}),point.state=state)},haloPath:function(size){var series=this.series,chart=series.chart;return chart.renderer.symbols.circle(Math.floor(this.plotX)-size,this.plotY-size,2*size,2*size)}}),extend(Series.prototype,{onMouseOver:function(){var series=this,chart=series.chart,hoverSeries=chart.hoverSeries;hoverSeries&&hoverSeries!==series&&hoverSeries.onMouseOut(),series.options.events.mouseOver&&fireEvent(series,"mouseOver"),series.setState("hover"),chart.hoverSeries=series},onMouseOut:function(){var series=this,options=series.options,chart=series.chart,tooltip=chart.tooltip,hoverPoint=chart.hoverPoint;chart.hoverSeries=null,hoverPoint&&hoverPoint.onMouseOut(),series&&options.events.mouseOut&&fireEvent(series,"mouseOut"),!tooltip||series.stickyTracking||tooltip.shared&&!series.noSharedTooltip||tooltip.hide(),series.setState()},setState:function(state){var attribs,series=this,options=series.options,graph=series.graph,stateOptions=options.states,lineWidth=options.lineWidth,i=0;if(state=state||"",series.state!==state){if(each([series.group,series.markerGroup,series.dataLabelsGroup],function(group){group&&(series.state&&group.removeClass("highcharts-series-"+series.state),state&&group.addClass("highcharts-series-"+state))}),series.state=state,stateOptions[state]&&stateOptions[state].enabled===!1)return;if(state&&(lineWidth=stateOptions[state].lineWidth||lineWidth+(stateOptions[state].lineWidthPlus||0)),graph&&!graph.dashstyle)for(attribs={"stroke-width":lineWidth},graph.animate(attribs,pick(series.chart.options.chart.animation,stateOptions[state]&&stateOptions[state].animation));series["zone-graph-"+i];)series["zone-graph-"+i].attr(attribs),i+=1}},setVisible:function(vis,redraw){var showOrHide,series=this,chart=series.chart,legendItem=series.legendItem,ignoreHiddenSeries=chart.options.chart.ignoreHiddenSeries,oldVisibility=series.visible;series.visible=vis=series.options.visible=series.userOptions.visible=void 0===vis?!oldVisibility:vis,showOrHide=vis?"show":"hide",each(["group","dataLabelsGroup","markerGroup","tracker","tt"],function(key){series[key]&&series[key][showOrHide]()}),(chart.hoverSeries===series||(chart.hoverPoint&&chart.hoverPoint.series)===series)&&series.onMouseOut(),legendItem&&chart.legend.colorizeItem(series,vis),series.isDirty=!0,series.options.stacking&&each(chart.series,function(otherSeries){otherSeries.options.stacking&&otherSeries.visible&&(otherSeries.isDirty=!0)}),each(series.linkedSeries,function(otherSeries){otherSeries.setVisible(vis,!1)}),ignoreHiddenSeries&&(chart.isDirtyBox=!0),redraw!==!1&&chart.redraw(),fireEvent(series,showOrHide)},show:function(){this.setVisible(!0)},hide:function(){this.setVisible(!1)},select:function(selected){var series=this;series.selected=selected=void 0===selected?!series.selected:selected,series.checkbox&&(series.checkbox.checked=selected),fireEvent(series,selected?"select":"unselect")},drawTracker:TrackerMixin.drawTrackerGraph})}(Highcharts),function(H){var Chart=H.Chart,each=H.each,inArray=H.inArray,isArray=H.isArray,isObject=H.isObject,pick=H.pick,splat=H.splat;Chart.prototype.setResponsive=function(redraw){var currentRuleIds,options=this.options.responsive,ruleIds=[],currentResponsive=this.currentResponsive;options&&options.rules&&each(options.rules,function(rule){void 0===rule._id&&(rule._id=H.uniqueKey()),this.matchResponsiveRule(rule,ruleIds,redraw)},this);var mergedOptions=H.merge.apply(0,H.map(ruleIds,function(ruleId){return H.find(options.rules,function(rule){return rule._id===ruleId}).chartOptions}));ruleIds=ruleIds.toString()||void 0,currentRuleIds=currentResponsive&&currentResponsive.ruleIds,ruleIds!==currentRuleIds&&(currentResponsive&&this.update(currentResponsive.undoOptions,redraw),ruleIds?(this.currentResponsive={ruleIds:ruleIds,mergedOptions:mergedOptions,undoOptions:this.currentOptions(mergedOptions)},this.update(mergedOptions,redraw)):this.currentResponsive=void 0)},Chart.prototype.matchResponsiveRule=function(rule,matches){var condition=rule.condition,fn=condition.callback||function(){return this.chartWidth<=pick(condition.maxWidth,Number.MAX_VALUE)&&this.chartHeight<=pick(condition.maxHeight,Number.MAX_VALUE)&&this.chartWidth>=pick(condition.minWidth,0)&&this.chartHeight>=pick(condition.minHeight,0)};fn.call(this)&&matches.push(rule._id)},Chart.prototype.currentOptions=function(options){function getCurrent(options,curr,ret,depth){var i;H.objectEach(options,function(val,key){if(!depth&&inArray(key,["series","xAxis","yAxis"])>-1)for(val=splat(val),ret[key]=[],i=0;i<val.length;i++)curr[key][i]&&(ret[key][i]={},getCurrent(val[i],curr[key][i],ret[key][i],depth+1));else isObject(val)?(ret[key]=isArray(val)?[]:{},getCurrent(val,curr[key]||{},ret[key],depth+1)):ret[key]=curr[key]||null})}var ret={};return getCurrent(options,this.options,ret,0),ret}}(Highcharts);var Highcharts=function(Highcharts){return Highcharts}(Highcharts);!function(H){var addEvent=H.addEvent,Axis=H.Axis,Chart=H.Chart,css=H.css,defined=H.defined,each=H.each,extend=H.extend,noop=H.noop,pick=H.pick,Series=H.Series,timeUnits=H.timeUnits,wrap=H.wrap;wrap(Series.prototype,"init",function(proceed){var xAxis,series=this;proceed.apply(this,Array.prototype.slice.call(arguments,1)),xAxis=series.xAxis,xAxis&&xAxis.options.ordinal&&addEvent(series,"updatedData",function(){delete xAxis.ordinalIndex})}),wrap(Axis.prototype,"getTimeTicks",function(proceed,normalizedInterval,min,max,startOfWeek,positions,closestDistance,findHigherRanks){var end,segmentPositions,hasCrossedHigherRank,info,posLength,outsideMax,start=0,higherRanks={},groupPositions=[],lastGroupPosition=-Number.MAX_VALUE,tickPixelIntervalOption=this.options.tickPixelInterval,time=this.chart.time;if(!this.options.ordinal&&!this.options.breaks||!positions||positions.length<3||void 0===min)return proceed.call(this,normalizedInterval,min,max,startOfWeek);for(posLength=positions.length,end=0;posLength>end;end++){if(outsideMax=end&&positions[end-1]>max,positions[end]<min&&(start=end),end===posLength-1||positions[end+1]-positions[end]>5*closestDistance||outsideMax){if(positions[end]>lastGroupPosition){for(segmentPositions=proceed.call(this,normalizedInterval,positions[start],positions[end],startOfWeek);segmentPositions.length&&segmentPositions[0]<=lastGroupPosition;)segmentPositions.shift();segmentPositions.length&&(lastGroupPosition=segmentPositions[segmentPositions.length-1]),groupPositions=groupPositions.concat(segmentPositions)}start=end+1}if(outsideMax)break}if(info=segmentPositions.info,findHigherRanks&&info.unitRange<=timeUnits.hour){for(end=groupPositions.length-1,start=1;end>start;start++)time.dateFormat("%d",groupPositions[start])!==time.dateFormat("%d",groupPositions[start-1])&&(higherRanks[groupPositions[start]]="day",hasCrossedHigherRank=!0);hasCrossedHigherRank&&(higherRanks[groupPositions[0]]="day"),info.higherRanks=higherRanks}if(groupPositions.info=info,findHigherRanks&&defined(tickPixelIntervalOption)){for(var itemToRemove,translated,lastTranslated,medianDistance,distance,length=groupPositions.length,i=length,translatedArr=[],distances=[];i--;)translated=this.translate(groupPositions[i]),lastTranslated&&(distances[i]=lastTranslated-translated),translatedArr[i]=lastTranslated=translated;for(distances.sort(),medianDistance=distances[Math.floor(distances.length/2)],.6*tickPixelIntervalOption>medianDistance&&(medianDistance=null),i=groupPositions[length-1]>max?length-1:length,lastTranslated=void 0;i--;)translated=translatedArr[i],distance=Math.abs(lastTranslated-translated),lastTranslated&&.8*tickPixelIntervalOption>distance&&(null===medianDistance||.8*medianDistance>distance)?(higherRanks[groupPositions[i]]&&!higherRanks[groupPositions[i+1]]?(itemToRemove=i+1,lastTranslated=translated):itemToRemove=i,groupPositions.splice(itemToRemove,1)):lastTranslated=translated}return groupPositions}),extend(Axis.prototype,{beforeSetTickPositions:function(){var len,dist,minIndex,maxIndex,slope,i,axis=this,ordinalPositions=[],useOrdinal=!1,extremes=axis.getExtremes(),min=extremes.min,max=extremes.max,hasBreaks=axis.isXAxis&&!!axis.options.breaks,isOrdinal=axis.options.ordinal,overscrollPointsRange=Number.MAX_VALUE,ignoreHiddenSeries=axis.chart.options.chart.ignoreHiddenSeries,isNavigatorAxis="highcharts-navigator-xaxis"===axis.options.className;if(!axis.options.overscroll||axis.max!==axis.dataMax||axis.chart.mouseIsDown&&!isNavigatorAxis||axis.eventArgs&&(!axis.eventArgs||"navigator"===axis.eventArgs.trigger)||(axis.max+=axis.options.overscroll,!isNavigatorAxis&&defined(axis.userMin)&&(axis.min+=axis.options.overscroll)),isOrdinal||hasBreaks){if(each(axis.series,function(series,i){if(!(ignoreHiddenSeries&&series.visible===!1||series.takeOrdinalPosition===!1&&!hasBreaks)&&(ordinalPositions=ordinalPositions.concat(series.processedXData),len=ordinalPositions.length,ordinalPositions.sort(function(a,b){return a-b}),overscrollPointsRange=Math.min(overscrollPointsRange,pick(series.closestPointRange,overscrollPointsRange)),len))for(i=len-1;i--;)ordinalPositions[i]===ordinalPositions[i+1]&&ordinalPositions.splice(i,1)}),len=ordinalPositions.length,len>2){for(dist=ordinalPositions[1]-ordinalPositions[0],i=len-1;i--&&!useOrdinal;)ordinalPositions[i+1]-ordinalPositions[i]!==dist&&(useOrdinal=!0);!axis.options.keepOrdinalPadding&&(ordinalPositions[0]-min>dist||max-ordinalPositions[ordinalPositions.length-1]>dist)&&(useOrdinal=!0)}else axis.options.overscroll&&(2===len?overscrollPointsRange=ordinalPositions[1]-ordinalPositions[0]:1===len?(overscrollPointsRange=axis.options.overscroll,ordinalPositions=[ordinalPositions[0],ordinalPositions[0]+overscrollPointsRange]):overscrollPointsRange=axis.overscrollPointsRange);useOrdinal?(axis.options.overscroll&&(axis.overscrollPointsRange=overscrollPointsRange,ordinalPositions=ordinalPositions.concat(axis.getOverscrollPositions())),axis.ordinalPositions=ordinalPositions,minIndex=axis.ordinal2lin(Math.max(min,ordinalPositions[0]),!0),maxIndex=Math.max(axis.ordinal2lin(Math.min(max,ordinalPositions[ordinalPositions.length-1]),!0),1),axis.ordinalSlope=slope=(max-min)/(maxIndex-minIndex),axis.ordinalOffset=min-minIndex*slope):(axis.overscrollPointsRange=pick(axis.closestPointRange,axis.overscrollPointsRange),axis.ordinalPositions=axis.ordinalSlope=axis.ordinalOffset=void 0)}axis.isOrdinal=isOrdinal&&useOrdinal,axis.groupIntervalFactor=null},val2lin:function(val,toIndex){var ret,axis=this,ordinalPositions=axis.ordinalPositions;if(ordinalPositions){var i,distance,ordinalIndex,ordinalLength=ordinalPositions.length;for(i=ordinalLength;i--;)if(ordinalPositions[i]===val){ordinalIndex=i;break}for(i=ordinalLength-1;i--;)if(val>ordinalPositions[i]||0===i){distance=(val-ordinalPositions[i])/(ordinalPositions[i+1]-ordinalPositions[i]),ordinalIndex=i+distance;break}ret=toIndex?ordinalIndex:axis.ordinalSlope*(ordinalIndex||0)+axis.ordinalOffset}else ret=val;return ret},lin2val:function(val,fromIndex){var ret,axis=this,ordinalPositions=axis.ordinalPositions;if(ordinalPositions){var linearEquivalentLeft,linearEquivalentRight,distance,ordinalSlope=axis.ordinalSlope,ordinalOffset=axis.ordinalOffset,i=ordinalPositions.length-1;if(fromIndex)0>val?val=ordinalPositions[0]:val>i?val=ordinalPositions[i]:(i=Math.floor(val),distance=val-i);else for(;i--;)if(linearEquivalentLeft=ordinalSlope*i+ordinalOffset,val>=linearEquivalentLeft){linearEquivalentRight=ordinalSlope*(i+1)+ordinalOffset,distance=(val-linearEquivalentLeft)/(linearEquivalentRight-linearEquivalentLeft);break}return void 0!==distance&&void 0!==ordinalPositions[i]?ordinalPositions[i]+(distance?distance*(ordinalPositions[i+1]-ordinalPositions[i]):0):val}return ret=val},getExtendedPositions:function(){var fakeAxis,fakeSeries,axis=this,chart=axis.chart,grouping=axis.series[0].currentDataGrouping,ordinalIndex=axis.ordinalIndex,key=grouping?grouping.count+grouping.unitName:"raw",overscroll=axis.options.overscroll,extremes=axis.getExtremes();return ordinalIndex||(ordinalIndex=axis.ordinalIndex={}),ordinalIndex[key]||(fakeAxis={series:[],chart:chart,getExtremes:function(){return{min:extremes.dataMin,max:extremes.dataMax+overscroll}},options:{ordinal:!0},val2lin:Axis.prototype.val2lin,ordinal2lin:Axis.prototype.ordinal2lin},each(axis.series,function(series){fakeSeries={xAxis:fakeAxis,xData:series.xData.slice(),chart:chart,destroyGroupedData:noop},fakeSeries.xData=fakeSeries.xData.concat(axis.getOverscrollPositions()),fakeSeries.options={dataGrouping:grouping?{enabled:!0,forced:!0,approximation:"open",units:[[grouping.unitName,[grouping.count]]]}:{enabled:!1}},series.processData.apply(fakeSeries),fakeAxis.series.push(fakeSeries)}),axis.beforeSetTickPositions.apply(fakeAxis),ordinalIndex[key]=fakeAxis.ordinalPositions),ordinalIndex[key]},getOverscrollPositions:function(){var axis=this,extraRange=axis.options.overscroll,distance=axis.overscrollPointsRange,positions=[],max=axis.dataMax;if(H.defined(distance))for(positions.push(max);max<=axis.dataMax+extraRange;)max+=distance,positions.push(max);return positions},getGroupIntervalFactor:function(xMin,xMax,series){var i,median,processedXData=series.processedXData,len=processedXData.length,distances=[],groupIntervalFactor=this.groupIntervalFactor;if(!groupIntervalFactor){for(i=0;len-1>i;i++)distances[i]=processedXData[i+1]-processedXData[i];distances.sort(function(a,b){return a-b}),median=distances[Math.floor(len/2)],xMin=Math.max(xMin,processedXData[0]),xMax=Math.min(xMax,processedXData[len-1]),this.groupIntervalFactor=groupIntervalFactor=len*median/(xMax-xMin)}return groupIntervalFactor},postProcessTickInterval:function(tickInterval){var ret,ordinalSlope=this.ordinalSlope;return ret=ordinalSlope?this.options.breaks?this.closestPointRange||tickInterval:tickInterval/(ordinalSlope/this.closestPointRange):tickInterval}}),Axis.prototype.ordinal2lin=Axis.prototype.val2lin,wrap(Chart.prototype,"pan",function(proceed,e){var chart=this,xAxis=chart.xAxis[0],overscroll=xAxis.options.overscroll,chartX=e.chartX,runBase=!1;if(xAxis.options.ordinal&&xAxis.series.length){var trimmedRange,ordinalPositions,searchAxisLeft,searchAxisRight,mouseDownX=chart.mouseDownX,extremes=xAxis.getExtremes(),dataMax=extremes.dataMax,min=extremes.min,max=extremes.max,hoverPoints=chart.hoverPoints,closestPointRange=xAxis.closestPointRange||xAxis.overscrollPointsRange,pointPixelWidth=xAxis.translationSlope*(xAxis.ordinalSlope||closestPointRange),movedUnits=(mouseDownX-chartX)/pointPixelWidth,extendedAxis={ordinalPositions:xAxis.getExtendedPositions()},lin2val=xAxis.lin2val,val2lin=xAxis.val2lin;extendedAxis.ordinalPositions?Math.abs(movedUnits)>1&&(hoverPoints&&each(hoverPoints,function(point){point.setState()
}),0>movedUnits?(searchAxisLeft=extendedAxis,searchAxisRight=xAxis.ordinalPositions?xAxis:extendedAxis):(searchAxisLeft=xAxis.ordinalPositions?xAxis:extendedAxis,searchAxisRight=extendedAxis),ordinalPositions=searchAxisRight.ordinalPositions,dataMax>ordinalPositions[ordinalPositions.length-1]&&ordinalPositions.push(dataMax),chart.fixedRange=max-min,trimmedRange=xAxis.toFixedRange(null,null,lin2val.apply(searchAxisLeft,[val2lin.apply(searchAxisLeft,[min,!0])+movedUnits,!0]),lin2val.apply(searchAxisRight,[val2lin.apply(searchAxisRight,[max,!0])+movedUnits,!0])),trimmedRange.min>=Math.min(extremes.dataMin,min)&&trimmedRange.max<=Math.max(dataMax,max)+overscroll&&xAxis.setExtremes(trimmedRange.min,trimmedRange.max,!0,!1,{trigger:"pan"}),chart.mouseDownX=chartX,css(chart.container,{cursor:"move"})):runBase=!0}else runBase=!0;runBase&&(overscroll&&(xAxis.max=xAxis.dataMax+overscroll),proceed.apply(this,Array.prototype.slice.call(arguments,1)))})}(Highcharts),function(H){function stripArguments(){return Array.prototype.slice.call(arguments,1)}function drawPointsWrapped(proceed){proceed.apply(this),this.drawBreaks(this.xAxis,["x"]),this.drawBreaks(this.yAxis,pick(this.pointArrayMap,["y"]))}var pick=H.pick,wrap=H.wrap,each=H.each,extend=H.extend,isArray=H.isArray,fireEvent=H.fireEvent,Axis=H.Axis,Series=H.Series;extend(Axis.prototype,{isInBreak:function(brk,val){var ret,repeat=brk.repeat||1/0,from=brk.from,length=brk.to-brk.from,test=val>=from?(val-from)%repeat:repeat-(from-val)%repeat;return ret=brk.inclusive?length>=test:length>test&&0!==test},isInAnyBreak:function(val,testKeep){var inbrk,keep,ret,breaks=this.options.breaks,i=breaks&&breaks.length;if(i){for(;i--;)this.isInBreak(breaks[i],val)&&(inbrk=!0,keep||(keep=pick(breaks[i].showPoints,this.isXAxis?!1:!0)));ret=inbrk&&testKeep?inbrk&&!keep:inbrk}return ret}}),wrap(Axis.prototype,"setTickPositions",function(proceed){if(proceed.apply(this,Array.prototype.slice.call(arguments,1)),this.options.breaks){var i,axis=this,tickPositions=this.tickPositions,info=this.tickPositions.info,newPositions=[];for(i=0;i<tickPositions.length;i++)axis.isInAnyBreak(tickPositions[i])||newPositions.push(tickPositions[i]);this.tickPositions=newPositions,this.tickPositions.info=info}}),wrap(Axis.prototype,"init",function(proceed,chart,userOptions){var breaks,axis=this;userOptions.breaks&&userOptions.breaks.length&&(userOptions.ordinal=!1),proceed.call(this,chart,userOptions),breaks=this.options.breaks,axis.isBroken=isArray(breaks)&&!!breaks.length,axis.isBroken&&(axis.val2lin=function(val){var brk,i,nval=val;for(i=0;i<axis.breakArray.length;i++)if(brk=axis.breakArray[i],brk.to<=val)nval-=brk.len;else{if(brk.from>=val)break;if(axis.isInBreak(brk,val)){nval-=val-brk.from;break}}return nval},axis.lin2val=function(val){var brk,i,nval=val;for(i=0;i<axis.breakArray.length&&(brk=axis.breakArray[i],!(brk.from>=nval));i++)brk.to<nval?nval+=brk.len:axis.isInBreak(brk,nval)&&(nval+=brk.len);return nval},axis.setExtremes=function(newMin,newMax,redraw,animation,eventArguments){for(;this.isInAnyBreak(newMin);)newMin-=this.closestPointRange;for(;this.isInAnyBreak(newMax);)newMax-=this.closestPointRange;Axis.prototype.setExtremes.call(this,newMin,newMax,redraw,animation,eventArguments)},axis.setAxisTranslation=function(saveOld){Axis.prototype.setAxisTranslation.call(this,saveOld);var inBrk,repeat,start,i,breaks=axis.options.breaks,breakArrayT=[],breakArray=[],length=0,min=axis.userMin||axis.min,max=axis.userMax||axis.max,pointRangePadding=pick(axis.pointRangePadding,0);each(breaks,function(brk){repeat=brk.repeat||1/0,axis.isInBreak(brk,min)&&(min+=brk.to%repeat-min%repeat),axis.isInBreak(brk,max)&&(max-=max%repeat-brk.from%repeat)}),each(breaks,function(brk){for(start=brk.from,repeat=brk.repeat||1/0;start-repeat>min;)start-=repeat;for(;min>start;)start+=repeat;for(i=start;max>i;i+=repeat)breakArrayT.push({value:i,move:"in"}),breakArrayT.push({value:i+(brk.to-brk.from),move:"out",size:brk.breakSize})}),breakArrayT.sort(function(a,b){var ret;return ret=a.value===b.value?("in"===a.move?0:1)-("in"===b.move?0:1):a.value-b.value}),inBrk=0,start=min,each(breakArrayT,function(brk){inBrk+="in"===brk.move?1:-1,1===inBrk&&"in"===brk.move&&(start=brk.value),0===inBrk&&(breakArray.push({from:start,to:brk.value,len:brk.value-start-(brk.size||0)}),length+=brk.value-start-(brk.size||0))}),axis.breakArray=breakArray,axis.unitLength=max-min-length+pointRangePadding,fireEvent(axis,"afterBreaks"),axis.options.staticScale?axis.transA=axis.options.staticScale:axis.unitLength&&(axis.transA*=(max-axis.min+pointRangePadding)/axis.unitLength),pointRangePadding&&(axis.minPixelPadding=axis.transA*axis.minPointOffset),axis.min=min,axis.max=max})}),wrap(Series.prototype,"generatePoints",function(proceed){proceed.apply(this,stripArguments(arguments));var point,nullGap,series=this,xAxis=series.xAxis,yAxis=series.yAxis,points=series.points,i=points.length,connectNulls=series.options.connectNulls;if(xAxis&&yAxis&&(xAxis.options.breaks||yAxis.options.breaks))for(;i--;)point=points[i],nullGap=null===point.y&&connectNulls===!1,nullGap||!xAxis.isInAnyBreak(point.x,!0)&&!yAxis.isInAnyBreak(point.y,!0)||(points.splice(i,1),this.data[i]&&this.data[i].destroyElements())}),H.Series.prototype.drawBreaks=function(axis,keys){var breaks,threshold,eventName,y,series=this,points=series.points;axis&&each(keys,function(key){breaks=axis.breakArray||[],threshold=axis.isXAxis?axis.min:pick(series.options.threshold,axis.min),each(points,function(point){y=pick(point["stack"+key.toUpperCase()],point[key]),each(breaks,function(brk){eventName=!1,threshold<brk.from&&y>brk.to||threshold>brk.from&&y<brk.from?eventName="pointBreak":(threshold<brk.from&&y>brk.from&&y<brk.to||threshold>brk.from&&y>brk.to&&y<brk.from)&&(eventName="pointInBreak"),eventName&&fireEvent(axis,eventName,{point:point,brk:brk})})})})},H.Series.prototype.gappedPath=function(){var xRange,stack,gapSize=this.options.gapSize,points=this.points.slice(),i=points.length-1,yAxis=this.yAxis;if(gapSize&&i>0)for("value"!==this.options.gapUnit&&(gapSize*=this.closestPointRange);i--;)points[i+1].x-points[i].x>gapSize&&(xRange=(points[i].x+points[i+1].x)/2,points.splice(i+1,0,{isNull:!0,x:xRange}),this.options.stacking&&(stack=yAxis.stacks[this.stackKey][xRange]=new H.StackItem(yAxis,yAxis.options.stackLabels,!1,xRange,this.stack),stack.total=0));return this.getGraphPath(points)},wrap(H.seriesTypes.column.prototype,"drawPoints",drawPointsWrapped),wrap(H.Series.prototype,"drawPoints",drawPointsWrapped)}(Highcharts),function(H){var arrayMax=H.arrayMax,arrayMin=H.arrayMin,Axis=H.Axis,defaultPlotOptions=H.defaultPlotOptions,defined=H.defined,each=H.each,extend=H.extend,format=H.format,isNumber=H.isNumber,merge=H.merge,pick=H.pick,Point=H.Point,Series=H.Series,Tooltip=H.Tooltip,wrap=H.wrap,seriesProto=Series.prototype,baseProcessData=seriesProto.processData,baseGeneratePoints=seriesProto.generatePoints,commonOptions={approximation:"average",groupPixelWidth:2,dateTimeLabelFormats:{millisecond:["%A, %b %e, %H:%M:%S.%L","%A, %b %e, %H:%M:%S.%L","-%H:%M:%S.%L"],second:["%A, %b %e, %H:%M:%S","%A, %b %e, %H:%M:%S","-%H:%M:%S"],minute:["%A, %b %e, %H:%M","%A, %b %e, %H:%M","-%H:%M"],hour:["%A, %b %e, %H:%M","%A, %b %e, %H:%M","-%H:%M"],day:["%A, %b %e, %Y","%A, %b %e","-%A, %b %e, %Y"],week:["Week from %A, %b %e, %Y","%A, %b %e","-%A, %b %e, %Y"],month:["%B %Y","%B","-%B %Y"],year:["%Y","%Y","-%Y"]}},specificOptions={line:{},spline:{},area:{},areaspline:{},column:{approximation:"sum",groupPixelWidth:10},arearange:{approximation:"range"},areasplinerange:{approximation:"range"},columnrange:{approximation:"range",groupPixelWidth:10},candlestick:{approximation:"ohlc",groupPixelWidth:10},ohlc:{approximation:"ohlc",groupPixelWidth:5}},defaultDataGroupingUnits=H.defaultDataGroupingUnits=[["millisecond",[1,2,5,10,20,25,50,100,200,500]],["second",[1,2,5,10,15,30]],["minute",[1,2,5,10,15,30]],["hour",[1,2,3,4,6,8,12]],["day",[1]],["week",[1]],["month",[1,3,6]],["year",null]],approximations=H.approximations={sum:function(arr){var ret,len=arr.length;if(!len&&arr.hasNulls)ret=null;else if(len)for(ret=0;len--;)ret+=arr[len];return ret},average:function(arr){var len=arr.length,ret=approximations.sum(arr);return isNumber(ret)&&len&&(ret/=len),ret},averages:function(){var ret=[];return each(arguments,function(arr){ret.push(approximations.average(arr))}),void 0===ret[0]?void 0:ret},open:function(arr){return arr.length?arr[0]:arr.hasNulls?null:void 0},high:function(arr){return arr.length?arrayMax(arr):arr.hasNulls?null:void 0},low:function(arr){return arr.length?arrayMin(arr):arr.hasNulls?null:void 0},close:function(arr){return arr.length?arr[arr.length-1]:arr.hasNulls?null:void 0},ohlc:function(open,high,low,close){return open=approximations.open(open),high=approximations.high(high),low=approximations.low(low),close=approximations.close(close),isNumber(open)||isNumber(high)||isNumber(low)||isNumber(close)?[open,high,low,close]:void 0},range:function(low,high){return low=approximations.low(low),high=approximations.high(high),isNumber(low)||isNumber(high)?[low,high]:null===low&&null===high?null:void 0}};seriesProto.groupData=function(xData,yData,groupPositions,approximation){var pointX,pointY,groupedY,valuesLen,i,j,series=this,data=series.data,dataOptions=series.options.data,groupedXData=[],groupedYData=[],groupMap=[],dataLength=xData.length,handleYData=!!yData,values=[],approximationFn="function"==typeof approximation?approximation:approximations[approximation]||specificOptions[series.type]&&approximations[specificOptions[series.type].approximation]||approximations[commonOptions.approximation],pointArrayMap=series.pointArrayMap,pointArrayMapLength=pointArrayMap&&pointArrayMap.length,pos=0,start=0;for(pointArrayMapLength?each(pointArrayMap,function(){values.push([])}):values.push([]),valuesLen=pointArrayMapLength||1,i=0;dataLength>=i&&!(xData[i]>=groupPositions[0]);i++);for(i;dataLength>=i;i++){for(;void 0!==groupPositions[pos+1]&&xData[i]>=groupPositions[pos+1]||i===dataLength;){for(pointX=groupPositions[pos],series.dataGroupInfo={start:start,length:values[0].length},groupedY=approximationFn.apply(series,values),void 0!==groupedY&&(groupedXData.push(pointX),groupedYData.push(groupedY),groupMap.push(series.dataGroupInfo)),start=i,j=0;valuesLen>j;j++)values[j].length=0,values[j].hasNulls=!1;if(pos+=1,i===dataLength)break}if(i===dataLength)break;if(pointArrayMap){var val,index=series.cropStart+i,point=data&&data[index]||series.pointClass.prototype.applyOptions.apply({series:series},[dataOptions[index]]);for(j=0;pointArrayMapLength>j;j++)val=point[pointArrayMap[j]],isNumber(val)?values[j].push(val):null===val&&(values[j].hasNulls=!0)}else pointY=handleYData?yData[i]:null,isNumber(pointY)?values[0].push(pointY):null===pointY&&(values[0].hasNulls=!0)}return[groupedXData,groupedYData,groupMap]},seriesProto.processData=function(){var hasGroupedData,skip,currentDataGrouping,series=this,chart=series.chart,options=series.options,dataGroupingOptions=options.dataGrouping,groupingEnabled=series.allowDG!==!1&&dataGroupingOptions&&pick(dataGroupingOptions.enabled,chart.options.isStock),visible=series.visible||!chart.options.chart.ignoreHiddenSeries,lastDataGrouping=this.currentDataGrouping;if(series.forceCrop=groupingEnabled,series.groupPixelWidth=null,series.hasProcessed=!0,skip=baseProcessData.apply(series,arguments)===!1||!groupingEnabled,!skip){series.destroyGroupedData();var i,processedXData=series.processedXData,processedYData=series.processedYData,plotSizeX=chart.plotSizeX,xAxis=series.xAxis,ordinal=xAxis.options.ordinal,groupPixelWidth=series.groupPixelWidth=xAxis.getGroupPixelWidth&&xAxis.getGroupPixelWidth();if(groupPixelWidth){hasGroupedData=!0,series.isDirty=!0,series.points=null;var extremes=xAxis.getExtremes(),xMin=extremes.min,xMax=extremes.max,groupIntervalFactor=ordinal&&xAxis.getGroupIntervalFactor(xMin,xMax,series)||1,interval=groupPixelWidth*(xMax-xMin)/plotSizeX*groupIntervalFactor,groupPositions=xAxis.getTimeTicks(xAxis.normalizeTimeTickInterval(interval,dataGroupingOptions.units||defaultDataGroupingUnits),Math.min(xMin,processedXData[0]),Math.max(xMax,processedXData[processedXData.length-1]),xAxis.options.startOfWeek,processedXData,series.closestPointRange),groupedData=seriesProto.groupData.apply(series,[processedXData,processedYData,groupPositions,dataGroupingOptions.approximation]),groupedXData=groupedData[0],groupedYData=groupedData[1];if(dataGroupingOptions.smoothed&&groupedXData.length){for(i=groupedXData.length-1,groupedXData[i]=Math.min(groupedXData[i],xMax);i--&&i>0;)groupedXData[i]+=interval/2;groupedXData[0]=Math.max(groupedXData[0],xMin)}currentDataGrouping=groupPositions.info,series.closestPointRange=groupPositions.info.totalRange,series.groupMap=groupedData[2],defined(groupedXData[0])&&groupedXData[0]<xAxis.dataMin&&visible&&(xAxis.min===xAxis.dataMin&&(xAxis.min=groupedXData[0]),xAxis.dataMin=groupedXData[0]),series.processedXData=groupedXData,series.processedYData=groupedYData}else series.groupMap=null;series.hasGroupedData=hasGroupedData,series.currentDataGrouping=currentDataGrouping,series.preventGraphAnimation=(lastDataGrouping&&lastDataGrouping.totalRange)!==(currentDataGrouping&&currentDataGrouping.totalRange)}},seriesProto.destroyGroupedData=function(){var groupedData=this.groupedData;each(groupedData||[],function(point,i){point&&(groupedData[i]=point.destroy?point.destroy():null)}),this.groupedData=null},seriesProto.generatePoints=function(){baseGeneratePoints.apply(this),this.destroyGroupedData(),this.groupedData=this.hasGroupedData?this.points:null},wrap(Point.prototype,"update",function(proceed){this.dataGroup?H.error(24):proceed.apply(this,[].slice.call(arguments,1))}),wrap(Tooltip.prototype,"tooltipFooterHeaderFormatter",function(proceed,labelConfig,isFooter){var xDateFormatEnd,currentDataGrouping,dateTimeLabelFormats,labelFormats,formattedKey,tooltip=this,time=this.chart.time,series=labelConfig.series,options=series.options,tooltipOptions=series.tooltipOptions,dataGroupingOptions=options.dataGrouping,xDateFormat=tooltipOptions.xDateFormat,xAxis=series.xAxis;return xAxis&&"datetime"===xAxis.options.type&&dataGroupingOptions&&isNumber(labelConfig.key)?(currentDataGrouping=series.currentDataGrouping,dateTimeLabelFormats=dataGroupingOptions.dateTimeLabelFormats,currentDataGrouping?(labelFormats=dateTimeLabelFormats[currentDataGrouping.unitName],1===currentDataGrouping.count?xDateFormat=labelFormats[0]:(xDateFormat=labelFormats[1],xDateFormatEnd=labelFormats[2])):!xDateFormat&&dateTimeLabelFormats&&(xDateFormat=tooltip.getXDateFormat(labelConfig,tooltipOptions,xAxis)),formattedKey=time.dateFormat(xDateFormat,labelConfig.key),xDateFormatEnd&&(formattedKey+=time.dateFormat(xDateFormatEnd,labelConfig.key+currentDataGrouping.totalRange-1)),format(tooltipOptions[(isFooter?"footer":"header")+"Format"],{point:extend(labelConfig.point,{key:formattedKey}),series:series},time)):proceed.call(tooltip,labelConfig,isFooter)}),wrap(seriesProto,"destroy",function(proceed){this.destroyGroupedData(),proceed.call(this)}),wrap(seriesProto,"setOptions",function(proceed,itemOptions){var options=proceed.call(this,itemOptions),type=this.type,plotOptions=this.chart.options.plotOptions,defaultOptions=defaultPlotOptions[type].dataGrouping;return specificOptions[type]&&(defaultOptions||(defaultOptions=merge(commonOptions,specificOptions[type])),options.dataGrouping=merge(defaultOptions,plotOptions.series&&plotOptions.series.dataGrouping,plotOptions[type].dataGrouping,itemOptions.dataGrouping)),this.chart.options.isStock&&(this.requireSorting=!0),options}),wrap(Axis.prototype,"setScale",function(proceed){proceed.call(this),each(this.series,function(series){series.hasProcessed=!1})}),Axis.prototype.getGroupPixelWidth=function(){var i,dataLength,dgOptions,series=this.series,len=series.length,groupPixelWidth=0,doGrouping=!1;for(i=len;i--;)dgOptions=series[i].options.dataGrouping,dgOptions&&(groupPixelWidth=Math.max(groupPixelWidth,dgOptions.groupPixelWidth));for(i=len;i--;)dgOptions=series[i].options.dataGrouping,dgOptions&&series[i].hasProcessed&&(dataLength=(series[i].processedXData||series[i].data).length,(series[i].groupPixelWidth||dataLength>this.chart.plotSizeX/groupPixelWidth||dataLength&&dgOptions.forced)&&(doGrouping=!0));return doGrouping?groupPixelWidth:0},Axis.prototype.setDataGrouping=function(dataGrouping,redraw){var i;if(redraw=pick(redraw,!0),dataGrouping||(dataGrouping={forced:!1,units:null}),this instanceof Axis)for(i=this.series.length;i--;)this.series[i].update({dataGrouping:dataGrouping},!1);else each(this.chart.options.series,function(seriesOptions){seriesOptions.dataGrouping=dataGrouping},!1);redraw&&this.chart.redraw()}}(Highcharts),function(H){var each=H.each,Point=H.Point,seriesType=H.seriesType,seriesTypes=H.seriesTypes;seriesType("ohlc","column",{lineWidth:1,tooltip:{pointFormat:'<span style="color:{point.color}">●</span> <b> {series.name}</b><br/>Open: {point.open}<br/>High: {point.high}<br/>Low: {point.low}<br/>Close: {point.close}<br/>'},threshold:null,states:{hover:{lineWidth:3}},stickyTracking:!0},{directTouch:!1,pointArrayMap:["open","high","low","close"],toYData:function(point){return[point.open,point.high,point.low,point.close]},pointValKey:"close",pointAttrToOptions:{stroke:"color","stroke-width":"lineWidth"},pointAttribs:function(point,state){var attribs=seriesTypes.column.prototype.pointAttribs.call(this,point,state),options=this.options;return delete attribs.fill,!point.options.color&&options.upColor&&point.open<point.close&&(attribs.stroke=options.upColor),attribs},translate:function(){var series=this,yAxis=series.yAxis,hasModifyValue=!!series.modifyValue,translated=["plotOpen","plotHigh","plotLow","plotClose","yBottom"];seriesTypes.column.prototype.translate.apply(series),each(series.points,function(point){each([point.open,point.high,point.low,point.close,point.low],function(value,i){null!==value&&(hasModifyValue&&(value=series.modifyValue(value)),point[translated[i]]=yAxis.toPixels(value,!0))}),point.tooltipPos[1]=point.plotHigh+yAxis.pos-series.chart.plotTop})},drawPoints:function(){var series=this,points=series.points,chart=series.chart;each(points,function(point){var plotOpen,plotClose,crispCorr,halfWidth,path,crispX,graphic=point.graphic,isNew=!graphic;void 0!==point.plotY&&(graphic||(point.graphic=graphic=chart.renderer.path().add(series.group)),graphic.attr(series.pointAttribs(point,point.selected&&"select")),crispCorr=graphic.strokeWidth()%2/2,crispX=Math.round(point.plotX)-crispCorr,halfWidth=Math.round(point.shapeArgs.width/2),path=["M",crispX,Math.round(point.yBottom),"L",crispX,Math.round(point.plotHigh)],null!==point.open&&(plotOpen=Math.round(point.plotOpen)+crispCorr,path.push("M",crispX,plotOpen,"L",crispX-halfWidth,plotOpen)),null!==point.close&&(plotClose=Math.round(point.plotClose)+crispCorr,path.push("M",crispX,plotClose,"L",crispX+halfWidth,plotClose)),graphic[isNew?"attr":"animate"]({d:path}).addClass(point.getClassName(),!0))})},animate:null},{getClassName:function(){return Point.prototype.getClassName.call(this)+(this.open<this.close?" highcharts-point-up":" highcharts-point-down")}})}(Highcharts),function(H){var defaultPlotOptions=H.defaultPlotOptions,each=H.each,merge=H.merge,seriesType=H.seriesType,seriesTypes=H.seriesTypes,candlestickOptions={states:{hover:{lineWidth:2}},tooltip:defaultPlotOptions.ohlc.tooltip,threshold:null,lineColor:"#000000",lineWidth:1,upColor:"#ffffff",stickyTracking:!0};seriesType("candlestick","ohlc",merge(defaultPlotOptions.column,candlestickOptions),{pointAttribs:function(point,state){var stateOptions,attribs=seriesTypes.column.prototype.pointAttribs.call(this,point,state),options=this.options,isUp=point.open<point.close,stroke=options.lineColor||this.color;return attribs["stroke-width"]=options.lineWidth,attribs.fill=point.options.color||(isUp?options.upColor||this.color:this.color),attribs.stroke=point.lineColor||(isUp?options.upLineColor||stroke:stroke),state&&(stateOptions=options.states[state],attribs.fill=stateOptions.color||attribs.fill,attribs.stroke=stateOptions.lineColor||attribs.stroke,attribs["stroke-width"]=stateOptions.lineWidth||attribs["stroke-width"]),attribs},drawPoints:function(){var series=this,points=series.points,chart=series.chart;each(points,function(point){var plotOpen,plotClose,topBox,bottomBox,hasTopWhisker,hasBottomWhisker,crispCorr,crispX,path,halfWidth,graphic=point.graphic,isNew=!graphic;void 0!==point.plotY&&(graphic||(point.graphic=graphic=chart.renderer.path().add(series.group)),graphic.attr(series.pointAttribs(point,point.selected&&"select")).shadow(series.options.shadow),crispCorr=graphic.strokeWidth()%2/2,crispX=Math.round(point.plotX)-crispCorr,plotOpen=point.plotOpen,plotClose=point.plotClose,topBox=Math.min(plotOpen,plotClose),bottomBox=Math.max(plotOpen,plotClose),halfWidth=Math.round(point.shapeArgs.width/2),hasTopWhisker=Math.round(topBox)!==Math.round(point.plotHigh),hasBottomWhisker=bottomBox!==point.yBottom,topBox=Math.round(topBox)+crispCorr,bottomBox=Math.round(bottomBox)+crispCorr,path=[],path.push("M",crispX-halfWidth,bottomBox,"L",crispX-halfWidth,topBox,"L",crispX+halfWidth,topBox,"L",crispX+halfWidth,bottomBox,"Z","M",crispX,topBox,"L",crispX,hasTopWhisker?Math.round(point.plotHigh):topBox,"M",crispX,bottomBox,"L",crispX,hasBottomWhisker?Math.round(point.yBottom):bottomBox),graphic[isNew?"attr":"animate"]({d:path}).addClass(point.getClassName(),!0))})}})}(Highcharts);var onSeriesMixin=function(H){var each=H.each,seriesTypes=H.seriesTypes,stableSort=H.stableSort,onSeriesMixin={translate:function(){seriesTypes.column.prototype.translate.apply(this);var point,lastPoint,leftPoint,lastX,rightPoint,currentDataGrouping,distanceRatio,series=this,options=series.options,chart=series.chart,points=series.points,cursor=points.length-1,optionsOnSeries=options.onSeries,onSeries=optionsOnSeries&&chart.get(optionsOnSeries),onKey=options.onKey||"y",step=onSeries&&onSeries.options.step,onData=onSeries&&onSeries.points,i=onData&&onData.length,xAxis=series.xAxis,yAxis=series.yAxis,xAxisExt=xAxis.getExtremes(),xOffset=0;if(onSeries&&onSeries.visible&&i)for(xOffset=(onSeries.pointXOffset||0)+(onSeries.barW||0)/2,currentDataGrouping=onSeries.currentDataGrouping,lastX=onData[i-1].x+(currentDataGrouping?currentDataGrouping.totalRange:0),stableSort(points,function(a,b){return a.x-b.x}),onKey="plot"+onKey[0].toUpperCase()+onKey.substr(1);i--&&points[cursor]&&(leftPoint=onData[i],point=points[cursor],point.y=leftPoint.y,!(leftPoint.x<=point.x&&void 0!==leftPoint[onKey]&&(point.x<=lastX&&(point.plotY=leftPoint[onKey],leftPoint.x<point.x&&!step&&(rightPoint=onData[i+1],rightPoint&&void 0!==rightPoint[onKey]&&(distanceRatio=(point.x-leftPoint.x)/(rightPoint.x-leftPoint.x),point.plotY+=distanceRatio*(rightPoint[onKey]-leftPoint[onKey]),point.y+=distanceRatio*(rightPoint.y-leftPoint.y)))),cursor--,i++,0>cursor))););each(points,function(point,i){var stackIndex;void 0===point.plotY&&(point.x>=xAxisExt.min&&point.x<=xAxisExt.max?point.plotY=chart.chartHeight-xAxis.bottom-(xAxis.opposite?xAxis.height:0)+xAxis.offset-yAxis.top:point.shapeArgs={}),point.plotX+=xOffset,lastPoint=points[i-1],lastPoint&&lastPoint.plotX===point.plotX&&(void 0===lastPoint.stackIndex&&(lastPoint.stackIndex=0),stackIndex=lastPoint.stackIndex+1),point.stackIndex=stackIndex})}};return onSeriesMixin}(Highcharts);return function(H,onSeriesMixin){function createPinSymbol(shape){symbols[shape+"pin"]=function(x,y,w,h,options){var path,labelTopOrBottomY,anchorX=options&&options.anchorX,anchorY=options&&options.anchorY;return"circle"===shape&&h>w&&(x-=Math.round((h-w)/2),w=h),path=symbols[shape](x,y,w,h),anchorX&&anchorY&&(labelTopOrBottomY=y>anchorY?y:y+h,path.push("M","circle"===shape?path[1]-path[4]:path[1]+path[4]/2,labelTopOrBottomY,"L",anchorX,anchorY),path=path.concat(symbols.circle(anchorX-1,anchorY-1,2,2))),path}}var addEvent=H.addEvent,each=H.each,merge=H.merge,noop=H.noop,Renderer=H.Renderer,Series=H.Series,seriesType=H.seriesType,SVGRenderer=H.SVGRenderer,TrackerMixin=H.TrackerMixin,VMLRenderer=H.VMLRenderer,symbols=SVGRenderer.prototype.symbols;seriesType("flags","column",{pointRange:0,allowOverlapX:!1,shape:"flag",stackDistance:12,textAlign:"center",tooltip:{pointFormat:"{point.text}<br/>"},threshold:null,y:-30,fillColor:"#ffffff",lineWidth:1,states:{hover:{lineColor:"#000000",fillColor:"#ccd6eb"}},style:{fontSize:"11px",fontWeight:"bold"}},{sorted:!1,noSharedTooltip:!0,allowDG:!1,takeOrdinalPosition:!1,trackerGroups:["markerGroup"],forceCrop:!0,init:Series.prototype.init,pointAttribs:function(point,state){var options=this.options,color=point&&point.color||this.color,lineColor=options.lineColor,lineWidth=point&&point.lineWidth,fill=point&&point.fillColor||options.fillColor;return state&&(fill=options.states[state].fillColor,lineColor=options.states[state].lineColor,lineWidth=options.states[state].lineWidth),{fill:fill||color,stroke:lineColor||color,"stroke-width":lineWidth||options.lineWidth||0}},translate:onSeriesMixin.translate,drawPoints:function(){var plotX,plotY,shape,i,point,graphic,stackIndex,anchorY,attribs,outsideRight,series=this,points=series.points,chart=series.chart,renderer=chart.renderer,options=series.options,optionsY=options.y,yAxis=series.yAxis,boxesMap={},boxes=[];for(i=points.length;i--;)point=points[i],outsideRight=point.plotX>series.xAxis.len,plotX=point.plotX,stackIndex=point.stackIndex,shape=point.options.shape||options.shape,plotY=point.plotY,void 0!==plotY&&(plotY=point.plotY+optionsY-(void 0!==stackIndex&&stackIndex*options.stackDistance)),point.anchorX=stackIndex?void 0:point.plotX,anchorY=stackIndex?void 0:point.plotY,graphic=point.graphic,void 0!==plotY&&plotX>=0&&!outsideRight?(graphic||(graphic=point.graphic=renderer.label("",null,null,shape,null,null,options.useHTML).attr(series.pointAttribs(point)).css(merge(options.style,point.style)).attr({align:"flag"===shape?"left":"center",width:options.width,height:options.height,"text-align":options.textAlign}).addClass("highcharts-point").add(series.markerGroup),point.graphic.div&&(point.graphic.div.point=point),graphic.shadow(options.shadow),graphic.isNew=!0),plotX>0&&(plotX-=graphic.strokeWidth()%2),attribs={y:plotY,anchorY:anchorY},options.allowOverlapX&&(attribs.x=plotX,attribs.anchorX=point.anchorX),graphic.attr({text:point.options.title||options.title||"A"})[graphic.isNew?"attr":"animate"](attribs),options.allowOverlapX||(boxesMap[point.plotX]?boxesMap[point.plotX].size=Math.max(boxesMap[point.plotX].size,graphic.width):boxesMap[point.plotX]={align:0,size:graphic.width,target:plotX,anchorX:plotX}),point.tooltipPos=chart.inverted?[yAxis.len+yAxis.pos-chart.plotLeft-plotY,series.xAxis.len-plotX]:[plotX,plotY+yAxis.pos-chart.plotTop]):graphic&&(point.graphic=graphic.destroy());options.allowOverlapX||(H.objectEach(boxesMap,function(box){box.plotX=box.anchorX,boxes.push(box)}),H.distribute(boxes,this.xAxis.len),each(points,function(point){var box=point.graphic&&boxesMap[point.plotX];box&&(point.graphic[point.graphic.isNew?"attr":"animate"]({x:box.pos,anchorX:point.anchorX}),point.graphic.isNew=!1)})),options.useHTML&&H.wrap(series.markerGroup,"on",function(proceed){return H.SVGElement.prototype.on.apply(proceed.apply(this,[].slice.call(arguments,1)),[].slice.call(arguments,1))})},drawTracker:function(){var series=this,points=series.points;TrackerMixin.drawTrackerPoint.apply(this),each(points,function(point){var graphic=point.graphic;graphic&&addEvent(graphic.element,"mouseover",function(){point.stackIndex>0&&!point.raised&&(point._y=graphic.y,graphic.attr({y:point._y-8}),point.raised=!0),each(points,function(otherPoint){otherPoint!==point&&otherPoint.raised&&otherPoint.graphic&&(otherPoint.graphic.attr({y:otherPoint._y}),otherPoint.raised=!1)})})})},animate:noop,buildKDTree:noop,setClip:noop}),symbols.flag=function(x,y,w,h,options){var anchorX=options&&options.anchorX||x,anchorY=options&&options.anchorY||y;return symbols.circle(anchorX-1,anchorY-1,2,2).concat(["M",anchorX,anchorY,"L",x,y+h,x,y,x+w,y,x+w,y+h,x,y+h,"Z"])},createPinSymbol("circle"),createPinSymbol("square"),Renderer===VMLRenderer&&each(["flag","circlepin","squarepin"],function(shape){VMLRenderer.prototype.symbols[shape]=symbols[shape]})}(Highcharts,onSeriesMixin),function(H){function Scrollbar(renderer,options,chart){this.init(renderer,options,chart)}var swapXY,addEvent=H.addEvent,Axis=H.Axis,correctFloat=H.correctFloat,defaultOptions=H.defaultOptions,defined=H.defined,destroyObjectProperties=H.destroyObjectProperties,each=H.each,fireEvent=H.fireEvent,hasTouch=H.hasTouch,isTouchDevice=H.isTouchDevice,merge=H.merge,pick=H.pick,removeEvent=H.removeEvent,svg=H.svg,wrap=H.wrap,defaultScrollbarOptions={height:isTouchDevice?20:14,barBorderRadius:0,buttonBorderRadius:0,liveRedraw:svg&&!isTouchDevice,margin:10,minWidth:6,step:.2,zIndex:3,barBackgroundColor:"#cccccc",barBorderWidth:1,barBorderColor:"#cccccc",buttonArrowColor:"#333333",buttonBackgroundColor:"#e6e6e6",buttonBorderColor:"#cccccc",buttonBorderWidth:1,rifleColor:"#333333",trackBackgroundColor:"#f2f2f2",trackBorderColor:"#f2f2f2",trackBorderWidth:1};defaultOptions.scrollbar=merge(!0,defaultScrollbarOptions,defaultOptions.scrollbar),H.swapXY=swapXY=function(path,vertical){var i,temp,len=path.length;if(vertical)for(i=0;len>i;i+=3)temp=path[i+1],path[i+1]=path[i+2],path[i+2]=temp;return path},Scrollbar.prototype={init:function(renderer,options,chart){this.scrollbarButtons=[],this.renderer=renderer,this.userOptions=options,this.options=merge(defaultScrollbarOptions,options),this.chart=chart,this.size=pick(this.options.size,this.options.height),options.enabled&&(this.render(),this.initEvents(),this.addEvents())},render:function(){var group,scroller=this,renderer=scroller.renderer,options=scroller.options,size=scroller.size;scroller.group=group=renderer.g("scrollbar").attr({zIndex:options.zIndex,translateY:-99999}).add(),scroller.track=renderer.rect().addClass("highcharts-scrollbar-track").attr({x:0,r:options.trackBorderRadius||0,height:size,width:size}).add(group),scroller.track.attr({fill:options.trackBackgroundColor,stroke:options.trackBorderColor,"stroke-width":options.trackBorderWidth}),this.trackBorderWidth=scroller.track.strokeWidth(),scroller.track.attr({y:-this.trackBorderWidth%2/2}),scroller.scrollbarGroup=renderer.g().add(group),scroller.scrollbar=renderer.rect().addClass("highcharts-scrollbar-thumb").attr({height:size,width:size,r:options.barBorderRadius||0}).add(scroller.scrollbarGroup),scroller.scrollbarRifles=renderer.path(swapXY(["M",-3,size/4,"L",-3,2*size/3,"M",0,size/4,"L",0,2*size/3,"M",3,size/4,"L",3,2*size/3],options.vertical)).addClass("highcharts-scrollbar-rifles").add(scroller.scrollbarGroup),scroller.scrollbar.attr({fill:options.barBackgroundColor,stroke:options.barBorderColor,"stroke-width":options.barBorderWidth}),scroller.scrollbarRifles.attr({stroke:options.rifleColor,"stroke-width":1}),scroller.scrollbarStrokeWidth=scroller.scrollbar.strokeWidth(),scroller.scrollbarGroup.translate(-scroller.scrollbarStrokeWidth%2/2,-scroller.scrollbarStrokeWidth%2/2),scroller.drawScrollbarButton(0),scroller.drawScrollbarButton(1)},position:function(x,y,width,height){var scroller=this,options=scroller.options,vertical=options.vertical,xOffset=height,yOffset=0,method=scroller.rendered?"animate":"attr";scroller.x=x,scroller.y=y+this.trackBorderWidth,scroller.width=width,scroller.height=height,scroller.xOffset=xOffset,scroller.yOffset=yOffset,vertical?(scroller.width=scroller.yOffset=width=yOffset=scroller.size,scroller.xOffset=xOffset=0,scroller.barWidth=height-2*width,scroller.x=x+=scroller.options.margin):(scroller.height=scroller.xOffset=height=xOffset=scroller.size,scroller.barWidth=width-2*height,scroller.y=scroller.y+scroller.options.margin),scroller.group[method]({translateX:x,translateY:scroller.y}),scroller.track[method]({width:width,height:height}),scroller.scrollbarButtons[1][method]({translateX:vertical?0:width-xOffset,translateY:vertical?height-yOffset:0})},drawScrollbarButton:function(index){var group,tempElem,scroller=this,renderer=scroller.renderer,scrollbarButtons=scroller.scrollbarButtons,options=scroller.options,size=scroller.size;group=renderer.g().add(scroller.group),scrollbarButtons.push(group),tempElem=renderer.rect().addClass("highcharts-scrollbar-button").add(group),tempElem.attr({stroke:options.buttonBorderColor,"stroke-width":options.buttonBorderWidth,fill:options.buttonBackgroundColor}),tempElem.attr(tempElem.crisp({x:-.5,y:-.5,width:size+1,height:size+1,r:options.buttonBorderRadius},tempElem.strokeWidth())),tempElem=renderer.path(swapXY(["M",size/2+(index?-1:1),size/2-3,"L",size/2+(index?-1:1),size/2+3,"L",size/2+(index?2:-2),size/2],options.vertical)).addClass("highcharts-scrollbar-arrow").add(scrollbarButtons[index]),tempElem.attr({fill:options.buttonArrowColor})
},setRange:function(from,to){var fromPX,toPX,newPos,newSize,newRiflesPos,scroller=this,options=scroller.options,vertical=options.vertical,minWidth=options.minWidth,fullWidth=scroller.barWidth,method=this.rendered&&!this.hasDragged?"animate":"attr";defined(fullWidth)&&(from=Math.max(from,0),fromPX=Math.ceil(fullWidth*from),toPX=fullWidth*Math.min(to,1),scroller.calculatedWidth=newSize=correctFloat(toPX-fromPX),minWidth>newSize&&(fromPX=(fullWidth-minWidth+newSize)*from,newSize=minWidth),newPos=Math.floor(fromPX+scroller.xOffset+scroller.yOffset),newRiflesPos=newSize/2-.5,scroller.from=from,scroller.to=to,vertical?(scroller.scrollbarGroup[method]({translateY:newPos}),scroller.scrollbar[method]({height:newSize}),scroller.scrollbarRifles[method]({translateY:newRiflesPos}),scroller.scrollbarTop=newPos,scroller.scrollbarLeft=0):(scroller.scrollbarGroup[method]({translateX:newPos}),scroller.scrollbar[method]({width:newSize}),scroller.scrollbarRifles[method]({translateX:newRiflesPos}),scroller.scrollbarLeft=newPos,scroller.scrollbarTop=0),12>=newSize?scroller.scrollbarRifles.hide():scroller.scrollbarRifles.show(!0),options.showFull===!1&&(0>=from&&to>=1?scroller.group.hide():scroller.group.show()),scroller.rendered=!0)},initEvents:function(){var scroller=this;scroller.mouseMoveHandler=function(e){var scrollPosition,chartPosition,change,normalizedEvent=scroller.chart.pointer.normalize(e),options=scroller.options,direction=options.vertical?"chartY":"chartX",initPositions=scroller.initPositions;!scroller.grabbedCenter||e.touches&&0===e.touches[0][direction]||(chartPosition=scroller.cursorToScrollbarPosition(normalizedEvent)[direction],scrollPosition=scroller[direction],change=chartPosition-scrollPosition,scroller.hasDragged=!0,scroller.updatePosition(initPositions[0]+change,initPositions[1]+change),scroller.hasDragged&&fireEvent(scroller,"changed",{from:scroller.from,to:scroller.to,trigger:"scrollbar",DOMType:e.type,DOMEvent:e}))},scroller.mouseUpHandler=function(e){scroller.hasDragged&&fireEvent(scroller,"changed",{from:scroller.from,to:scroller.to,trigger:"scrollbar",DOMType:e.type,DOMEvent:e}),scroller.grabbedCenter=scroller.hasDragged=scroller.chartX=scroller.chartY=null},scroller.mouseDownHandler=function(e){var normalizedEvent=scroller.chart.pointer.normalize(e),mousePosition=scroller.cursorToScrollbarPosition(normalizedEvent);scroller.chartX=mousePosition.chartX,scroller.chartY=mousePosition.chartY,scroller.initPositions=[scroller.from,scroller.to],scroller.grabbedCenter=!0},scroller.buttonToMinClick=function(e){var range=correctFloat(scroller.to-scroller.from)*scroller.options.step;scroller.updatePosition(correctFloat(scroller.from-range),correctFloat(scroller.to-range)),fireEvent(scroller,"changed",{from:scroller.from,to:scroller.to,trigger:"scrollbar",DOMEvent:e})},scroller.buttonToMaxClick=function(e){var range=(scroller.to-scroller.from)*scroller.options.step;scroller.updatePosition(scroller.from+range,scroller.to+range),fireEvent(scroller,"changed",{from:scroller.from,to:scroller.to,trigger:"scrollbar",DOMEvent:e})},scroller.trackClick=function(e){var normalizedEvent=scroller.chart.pointer.normalize(e),range=scroller.to-scroller.from,top=scroller.y+scroller.scrollbarTop,left=scroller.x+scroller.scrollbarLeft;scroller.options.vertical&&normalizedEvent.chartY>top||!scroller.options.vertical&&normalizedEvent.chartX>left?scroller.updatePosition(scroller.from+range,scroller.to+range):scroller.updatePosition(scroller.from-range,scroller.to-range),fireEvent(scroller,"changed",{from:scroller.from,to:scroller.to,trigger:"scrollbar",DOMEvent:e})}},cursorToScrollbarPosition:function(normalizedEvent){var scroller=this,options=scroller.options,minWidthDifference=options.minWidth>scroller.calculatedWidth?options.minWidth:0;return{chartX:(normalizedEvent.chartX-scroller.x-scroller.xOffset)/(scroller.barWidth-minWidthDifference),chartY:(normalizedEvent.chartY-scroller.y-scroller.yOffset)/(scroller.barWidth-minWidthDifference)}},updatePosition:function(from,to){to>1&&(from=correctFloat(1-correctFloat(to-from)),to=1),0>from&&(to=correctFloat(to-from),from=0),this.from=from,this.to=to},update:function(options){this.destroy(),this.init(this.chart.renderer,merge(!0,this.options,options),this.chart)},addEvents:function(){var _events,buttonsOrder=this.options.inverted?[1,0]:[0,1],buttons=this.scrollbarButtons,bar=this.scrollbarGroup.element,track=this.track.element,mouseDownHandler=this.mouseDownHandler,mouseMoveHandler=this.mouseMoveHandler,mouseUpHandler=this.mouseUpHandler;_events=[[buttons[buttonsOrder[0]].element,"click",this.buttonToMinClick],[buttons[buttonsOrder[1]].element,"click",this.buttonToMaxClick],[track,"click",this.trackClick],[bar,"mousedown",mouseDownHandler],[bar.ownerDocument,"mousemove",mouseMoveHandler],[bar.ownerDocument,"mouseup",mouseUpHandler]],hasTouch&&_events.push([bar,"touchstart",mouseDownHandler],[bar.ownerDocument,"touchmove",mouseMoveHandler],[bar.ownerDocument,"touchend",mouseUpHandler]),each(_events,function(args){addEvent.apply(null,args)}),this._events=_events},removeEvents:function(){each(this._events,function(args){removeEvent.apply(null,args)}),this._events.length=0},destroy:function(){var scroller=this.chart.scroller;this.removeEvents(),each(["track","scrollbarRifles","scrollbar","scrollbarGroup","group"],function(prop){this[prop]&&this[prop].destroy&&(this[prop]=this[prop].destroy())},this),scroller&&this===scroller.scrollbar&&(scroller.scrollbar=null,destroyObjectProperties(scroller.scrollbarButtons))}},wrap(Axis.prototype,"init",function(proceed){var axis=this;proceed.apply(axis,Array.prototype.slice.call(arguments,1)),axis.options.scrollbar&&axis.options.scrollbar.enabled&&(axis.options.scrollbar.vertical=!axis.horiz,axis.options.startOnTick=axis.options.endOnTick=!1,axis.scrollbar=new Scrollbar(axis.chart.renderer,axis.options.scrollbar,axis.chart),addEvent(axis.scrollbar,"changed",function(e){var to,from,unitedMin=Math.min(pick(axis.options.min,axis.min),axis.min,axis.dataMin),unitedMax=Math.max(pick(axis.options.max,axis.max),axis.max,axis.dataMax),range=unitedMax-unitedMin;axis.horiz&&!axis.reversed||!axis.horiz&&axis.reversed?(to=unitedMin+range*this.to,from=unitedMin+range*this.from):(to=unitedMin+range*(1-this.from),from=unitedMin+range*(1-this.to)),axis.setExtremes(from,to,!0,!1,e)}))}),wrap(Axis.prototype,"render",function(proceed){var offsetsIndex,from,to,axis=this,scrollMin=Math.min(pick(axis.options.min,axis.min),axis.min,pick(axis.dataMin,axis.min)),scrollMax=Math.max(pick(axis.options.max,axis.max),axis.max,pick(axis.dataMax,axis.max)),scrollbar=axis.scrollbar,titleOffset=axis.titleOffset||0;proceed.apply(axis,Array.prototype.slice.call(arguments,1)),scrollbar&&(axis.horiz?(scrollbar.position(axis.left,axis.top+axis.height+2+axis.chart.scrollbarsOffsets[1]+(axis.opposite?0:titleOffset+axis.axisTitleMargin+axis.offset),axis.width,axis.height),offsetsIndex=1):(scrollbar.position(axis.left+axis.width+2+axis.chart.scrollbarsOffsets[0]+(axis.opposite?titleOffset+axis.axisTitleMargin+axis.offset:0),axis.top,axis.width,axis.height),offsetsIndex=0),(!axis.opposite&&!axis.horiz||axis.opposite&&axis.horiz)&&(axis.chart.scrollbarsOffsets[offsetsIndex]+=axis.scrollbar.size+axis.scrollbar.options.margin),isNaN(scrollMin)||isNaN(scrollMax)||!defined(axis.min)||!defined(axis.max)?scrollbar.setRange(0,0):(from=(axis.min-scrollMin)/(scrollMax-scrollMin),to=(axis.max-scrollMin)/(scrollMax-scrollMin),axis.horiz&&!axis.reversed||!axis.horiz&&axis.reversed?scrollbar.setRange(from,to):scrollbar.setRange(1-to,1-from)))}),wrap(Axis.prototype,"getOffset",function(proceed){var axis=this,index=axis.horiz?2:1,scrollbar=axis.scrollbar;proceed.apply(axis,Array.prototype.slice.call(arguments,1)),scrollbar&&(axis.chart.scrollbarsOffsets=[0,0],axis.chart.axisOffset[index]+=scrollbar.size+scrollbar.options.margin)}),wrap(Axis.prototype,"destroy",function(proceed){this.scrollbar&&(this.scrollbar=this.scrollbar.destroy()),proceed.apply(this,Array.prototype.slice.call(arguments,1))}),H.Scrollbar=Scrollbar}(Highcharts),function(H){function Navigator(chart){this.init(chart)}var defaultSeriesType,addEvent=H.addEvent,Axis=H.Axis,Chart=H.Chart,color=H.color,defaultDataGroupingUnits=H.defaultDataGroupingUnits,defaultOptions=H.defaultOptions,defined=H.defined,destroyObjectProperties=H.destroyObjectProperties,each=H.each,erase=H.erase,error=H.error,extend=H.extend,grep=H.grep,hasTouch=H.hasTouch,isArray=H.isArray,isNumber=H.isNumber,isObject=H.isObject,merge=H.merge,pick=H.pick,removeEvent=H.removeEvent,Scrollbar=H.Scrollbar,Series=H.Series,seriesTypes=H.seriesTypes,wrap=H.wrap,units=[].concat(defaultDataGroupingUnits),numExt=function(extreme){var numbers=grep(arguments,isNumber);return numbers.length?Math[extreme].apply(0,numbers):void 0};units[4]=["day",[1,2,3,4]],units[5]=["week",[1,2,3]],defaultSeriesType=void 0===seriesTypes.areaspline?"line":"areaspline",extend(defaultOptions,{navigator:{height:40,margin:25,maskInside:!0,handles:{width:7,height:15,symbols:["navigator-handle","navigator-handle"],enabled:!0,lineWidth:1,backgroundColor:"#f2f2f2",borderColor:"#999999"},maskFill:color("#6685c2").setOpacity(.3).get(),outlineColor:"#cccccc",outlineWidth:1,series:{type:defaultSeriesType,fillOpacity:.05,lineWidth:1,compare:null,dataGrouping:{approximation:"average",enabled:!0,groupPixelWidth:2,smoothed:!0,units:units},dataLabels:{enabled:!1,zIndex:2},id:"highcharts-navigator-series",className:"highcharts-navigator-series",lineColor:null,marker:{enabled:!1},pointRange:0,threshold:null},xAxis:{overscroll:0,className:"highcharts-navigator-xaxis",tickLength:0,lineWidth:0,gridLineColor:"#e6e6e6",gridLineWidth:1,tickPixelInterval:200,labels:{align:"left",style:{color:"#999999"},x:3,y:-4},crosshair:!1},yAxis:{className:"highcharts-navigator-yaxis",gridLineWidth:0,startOnTick:!1,endOnTick:!1,minPadding:.1,maxPadding:.1,labels:{enabled:!1},crosshair:!1,title:{text:null},tickLength:0,tickWidth:0}}}),H.Renderer.prototype.symbols["navigator-handle"]=function(x,y,w,h,options){var halfWidth=options.width/2,markerPosition=Math.round(halfWidth/3)+.5,height=options.height;return["M",-halfWidth-1,.5,"L",halfWidth,.5,"L",halfWidth,height+.5,"L",-halfWidth-1,height+.5,"L",-halfWidth-1,.5,"M",-markerPosition,4,"L",-markerPosition,height-3,"M",markerPosition-1,4,"L",markerPosition-1,height-3]},Navigator.prototype={drawHandle:function(x,index,inverted,verb){var navigator=this,height=navigator.navigatorOptions.handles.height;navigator.handles[index][verb](inverted?{translateX:Math.round(navigator.left+navigator.height/2),translateY:Math.round(navigator.top+parseInt(x,10)+.5-height)}:{translateX:Math.round(navigator.left+parseInt(x,10)),translateY:Math.round(navigator.top+navigator.height/2-height/2-1)})},drawOutline:function(zoomedMin,zoomedMax,inverted,verb){var verticalMin,path,navigator=this,maskInside=navigator.navigatorOptions.maskInside,outlineWidth=navigator.outline.strokeWidth(),halfOutline=outlineWidth/2,outlineCorrection=outlineWidth%2/2,outlineHeight=navigator.outlineHeight,scrollbarHeight=navigator.scrollbarHeight,navigatorSize=navigator.size,left=navigator.left-scrollbarHeight,navigatorTop=navigator.top;inverted?(left-=halfOutline,verticalMin=navigatorTop+zoomedMax+outlineCorrection,zoomedMax=navigatorTop+zoomedMin+outlineCorrection,path=["M",left+outlineHeight,navigatorTop-scrollbarHeight-outlineCorrection,"L",left+outlineHeight,verticalMin,"L",left,verticalMin,"L",left,zoomedMax,"L",left+outlineHeight,zoomedMax,"L",left+outlineHeight,navigatorTop+navigatorSize+scrollbarHeight].concat(maskInside?["M",left+outlineHeight,verticalMin-halfOutline,"L",left+outlineHeight,zoomedMax+halfOutline]:[])):(zoomedMin+=left+scrollbarHeight-outlineCorrection,zoomedMax+=left+scrollbarHeight-outlineCorrection,navigatorTop+=halfOutline,path=["M",left,navigatorTop,"L",zoomedMin,navigatorTop,"L",zoomedMin,navigatorTop+outlineHeight,"L",zoomedMax,navigatorTop+outlineHeight,"L",zoomedMax,navigatorTop,"L",left+navigatorSize+2*scrollbarHeight,navigatorTop].concat(maskInside?["M",zoomedMin-halfOutline,navigatorTop,"L",zoomedMax+halfOutline,navigatorTop]:[])),navigator.outline[verb]({d:path})},drawMasks:function(zoomedMin,zoomedMax,inverted,verb){var height,width,x,y,navigator=this,left=navigator.left,top=navigator.top,navigatorHeight=navigator.height;inverted?(x=[left,left,left],y=[top,top+zoomedMin,top+zoomedMax],width=[navigatorHeight,navigatorHeight,navigatorHeight],height=[zoomedMin,zoomedMax-zoomedMin,navigator.size-zoomedMax]):(x=[left,left+zoomedMin,left+zoomedMax],y=[top,top,top],width=[zoomedMin,zoomedMax-zoomedMin,navigator.size-zoomedMax],height=[navigatorHeight,navigatorHeight,navigatorHeight]),each(navigator.shades,function(shade,i){shade[verb]({x:x[i],y:y[i],width:width[i],height:height[i]})})},renderElements:function(){var navigatorGroup,navigator=this,navigatorOptions=navigator.navigatorOptions,maskInside=navigatorOptions.maskInside,chart=navigator.chart,inverted=chart.inverted,renderer=chart.renderer;navigator.navigatorGroup=navigatorGroup=renderer.g("navigator").attr({zIndex:8,visibility:"hidden"}).add();var mouseCursor={cursor:inverted?"ns-resize":"ew-resize"};each([!maskInside,maskInside,!maskInside],function(hasMask,index){navigator.shades[index]=renderer.rect().addClass("highcharts-navigator-mask"+(1===index?"-inside":"-outside")).attr({fill:hasMask?navigatorOptions.maskFill:"rgba(0,0,0,0)"}).css(1===index&&mouseCursor).add(navigatorGroup)}),navigator.outline=renderer.path().addClass("highcharts-navigator-outline").attr({"stroke-width":navigatorOptions.outlineWidth,stroke:navigatorOptions.outlineColor}).add(navigatorGroup),navigatorOptions.handles.enabled&&each([0,1],function(index){navigatorOptions.handles.inverted=chart.inverted,navigator.handles[index]=renderer.symbol(navigatorOptions.handles.symbols[index],-navigatorOptions.handles.width/2-1,0,navigatorOptions.handles.width,navigatorOptions.handles.height,navigatorOptions.handles),navigator.handles[index].attr({zIndex:7-index}).addClass("highcharts-navigator-handle highcharts-navigator-handle-"+["left","right"][index]).add(navigatorGroup);var handlesOptions=navigatorOptions.handles;navigator.handles[index].attr({fill:handlesOptions.backgroundColor,stroke:handlesOptions.borderColor,"stroke-width":handlesOptions.lineWidth}).css(mouseCursor)})},update:function(options){each(this.series||[],function(series){series.baseSeries&&delete series.baseSeries.navigatorSeries}),this.destroy();var chartOptions=this.chart.options;merge(!0,chartOptions.navigator,this.options,options),this.init(this.chart)},render:function(min,max,pxMin,pxMax){var navigatorWidth,scrollbarLeft,scrollbarTop,navigatorSize,zoomedMin,zoomedMax,verb,newMin,newMax,currentRange,navigator=this,chart=navigator.chart,scrollbarHeight=navigator.scrollbarHeight,xAxis=navigator.xAxis,scrollbarXAxis=xAxis.fake?chart.xAxis[0]:xAxis,navigatorEnabled=navigator.navigatorEnabled,rendered=navigator.rendered,inverted=chart.inverted,minRange=chart.xAxis[0].minRange,maxRange=chart.xAxis[0].options.maxRange;if(!this.hasDragged||defined(pxMin)){if(!isNumber(min)||!isNumber(max)){if(!rendered)return;pxMin=0,pxMax=pick(xAxis.width,scrollbarXAxis.width)}navigator.left=pick(xAxis.left,chart.plotLeft+scrollbarHeight+(inverted?chart.plotWidth:0)),navigator.size=zoomedMax=navigatorSize=pick(xAxis.len,(inverted?chart.plotHeight:chart.plotWidth)-2*scrollbarHeight),navigatorWidth=inverted?scrollbarHeight:navigatorSize+2*scrollbarHeight,pxMin=pick(pxMin,xAxis.toPixels(min,!0)),pxMax=pick(pxMax,xAxis.toPixels(max,!0)),isNumber(pxMin)&&1/0!==Math.abs(pxMin)||(pxMin=0,pxMax=navigatorWidth),newMin=xAxis.toValue(pxMin,!0),newMax=xAxis.toValue(pxMax,!0),currentRange=Math.abs(H.correctFloat(newMax-newMin)),minRange>currentRange?this.grabbedLeft?pxMin=xAxis.toPixels(newMax-minRange,!0):this.grabbedRight&&(pxMax=xAxis.toPixels(newMin+minRange,!0)):defined(maxRange)&&currentRange>maxRange&&(this.grabbedLeft?pxMin=xAxis.toPixels(newMax-maxRange,!0):this.grabbedRight&&(pxMax=xAxis.toPixels(newMin+maxRange,!0))),navigator.zoomedMax=Math.min(Math.max(pxMin,pxMax,0),zoomedMax),navigator.zoomedMin=Math.min(Math.max(navigator.fixedWidth?navigator.zoomedMax-navigator.fixedWidth:Math.min(pxMin,pxMax),0),zoomedMax),navigator.range=navigator.zoomedMax-navigator.zoomedMin,zoomedMax=Math.round(navigator.zoomedMax),zoomedMin=Math.round(navigator.zoomedMin),navigatorEnabled&&(navigator.navigatorGroup.attr({visibility:"visible"}),verb=rendered&&!navigator.hasDragged?"animate":"attr",navigator.drawMasks(zoomedMin,zoomedMax,inverted,verb),navigator.drawOutline(zoomedMin,zoomedMax,inverted,verb),navigator.navigatorOptions.handles.enabled&&(navigator.drawHandle(zoomedMin,0,inverted,verb),navigator.drawHandle(zoomedMax,1,inverted,verb))),navigator.scrollbar&&(inverted?(scrollbarTop=navigator.top-scrollbarHeight,scrollbarLeft=navigator.left-scrollbarHeight+(navigatorEnabled||!scrollbarXAxis.opposite?0:(scrollbarXAxis.titleOffset||0)+scrollbarXAxis.axisTitleMargin),scrollbarHeight=navigatorSize+2*scrollbarHeight):(scrollbarTop=navigator.top+(navigatorEnabled?navigator.height:-scrollbarHeight),scrollbarLeft=navigator.left-scrollbarHeight),navigator.scrollbar.position(scrollbarLeft,scrollbarTop,navigatorWidth,scrollbarHeight),navigator.scrollbar.setRange(navigator.zoomedMin/navigatorSize,navigator.zoomedMax/navigatorSize)),navigator.rendered=!0}},addMouseEvents:function(){var mouseMoveHandler,mouseUpHandler,navigator=this,chart=navigator.chart,container=chart.container,eventsToUnbind=[];navigator.mouseMoveHandler=mouseMoveHandler=function(e){navigator.onMouseMove(e)},navigator.mouseUpHandler=mouseUpHandler=function(e){navigator.onMouseUp(e)},eventsToUnbind=navigator.getPartsEvents("mousedown"),eventsToUnbind.push(addEvent(container,"mousemove",mouseMoveHandler),addEvent(container.ownerDocument,"mouseup",mouseUpHandler)),hasTouch&&(eventsToUnbind.push(addEvent(container,"touchmove",mouseMoveHandler),addEvent(container.ownerDocument,"touchend",mouseUpHandler)),eventsToUnbind.concat(navigator.getPartsEvents("touchstart"))),navigator.eventsToUnbind=eventsToUnbind,navigator.series&&navigator.series[0]&&eventsToUnbind.push(addEvent(navigator.series[0].xAxis,"foundExtremes",function(){chart.navigator.modifyNavigatorAxisExtremes()}))},getPartsEvents:function(eventName){var navigator=this,events=[];return each(["shades","handles"],function(name){each(navigator[name],function(navigatorItem,index){events.push(addEvent(navigatorItem.element,eventName,function(e){navigator[name+"Mousedown"](e,index)}))})}),events},shadesMousedown:function(e,index){e=this.chart.pointer.normalize(e);var fixedMax,ext,left,navigator=this,chart=navigator.chart,xAxis=navigator.xAxis,zoomedMin=navigator.zoomedMin,navigatorPosition=navigator.left,navigatorSize=navigator.size,range=navigator.range,chartX=e.chartX;chart.inverted&&(chartX=e.chartY,navigatorPosition=navigator.top),1===index?(navigator.grabbedCenter=chartX,navigator.fixedWidth=range,navigator.dragOffset=chartX-zoomedMin):(left=chartX-navigatorPosition-range/2,0===index?left=Math.max(0,left):2===index&&left+range>=navigatorSize&&(left=navigatorSize-range,fixedMax=navigator.getUnionExtremes().dataMax),left!==zoomedMin&&(navigator.fixedWidth=range,ext=xAxis.toFixedRange(left,left+range,null,fixedMax),defined(ext.min)&&chart.xAxis[0].setExtremes(Math.min(ext.min,ext.max),Math.max(ext.min,ext.max),!0,null,{trigger:"navigator"})))},handlesMousedown:function(e,index){e=this.chart.pointer.normalize(e);var navigator=this,chart=navigator.chart,baseXAxis=chart.xAxis[0],reverse=chart.inverted&&!baseXAxis.reversed||!chart.inverted&&baseXAxis.reversed;0===index?(navigator.grabbedLeft=!0,navigator.otherHandlePos=navigator.zoomedMax,navigator.fixedExtreme=reverse?baseXAxis.min:baseXAxis.max):(navigator.grabbedRight=!0,navigator.otherHandlePos=navigator.zoomedMin,navigator.fixedExtreme=reverse?baseXAxis.max:baseXAxis.min),chart.fixedRange=null},onMouseMove:function(e){var chartX,navigator=this,chart=navigator.chart,left=navigator.left,navigatorSize=navigator.navigatorSize,range=navigator.range,dragOffset=navigator.dragOffset,inverted=chart.inverted;e.touches&&0===e.touches[0].pageX||(e=chart.pointer.normalize(e),chartX=e.chartX,inverted&&(left=navigator.top,chartX=e.chartY),navigator.grabbedLeft?(navigator.hasDragged=!0,navigator.render(0,0,chartX-left,navigator.otherHandlePos)):navigator.grabbedRight?(navigator.hasDragged=!0,navigator.render(0,0,navigator.otherHandlePos,chartX-left)):navigator.grabbedCenter&&(navigator.hasDragged=!0,dragOffset>chartX?chartX=dragOffset:chartX>navigatorSize+dragOffset-range&&(chartX=navigatorSize+dragOffset-range),navigator.render(0,0,chartX-dragOffset,chartX-dragOffset+range)),navigator.hasDragged&&navigator.scrollbar&&navigator.scrollbar.options.liveRedraw&&(e.DOMType=e.type,setTimeout(function(){navigator.onMouseUp(e)},0)))},onMouseUp:function(e){var unionExtremes,fixedMin,fixedMax,ext,navigator=this,chart=navigator.chart,xAxis=navigator.xAxis,reversed=xAxis&&xAxis.reversed,scrollbar=navigator.scrollbar,DOMEvent=e.DOMEvent||e;(!navigator.hasDragged||scrollbar&&scrollbar.hasDragged)&&"scrollbar"!==e.trigger||(unionExtremes=navigator.getUnionExtremes(),navigator.zoomedMin===navigator.otherHandlePos?fixedMin=navigator.fixedExtreme:navigator.zoomedMax===navigator.otherHandlePos&&(fixedMax=navigator.fixedExtreme),navigator.zoomedMax===navigator.size&&(fixedMax=reversed?unionExtremes.dataMin:unionExtremes.dataMax),0===navigator.zoomedMin&&(fixedMin=reversed?unionExtremes.dataMax:unionExtremes.dataMin),ext=xAxis.toFixedRange(navigator.zoomedMin,navigator.zoomedMax,fixedMin,fixedMax),defined(ext.min)&&chart.xAxis[0].setExtremes(Math.min(ext.min,ext.max),Math.max(ext.min,ext.max),!0,navigator.hasDragged?!1:null,{trigger:"navigator",triggerOp:"navigator-drag",DOMEvent:DOMEvent})),"mousemove"!==e.DOMType&&(navigator.grabbedLeft=navigator.grabbedRight=navigator.grabbedCenter=navigator.fixedWidth=navigator.fixedExtreme=navigator.otherHandlePos=navigator.hasDragged=navigator.dragOffset=null)},removeEvents:function(){this.eventsToUnbind&&(each(this.eventsToUnbind,function(unbind){unbind()}),this.eventsToUnbind=void 0),this.removeBaseSeriesEvents()},removeBaseSeriesEvents:function(){var baseSeries=this.baseSeries||[];this.navigatorEnabled&&baseSeries[0]&&(this.navigatorOptions.adaptToUpdatedData!==!1&&each(baseSeries,function(series){removeEvent(series,"updatedData",this.updatedDataHandler)},this),baseSeries[0].xAxis&&removeEvent(baseSeries[0].xAxis,"foundExtremes",this.modifyBaseAxisExtremes))},init:function(chart){var chartOptions=chart.options,navigatorOptions=chartOptions.navigator,navigatorEnabled=navigatorOptions.enabled,scrollbarOptions=chartOptions.scrollbar,scrollbarEnabled=scrollbarOptions.enabled,height=navigatorEnabled?navigatorOptions.height:0,scrollbarHeight=scrollbarEnabled?scrollbarOptions.height:0;this.handles=[],this.shades=[],this.chart=chart,this.setBaseSeries(),this.height=height,this.scrollbarHeight=scrollbarHeight,this.scrollbarEnabled=scrollbarEnabled,this.navigatorEnabled=navigatorEnabled,this.navigatorOptions=navigatorOptions,this.scrollbarOptions=scrollbarOptions,this.outlineHeight=height+scrollbarHeight,this.opposite=pick(navigatorOptions.opposite,!navigatorEnabled&&chart.inverted);var navigator=this,baseSeries=navigator.baseSeries,xAxisIndex=chart.xAxis.length,yAxisIndex=chart.yAxis.length,baseXaxis=baseSeries&&baseSeries[0]&&baseSeries[0].xAxis||chart.xAxis[0];chart.extraMargin={type:navigator.opposite?"plotTop":"marginBottom",value:(navigatorEnabled||!chart.inverted?navigator.outlineHeight:0)+navigatorOptions.margin},chart.inverted&&(chart.extraMargin.type=navigator.opposite?"marginRight":"plotLeft"),chart.isDirtyBox=!0,navigator.navigatorEnabled?(navigator.xAxis=new Axis(chart,merge({breaks:baseXaxis.options.breaks,ordinal:baseXaxis.options.ordinal},navigatorOptions.xAxis,{id:"navigator-x-axis",yAxis:"navigator-y-axis",isX:!0,type:"datetime",index:xAxisIndex,offset:0,keepOrdinalPadding:!0,startOnTick:!1,endOnTick:!1,minPadding:0,maxPadding:0,zoomEnabled:!1},chart.inverted?{offsets:[scrollbarHeight,0,-scrollbarHeight,0],width:height}:{offsets:[0,-scrollbarHeight,0,scrollbarHeight],height:height})),navigator.yAxis=new Axis(chart,merge(navigatorOptions.yAxis,{id:"navigator-y-axis",alignTicks:!1,offset:0,index:yAxisIndex,zoomEnabled:!1},chart.inverted?{width:height}:{height:height})),baseSeries||navigatorOptions.series.data?navigator.updateNavigatorSeries():0===chart.series.length&&wrap(chart,"redraw",function(proceed,animation){chart.series.length>0&&!navigator.series&&(navigator.setBaseSeries(),chart.redraw=proceed),proceed.call(chart,animation)}),navigator.renderElements(),navigator.addMouseEvents()):navigator.xAxis={translate:function(value,reverse){var axis=chart.xAxis[0],ext=axis.getExtremes(),scrollTrackWidth=axis.len-2*scrollbarHeight,min=numExt("min",axis.options.min,ext.dataMin),valueRange=numExt("max",axis.options.max,ext.dataMax)-min;return reverse?value*valueRange/scrollTrackWidth+min:scrollTrackWidth*(value-min)/valueRange},toPixels:function(value){return this.translate(value)},toValue:function(value){return this.translate(value,!0)},toFixedRange:Axis.prototype.toFixedRange,fake:!0},chart.options.scrollbar.enabled&&(chart.scrollbar=navigator.scrollbar=new Scrollbar(chart.renderer,merge(chart.options.scrollbar,{margin:navigator.navigatorEnabled?0:10,vertical:chart.inverted}),chart),addEvent(navigator.scrollbar,"changed",function(e){var range=navigator.size,to=range*this.to,from=range*this.from;navigator.hasDragged=navigator.scrollbar.hasDragged,navigator.render(0,0,from,to),(chart.options.scrollbar.liveRedraw||"mousemove"!==e.DOMType&&"touchmove"!==e.DOMType)&&setTimeout(function(){navigator.onMouseUp(e)})})),navigator.addBaseSeriesEvents(),navigator.addChartEvents()},getUnionExtremes:function(returnFalseOnNoBaseSeries){var ret,baseAxis=this.chart.xAxis[0],navAxis=this.xAxis,navAxisOptions=navAxis.options,baseAxisOptions=baseAxis.options;return returnFalseOnNoBaseSeries&&null===baseAxis.dataMin||(ret={dataMin:pick(navAxisOptions&&navAxisOptions.min,numExt("min",baseAxisOptions.min,baseAxis.dataMin,navAxis.dataMin,navAxis.min)),dataMax:pick(navAxisOptions&&navAxisOptions.max,numExt("max",baseAxisOptions.max,baseAxis.dataMax,navAxis.dataMax,navAxis.max))}),ret},setBaseSeries:function(baseSeriesOptions,redraw){var chart=this.chart,baseSeries=this.baseSeries=[];baseSeriesOptions=baseSeriesOptions||chart.options&&chart.options.navigator.baseSeries||0,each(chart.series||[],function(series,i){series.options.isInternal||!series.options.showInNavigator&&(i!==baseSeriesOptions&&series.options.id!==baseSeriesOptions||series.options.showInNavigator===!1)||baseSeries.push(series)}),this.xAxis&&!this.xAxis.fake&&this.updateNavigatorSeries(redraw)},updateNavigatorSeries:function(redraw){var baseOptions,mergedNavSeriesOptions,baseNavigatorOptions,navigator=this,chart=navigator.chart,baseSeries=navigator.baseSeries,chartNavigatorSeriesOptions=navigator.navigatorOptions.series,navSeriesMixin={enableMouseTracking:!1,index:null,linkedTo:null,group:"nav",padXAxis:!1,xAxis:"navigator-x-axis",yAxis:"navigator-y-axis",showInLegend:!1,stacking:!1,isInternal:!0,visible:!0},navigatorSeries=navigator.series=H.grep(navigator.series||[],function(navSeries){var base=navSeries.baseSeries;return H.inArray(base,baseSeries)<0?(base&&(removeEvent(base,"updatedData",navigator.updatedDataHandler),delete base.navigatorSeries),navSeries.destroy(),!1):!0});baseSeries&&baseSeries.length&&each(baseSeries,function(base){var linkedNavSeries=base.navigatorSeries,userNavOptions=extend({color:base.color},isArray(chartNavigatorSeriesOptions)?defaultOptions.navigator.series:chartNavigatorSeriesOptions);if(!linkedNavSeries||navigator.navigatorOptions.adaptToUpdatedData!==!1){navSeriesMixin.name="Navigator "+baseSeries.length,baseOptions=base.options||{},baseNavigatorOptions=baseOptions.navigatorOptions||{},mergedNavSeriesOptions=merge(baseOptions,navSeriesMixin,userNavOptions,baseNavigatorOptions);var navigatorSeriesData=baseNavigatorOptions.data||userNavOptions.data;navigator.hasNavigatorData=navigator.hasNavigatorData||!!navigatorSeriesData,mergedNavSeriesOptions.data=navigatorSeriesData||baseOptions.data&&baseOptions.data.slice(0),linkedNavSeries&&linkedNavSeries.options?linkedNavSeries.update(mergedNavSeriesOptions,redraw):(base.navigatorSeries=chart.initSeries(mergedNavSeriesOptions),base.navigatorSeries.baseSeries=base,navigatorSeries.push(base.navigatorSeries))}}),(chartNavigatorSeriesOptions.data&&(!baseSeries||!baseSeries.length)||isArray(chartNavigatorSeriesOptions))&&(navigator.hasNavigatorData=!1,chartNavigatorSeriesOptions=H.splat(chartNavigatorSeriesOptions),each(chartNavigatorSeriesOptions,function(userSeriesOptions,i){navSeriesMixin.name="Navigator "+(navigatorSeries.length+1),mergedNavSeriesOptions=merge(defaultOptions.navigator.series,{color:chart.series[i]&&!chart.series[i].options.isInternal&&chart.series[i].color||chart.options.colors[i]||chart.options.colors[0]},navSeriesMixin,userSeriesOptions),mergedNavSeriesOptions.data=userSeriesOptions.data,mergedNavSeriesOptions.data&&(navigator.hasNavigatorData=!0,navigatorSeries.push(chart.initSeries(mergedNavSeriesOptions)))})),this.addBaseSeriesEvents()},addBaseSeriesEvents:function(){var navigator=this,baseSeries=navigator.baseSeries||[];baseSeries[0]&&baseSeries[0].xAxis&&addEvent(baseSeries[0].xAxis,"foundExtremes",this.modifyBaseAxisExtremes),each(baseSeries,function(base){addEvent(base,"show",function(){this.navigatorSeries&&this.navigatorSeries.setVisible(!0,!1)}),addEvent(base,"hide",function(){this.navigatorSeries&&this.navigatorSeries.setVisible(!1,!1)}),this.navigatorOptions.adaptToUpdatedData!==!1&&base.xAxis&&addEvent(base,"updatedData",this.updatedDataHandler),addEvent(base,"remove",function(){this.navigatorSeries&&(erase(navigator.series,this.navigatorSeries),this.navigatorSeries.remove(!1),delete this.navigatorSeries)})},this)},modifyNavigatorAxisExtremes:function(){var unionExtremes,xAxis=this.xAxis;xAxis.getExtremes&&(unionExtremes=this.getUnionExtremes(!0),!unionExtremes||unionExtremes.dataMin===xAxis.min&&unionExtremes.dataMax===xAxis.max||(xAxis.min=unionExtremes.dataMin,xAxis.max=unionExtremes.dataMax))},modifyBaseAxisExtremes:function(){var newMax,newMin,baseXAxis=this,navigator=baseXAxis.chart.navigator,baseExtremes=baseXAxis.getExtremes(),baseMin=baseExtremes.min,baseMax=baseExtremes.max,baseDataMin=baseExtremes.dataMin,baseDataMax=baseExtremes.dataMax,range=baseMax-baseMin,stickToMin=navigator.stickToMin,stickToMax=navigator.stickToMax,overscroll=baseXAxis.options.overscroll,navigatorSeries=navigator.series&&navigator.series[0],hasSetExtremes=!!baseXAxis.setExtremes,unmutable=baseXAxis.eventArgs&&"rangeSelectorButton"===baseXAxis.eventArgs.trigger;unmutable||(stickToMin&&(newMin=baseDataMin,newMax=newMin+range),stickToMax&&(newMax=baseDataMax+overscroll,stickToMin||(newMin=Math.max(newMax-range,navigatorSeries&&navigatorSeries.xData?navigatorSeries.xData[0]:-Number.MAX_VALUE))),hasSetExtremes&&(stickToMin||stickToMax)&&isNumber(newMin)&&(baseXAxis.min=baseXAxis.userMin=newMin,baseXAxis.max=baseXAxis.userMax=newMax)),navigator.stickToMin=navigator.stickToMax=null},updatedDataHandler:function(){var navigator=this.chart.navigator,baseSeries=this,navigatorSeries=this.navigatorSeries;navigator.stickToMax=Math.round(navigator.zoomedMax)>=Math.round(navigator.size),navigator.stickToMin=isNumber(baseSeries.xAxis.min)&&baseSeries.xAxis.min<=baseSeries.xData[0]&&(!this.chart.fixedRange||!navigator.stickToMax),navigatorSeries&&!navigator.hasNavigatorData&&(navigatorSeries.options.pointStart=baseSeries.xData[0],navigatorSeries.setData(baseSeries.options.data,!1,null,!1))},addChartEvents:function(){addEvent(this.chart,"redraw",function(){var navigator=this.navigator,xAxis=navigator&&(navigator.baseSeries&&navigator.baseSeries[0]&&navigator.baseSeries[0].xAxis||navigator.scrollbar&&this.xAxis[0]);xAxis&&navigator.render(xAxis.min,xAxis.max)})},destroy:function(){this.removeEvents(),this.xAxis&&(erase(this.chart.xAxis,this.xAxis),erase(this.chart.axes,this.xAxis)),this.yAxis&&(erase(this.chart.yAxis,this.yAxis),erase(this.chart.axes,this.yAxis)),each(this.series||[],function(s){s.destroy&&s.destroy()}),each(["series","xAxis","yAxis","shades","outline","scrollbarTrack","scrollbarRifles","scrollbarGroup","scrollbar","navigatorGroup","rendered"],function(prop){this[prop]&&this[prop].destroy&&this[prop].destroy(),this[prop]=null},this),each([this.handles],function(coll){destroyObjectProperties(coll)},this)}},H.Navigator=Navigator,wrap(Axis.prototype,"zoom",function(proceed,newMin,newMax){var previousZoom,ret,chart=this.chart,chartOptions=chart.options,zoomType=chartOptions.chart.zoomType,navigator=chartOptions.navigator,rangeSelector=chartOptions.rangeSelector;
return this.isXAxis&&(navigator&&navigator.enabled||rangeSelector&&rangeSelector.enabled)&&("x"===zoomType?chart.resetZoomButton="blocked":"y"===zoomType?ret=!1:"xy"===zoomType&&this.options.range&&(previousZoom=this.previousZoom,defined(newMin)?this.previousZoom=[this.min,this.max]:previousZoom&&(newMin=previousZoom[0],newMax=previousZoom[1],delete this.previousZoom))),void 0!==ret?ret:proceed.call(this,newMin,newMax)}),wrap(Chart.prototype,"init",function(proceed,options,callback){addEvent(this,"beforeRender",function(){var options=this.options;(options.navigator.enabled||options.scrollbar.enabled)&&(this.scroller=this.navigator=new Navigator(this))}),proceed.call(this,options,callback)}),wrap(Chart.prototype,"setChartSize",function(proceed){var scrollbarHeight,legendOptions,xAxis,yAxis,legend=this.legend,navigator=this.navigator;proceed.apply(this,[].slice.call(arguments,1)),navigator&&(legendOptions=legend&&legend.options,xAxis=navigator.xAxis,yAxis=navigator.yAxis,scrollbarHeight=navigator.scrollbarHeight,this.inverted?(navigator.left=navigator.opposite?this.chartWidth-scrollbarHeight-navigator.height:this.spacing[3]+scrollbarHeight,navigator.top=this.plotTop+scrollbarHeight):(navigator.left=this.plotLeft+scrollbarHeight,navigator.top=navigator.navigatorOptions.top||this.chartHeight-navigator.height-scrollbarHeight-this.spacing[2]-(this.rangeSelector&&this.extraBottomMargin?this.rangeSelector.getHeight():0)-(legendOptions&&"bottom"===legendOptions.verticalAlign&&legendOptions.enabled&&!legendOptions.floating?legend.legendHeight+pick(legendOptions.margin,10):0)),xAxis&&yAxis&&(this.inverted?xAxis.options.left=yAxis.options.left=navigator.left:xAxis.options.top=yAxis.options.top=navigator.top,xAxis.setAxisSize(),yAxis.setAxisSize()))}),wrap(Series.prototype,"addPoint",function(proceed,options,redraw,shift,animation){var turboThreshold=this.options.turboThreshold;turboThreshold&&this.xData.length>turboThreshold&&isObject(options,!0)&&this.chart.navigator&&error(20,!0),proceed.call(this,options,redraw,shift,animation)}),wrap(Chart.prototype,"addSeries",function(proceed,options,redraw,animation){var series=proceed.call(this,options,!1,animation);return this.navigator&&this.navigator.setBaseSeries(null,!1),pick(redraw,!0)&&this.redraw(),series}),wrap(Series.prototype,"update",function(proceed,newOptions,redraw){proceed.call(this,newOptions,!1),this.chart.navigator&&!this.options.isInternal&&this.chart.navigator.setBaseSeries(null,!1),pick(redraw,!0)&&this.chart.redraw()}),Chart.prototype.callbacks.push(function(chart){var extremes,navigator=chart.navigator;navigator&&(extremes=chart.xAxis[0].getExtremes(),navigator.render(extremes.min,extremes.max))})}(Highcharts),function(H){function RangeSelector(chart){this.init(chart)}var addEvent=H.addEvent,Axis=H.Axis,Chart=H.Chart,css=H.css,createElement=H.createElement,defaultOptions=H.defaultOptions,defined=H.defined,destroyObjectProperties=H.destroyObjectProperties,discardElement=H.discardElement,each=H.each,extend=H.extend,fireEvent=H.fireEvent,isNumber=H.isNumber,merge=H.merge,pick=H.pick,pInt=H.pInt,splat=H.splat,wrap=H.wrap;extend(defaultOptions,{rangeSelector:{verticalAlign:"top",buttonTheme:{"stroke-width":0,width:28,height:18,padding:2,zIndex:7},floating:!1,x:0,y:0,height:void 0,inputPosition:{align:"right",x:0,y:0},buttonPosition:{align:"left",x:0,y:0},labelStyle:{color:"#666666"}}}),defaultOptions.lang=merge(defaultOptions.lang,{rangeSelectorZoom:"Zoom",rangeSelectorFrom:"From",rangeSelectorTo:"To"}),RangeSelector.prototype={clickButton:function(i,redraw){var newMin,baseXAxisOptions,rangeMin,minSetting,rangeSetting,ctx,ytdExtremes,rangeSelector=this,chart=rangeSelector.chart,rangeOptions=rangeSelector.buttonOptions[i],baseAxis=chart.xAxis[0],unionExtremes=chart.scroller&&chart.scroller.getUnionExtremes()||baseAxis||{},dataMin=unionExtremes.dataMin,dataMax=unionExtremes.dataMax,newMax=baseAxis&&Math.round(Math.min(baseAxis.max,pick(dataMax,baseAxis.max))),type=rangeOptions.type,range=rangeOptions._range,dataGrouping=rangeOptions.dataGrouping;if(null!==dataMin&&null!==dataMax){if(chart.fixedRange=range,dataGrouping&&(this.forcedDataGrouping=!0,Axis.prototype.setDataGrouping.call(baseAxis||{chart:this.chart},dataGrouping,!1)),"month"===type||"year"===type)baseAxis?(ctx={range:rangeOptions,max:newMax,dataMin:dataMin,dataMax:dataMax},newMin=baseAxis.minFromRange.call(ctx),isNumber(ctx.newMax)&&(newMax=ctx.newMax)):range=rangeOptions;else if(range)newMin=Math.max(newMax-range,dataMin),newMax=Math.min(newMin+range,dataMax);else if("ytd"===type){if(!baseAxis)return addEvent(chart,"beforeRender",function(){rangeSelector.clickButton(i)}),void 0;void 0===dataMax&&(dataMin=Number.MAX_VALUE,dataMax=Number.MIN_VALUE,each(chart.series,function(series){var xData=series.xData;dataMin=Math.min(xData[0],dataMin),dataMax=Math.max(xData[xData.length-1],dataMax)}),redraw=!1),ytdExtremes=rangeSelector.getYTDExtremes(dataMax,dataMin,chart.time.useUTC),newMin=rangeMin=ytdExtremes.min,newMax=ytdExtremes.max}else"all"===type&&baseAxis&&(newMin=dataMin,newMax=dataMax);newMin+=rangeOptions._offsetMin,newMax+=rangeOptions._offsetMax,rangeSelector.setSelected(i),baseAxis?baseAxis.setExtremes(newMin,newMax,pick(redraw,1),null,{trigger:"rangeSelectorButton",rangeSelectorButton:rangeOptions}):(baseXAxisOptions=splat(chart.options.xAxis)[0],rangeSetting=baseXAxisOptions.range,baseXAxisOptions.range=range,minSetting=baseXAxisOptions.min,baseXAxisOptions.min=rangeMin,addEvent(chart,"load",function(){baseXAxisOptions.range=rangeSetting,baseXAxisOptions.min=minSetting}))}},setSelected:function(selected){this.selected=this.options.selected=selected},defaultButtons:[{type:"month",count:1,text:"1m"},{type:"month",count:3,text:"3m"},{type:"month",count:6,text:"6m"},{type:"ytd",text:"YTD"},{type:"year",count:1,text:"1y"},{type:"all",text:"All"}],init:function(chart){var rangeSelector=this,options=chart.options.rangeSelector,buttonOptions=options.buttons||[].concat(rangeSelector.defaultButtons),selectedOption=options.selected,blurInputs=function(){var minInput=rangeSelector.minInput,maxInput=rangeSelector.maxInput;minInput&&minInput.blur&&fireEvent(minInput,"blur"),maxInput&&maxInput.blur&&fireEvent(maxInput,"blur")};rangeSelector.chart=chart,rangeSelector.options=options,rangeSelector.buttons=[],chart.extraTopMargin=options.height,rangeSelector.buttonOptions=buttonOptions,this.unMouseDown=addEvent(chart.container,"mousedown",blurInputs),this.unResize=addEvent(chart,"resize",blurInputs),each(buttonOptions,rangeSelector.computeButtonRange),void 0!==selectedOption&&buttonOptions[selectedOption]&&this.clickButton(selectedOption,!1),addEvent(chart,"load",function(){chart.xAxis&&chart.xAxis[0]&&addEvent(chart.xAxis[0],"setExtremes",function(e){this.max-this.min!==chart.fixedRange&&"rangeSelectorButton"!==e.trigger&&"updatedData"!==e.trigger&&rangeSelector.forcedDataGrouping&&this.setDataGrouping(!1,!1)})})},updateButtonStates:function(){var rangeSelector=this,chart=this.chart,baseAxis=chart.xAxis[0],actualRange=Math.round(baseAxis.max-baseAxis.min),hasNoData=!baseAxis.hasVisibleSeries,day=864e5,unionExtremes=chart.scroller&&chart.scroller.getUnionExtremes()||baseAxis,dataMin=unionExtremes.dataMin,dataMax=unionExtremes.dataMax,ytdExtremes=rangeSelector.getYTDExtremes(dataMax,dataMin,chart.time.useUTC),ytdMin=ytdExtremes.min,ytdMax=ytdExtremes.max,selected=rangeSelector.selected,selectedExists=isNumber(selected),allButtonsEnabled=rangeSelector.options.allButtonsEnabled,buttons=rangeSelector.buttons;each(rangeSelector.buttonOptions,function(rangeOptions,i){var disable,select,range=rangeOptions._range,type=rangeOptions.type,count=rangeOptions.count||1,button=buttons[i],state=0,offsetRange=rangeOptions._offsetMax-rangeOptions._offsetMin,isSelected=i===selected,isTooGreatRange=range>dataMax-dataMin,isTooSmallRange=range<baseAxis.minRange,isYTDButNotSelected=!1,isAllButAlreadyShowingAll=!1,isSameRange=range===actualRange;("month"===type||"year"===type)&&actualRange+36e5>={month:28,year:365}[type]*day*count-offsetRange&&actualRange-36e5<={month:31,year:366}[type]*day*count+offsetRange?isSameRange=!0:"ytd"===type?(isSameRange=ytdMax-ytdMin+offsetRange===actualRange,isYTDButNotSelected=!isSelected):"all"===type&&(isSameRange=baseAxis.max-baseAxis.min>=dataMax-dataMin,isAllButAlreadyShowingAll=!isSelected&&selectedExists&&isSameRange),disable=!allButtonsEnabled&&(isTooGreatRange||isTooSmallRange||isAllButAlreadyShowingAll||hasNoData),select=isSelected&&isSameRange||isSameRange&&!selectedExists&&!isYTDButNotSelected,disable?state=3:select&&(selectedExists=!0,state=2),button.state!==state&&button.setState(state)})},computeButtonRange:function(rangeOptions){var type=rangeOptions.type,count=rangeOptions.count||1,fixedTimes={millisecond:1,second:1e3,minute:6e4,hour:36e5,day:864e5,week:6048e5};fixedTimes[type]?rangeOptions._range=fixedTimes[type]*count:("month"===type||"year"===type)&&(rangeOptions._range=24*{month:30,year:365}[type]*36e5*count),rangeOptions._offsetMin=pick(rangeOptions.offsetMin,0),rangeOptions._offsetMax=pick(rangeOptions.offsetMax,0),rangeOptions._range+=rangeOptions._offsetMax-rangeOptions._offsetMin},setInputValue:function(name,inputTime){var options=this.chart.options.rangeSelector,time=this.chart.time,input=this[name+"Input"];defined(inputTime)&&(input.previousValue=input.HCTime,input.HCTime=inputTime),input.value=time.dateFormat(options.inputEditDateFormat||"%Y-%m-%d",input.HCTime),this[name+"DateBox"].attr({text:time.dateFormat(options.inputDateFormat||"%b %e, %Y",input.HCTime)})},showInput:function(name){var inputGroup=this.inputGroup,dateBox=this[name+"DateBox"];css(this[name+"Input"],{left:inputGroup.translateX+dateBox.x+"px",top:inputGroup.translateY+"px",width:dateBox.width-2+"px",height:dateBox.height-2+"px",border:"2px solid silver"})},hideInput:function(name){css(this[name+"Input"],{border:0,width:"1px",height:"1px"}),this.setInputValue(name)},drawInput:function(name){function updateExtremes(){var inputValue=input.value,value=(options.inputDateParser||Date.parse)(inputValue),chartAxis=chart.xAxis[0],dataAxis=chart.scroller&&chart.scroller.xAxis?chart.scroller.xAxis:chartAxis,dataMin=dataAxis.dataMin,dataMax=dataAxis.dataMax;value!==input.previousValue&&(input.previousValue=value,isNumber(value)||(value=inputValue.split("-"),value=Date.UTC(pInt(value[0]),pInt(value[1])-1,pInt(value[2]))),isNumber(value)&&(chart.time.useUTC||(value+=60*(new Date).getTimezoneOffset()*1e3),isMin?value>rangeSelector.maxInput.HCTime?value=void 0:dataMin>value&&(value=dataMin):value<rangeSelector.minInput.HCTime?value=void 0:value>dataMax&&(value=dataMax),void 0!==value&&chartAxis.setExtremes(isMin?value:chartAxis.min,isMin?chartAxis.max:value,void 0,void 0,{trigger:"rangeSelectorInput"})))}var input,label,dateBox,rangeSelector=this,chart=rangeSelector.chart,chartStyle=chart.renderer.style||{},renderer=chart.renderer,options=chart.options.rangeSelector,lang=defaultOptions.lang,div=rangeSelector.div,isMin="min"===name,inputGroup=this.inputGroup;this[name+"Label"]=label=renderer.label(lang[isMin?"rangeSelectorFrom":"rangeSelectorTo"],this.inputGroup.offset).addClass("highcharts-range-label").attr({padding:2}).add(inputGroup),inputGroup.offset+=label.width+5,this[name+"DateBox"]=dateBox=renderer.label("",inputGroup.offset).addClass("highcharts-range-input").attr({padding:2,width:options.inputBoxWidth||90,height:options.inputBoxHeight||17,stroke:options.inputBoxBorderColor||"#cccccc","stroke-width":1,"text-align":"center"}).on("click",function(){rangeSelector.showInput(name),rangeSelector[name+"Input"].focus()}).add(inputGroup),inputGroup.offset+=dateBox.width+(isMin?10:0),this[name+"Input"]=input=createElement("input",{name:name,className:"highcharts-range-selector",type:"text"},{top:chart.plotTop+"px"},div),label.css(merge(chartStyle,options.labelStyle)),dateBox.css(merge({color:"#333333"},chartStyle,options.inputStyle)),css(input,extend({position:"absolute",border:0,width:"1px",height:"1px",padding:0,textAlign:"center",fontSize:chartStyle.fontSize,fontFamily:chartStyle.fontFamily,top:"-9999em"},options.inputStyle)),input.onfocus=function(){rangeSelector.showInput(name)},input.onblur=function(){rangeSelector.hideInput(name)},input.onchange=updateExtremes,input.onkeypress=function(event){13===event.keyCode&&updateExtremes()}},getPosition:function(){var chart=this.chart,options=chart.options.rangeSelector,top="top"===options.verticalAlign?chart.plotTop-chart.axisOffset[0]:0;return{buttonTop:top+options.buttonPosition.y,inputTop:top+options.inputPosition.y-10}},getYTDExtremes:function(dataMax,dataMin,useUTC){var min,time=this.chart.time,now=new time.Date(dataMax),year=now[time.getFullYear](),startOfYear=useUTC?time.Date.UTC(year,0,1):+new time.Date(year,0,1);return min=Math.max(dataMin||0,startOfYear),now=now.getTime(),{max:Math.min(dataMax||now,now),min:min}},render:function(min,max){var buttonLeft,group,groupHeight,alignTranslateY,legendHeight,minPosition,translateX,rangeSelector=this,chart=rangeSelector.chart,renderer=chart.renderer,container=chart.container,chartOptions=chart.options,navButtonOptions=chartOptions.exporting&&chartOptions.exporting.enabled!==!1&&chartOptions.navigation&&chartOptions.navigation.buttonOptions,lang=defaultOptions.lang,div=rangeSelector.div,options=chartOptions.rangeSelector,floating=options.floating,buttons=rangeSelector.buttons,inputGroup=rangeSelector.inputGroup,buttonTheme=options.buttonTheme,buttonPosition=options.buttonPosition,inputPosition=options.inputPosition,inputEnabled=options.inputEnabled,states=buttonTheme&&buttonTheme.states,plotLeft=chart.plotLeft,buttonGroup=rangeSelector.buttonGroup,rendered=rangeSelector.rendered,verticalAlign=rangeSelector.options.verticalAlign,legend=chart.legend,legendOptions=legend&&legend.options,buttonPositionY=buttonPosition.y,inputPositionY=inputPosition.y,animate=rendered||!1,exportingX=0,translateY=0;if(options.enabled!==!1){if(rendered||(rangeSelector.group=group=renderer.g("range-selector-group").attr({zIndex:7}).add(),rangeSelector.buttonGroup=buttonGroup=renderer.g("range-selector-buttons").add(group),rangeSelector.zoomText=renderer.text(lang.rangeSelectorZoom,pick(plotLeft+buttonPosition.x,plotLeft),15).css(options.labelStyle).add(buttonGroup),buttonLeft=pick(plotLeft+buttonPosition.x,plotLeft)+rangeSelector.zoomText.getBBox().width+5,each(rangeSelector.buttonOptions,function(rangeOptions,i){buttons[i]=renderer.button(rangeOptions.text,buttonLeft,0,function(){var callDefaultEvent,buttonEvents=rangeOptions.events&&rangeOptions.events.click;buttonEvents&&(callDefaultEvent=buttonEvents.call(rangeOptions)),callDefaultEvent!==!1&&rangeSelector.clickButton(i),rangeSelector.isActive=!0},buttonTheme,states&&states.hover,states&&states.select,states&&states.disabled).attr({"text-align":"center"}).add(buttonGroup),buttonLeft+=buttons[i].width+pick(options.buttonSpacing,5)}),inputEnabled!==!1&&(rangeSelector.div=div=createElement("div",null,{position:"relative",height:0,zIndex:1}),container.parentNode.insertBefore(div,container),rangeSelector.inputGroup=inputGroup=renderer.g("input-group").add(group),inputGroup.offset=0,rangeSelector.drawInput("min"),rangeSelector.drawInput("max"))),plotLeft=chart.plotLeft-chart.spacing[3],rangeSelector.updateButtonStates(),navButtonOptions&&this.titleCollision(chart)&&"top"===verticalAlign&&"right"===buttonPosition.align&&buttonPosition.y+buttonGroup.getBBox().height-12<(navButtonOptions.y||0)+navButtonOptions.height&&(exportingX=-40),"left"===buttonPosition.align?translateX=buttonPosition.x-chart.spacing[3]:"right"===buttonPosition.align&&(translateX=buttonPosition.x+exportingX-chart.spacing[1]),buttonGroup.align({y:buttonPosition.y,width:buttonGroup.getBBox().width,align:buttonPosition.align,x:translateX},!0,chart.spacingBox),rangeSelector.group.placed=animate,rangeSelector.buttonGroup.placed=animate,inputEnabled!==!1){var inputGroupX,inputGroupWidth,buttonGroupX,buttonGroupWidth;exportingX=navButtonOptions&&this.titleCollision(chart)&&"top"===verticalAlign&&"right"===inputPosition.align&&inputPosition.y-inputGroup.getBBox().height-12<(navButtonOptions.y||0)+navButtonOptions.height+chart.spacing[0]?-40:0,"left"===inputPosition.align?translateX=plotLeft:"right"===inputPosition.align&&(translateX=-Math.max(chart.axisOffset[1],-exportingX)),inputGroup.align({y:inputPosition.y,width:inputGroup.getBBox().width,align:inputPosition.align,x:inputPosition.x+translateX-2},!0,chart.spacingBox),inputGroupX=inputGroup.alignAttr.translateX+inputGroup.alignOptions.x-exportingX+inputGroup.getBBox().x+2,inputGroupWidth=inputGroup.alignOptions.width,buttonGroupX=buttonGroup.alignAttr.translateX+buttonGroup.getBBox().x,buttonGroupWidth=buttonGroup.getBBox().width+20,(inputPosition.align===buttonPosition.align||buttonGroupX+buttonGroupWidth>inputGroupX&&inputGroupX+inputGroupWidth>buttonGroupX&&buttonPositionY<inputPositionY+inputGroup.getBBox().height)&&inputGroup.attr({translateX:inputGroup.alignAttr.translateX+(chart.axisOffset[1]>=-exportingX?0:-exportingX),translateY:inputGroup.alignAttr.translateY+buttonGroup.getBBox().height+10}),rangeSelector.setInputValue("min",min),rangeSelector.setInputValue("max",max),rangeSelector.inputGroup.placed=animate}rangeSelector.group.align({verticalAlign:verticalAlign},!0,chart.spacingBox),groupHeight=rangeSelector.group.getBBox().height+20,alignTranslateY=rangeSelector.group.alignAttr.translateY,"bottom"===verticalAlign&&(legendHeight=legendOptions&&"bottom"===legendOptions.verticalAlign&&legendOptions.enabled&&!legendOptions.floating?legend.legendHeight+pick(legendOptions.margin,10):0,groupHeight=groupHeight+legendHeight-20,translateY=alignTranslateY-groupHeight-(floating?0:options.y)-10),"top"===verticalAlign?(floating&&(translateY=0),chart.titleOffset&&(translateY=chart.titleOffset+chart.options.title.margin),translateY+=chart.margin[0]-chart.spacing[0]||0):"middle"===verticalAlign&&(inputPositionY===buttonPositionY?translateY=0>inputPositionY?alignTranslateY+minPosition:alignTranslateY:(inputPositionY||buttonPositionY)&&(0>inputPositionY||0>buttonPositionY?translateY-=Math.min(inputPositionY,buttonPositionY):translateY=alignTranslateY-groupHeight+minPosition)),rangeSelector.group.translate(options.x,options.y+Math.floor(translateY)),inputEnabled!==!1&&(rangeSelector.minInput.style.marginTop=rangeSelector.group.translateY+"px",rangeSelector.maxInput.style.marginTop=rangeSelector.group.translateY+"px"),rangeSelector.rendered=!0}},getHeight:function(){var minPosition,rangeSelector=this,options=rangeSelector.options,rangeSelectorGroup=rangeSelector.group,inputPosition=options.inputPosition,buttonPosition=options.buttonPosition,yPosition=options.y,buttonPositionY=buttonPosition.y,inputPositionY=inputPosition.y,rangeSelectorHeight=0;return rangeSelectorHeight=rangeSelectorGroup?rangeSelectorGroup.getBBox(!0).height+13+yPosition:0,minPosition=Math.min(inputPositionY,buttonPositionY),(0>inputPositionY&&0>buttonPositionY||inputPositionY>0&&buttonPositionY>0)&&(rangeSelectorHeight+=Math.abs(minPosition)),rangeSelectorHeight},titleCollision:function(chart){return!(chart.options.title.text||chart.options.subtitle.text)},update:function(options){var chart=this.chart;merge(!0,chart.options.rangeSelector,options),this.destroy(),this.init(chart),chart.rangeSelector.render()},destroy:function(){var rSelector=this,minInput=rSelector.minInput,maxInput=rSelector.maxInput;rSelector.unMouseDown(),rSelector.unResize(),destroyObjectProperties(rSelector.buttons),minInput&&(minInput.onfocus=minInput.onblur=minInput.onchange=null),maxInput&&(maxInput.onfocus=maxInput.onblur=maxInput.onchange=null),H.objectEach(rSelector,function(val,key){val&&"chart"!==key&&(val.destroy?val.destroy():val.nodeType&&discardElement(this[key])),val!==RangeSelector.prototype[key]&&(rSelector[key]=null)},this)}},Axis.prototype.toFixedRange=function(pxMin,pxMax,fixedMin,fixedMax){var fixedRange=this.chart&&this.chart.fixedRange,newMin=pick(fixedMin,this.translate(pxMin,!0,!this.horiz)),newMax=pick(fixedMax,this.translate(pxMax,!0,!this.horiz)),changeRatio=fixedRange&&(newMax-newMin)/fixedRange;return changeRatio>.7&&1.3>changeRatio&&(fixedMax?newMin=newMax-fixedRange:newMax=newMin+fixedRange),isNumber(newMin)&&isNumber(newMax)||(newMin=newMax=void 0),{min:newMin,max:newMax}},Axis.prototype.minFromRange=function(){var min,dataMin,range,rangeOptions=this.range,type=rangeOptions.type,timeName={month:"Month",year:"FullYear"}[type],max=this.max,getTrueRange=function(base,count){var date=new Date(base),basePeriod=date["get"+timeName]();return date["set"+timeName](basePeriod+count),basePeriod===date["get"+timeName]()&&date.setDate(0),date.getTime()-base};return isNumber(rangeOptions)?(min=max-rangeOptions,range=rangeOptions):(min=max+getTrueRange(max,-rangeOptions.count),this.chart&&(this.chart.fixedRange=max-min)),dataMin=pick(this.dataMin,Number.MIN_VALUE),isNumber(min)||(min=dataMin),dataMin>=min&&(min=dataMin,void 0===range&&(range=getTrueRange(min,rangeOptions.count)),this.newMax=Math.min(min+range,this.dataMax)),isNumber(max)||(min=void 0),min},wrap(Chart.prototype,"init",function(proceed,options,callback){addEvent(this,"init",function(){this.options.rangeSelector.enabled&&(this.rangeSelector=new RangeSelector(this))}),proceed.call(this,options,callback)}),wrap(Chart.prototype,"render",function(proceed,options,callback){var verticalAlign,chart=this,axes=chart.axes,rangeSelector=chart.rangeSelector;rangeSelector&&(each(axes,function(axis){axis.updateNames(),axis.setScale()}),chart.getAxisMargins(),rangeSelector.render(),verticalAlign=rangeSelector.options.verticalAlign,rangeSelector.options.floating||("bottom"===verticalAlign?this.extraBottomMargin=!0:"middle"!==verticalAlign&&(this.extraTopMargin=!0))),proceed.call(this,options,callback)}),wrap(Chart.prototype,"update",function(proceed,options,redraw,oneToOne){var verticalAlign,chart=this,rangeSelector=chart.rangeSelector;this.extraBottomMargin=!1,this.extraTopMargin=!1,rangeSelector&&(rangeSelector.render(),verticalAlign=options.rangeSelector&&options.rangeSelector.verticalAlign||rangeSelector.options&&rangeSelector.options.verticalAlign,rangeSelector.options.floating||("bottom"===verticalAlign?this.extraBottomMargin=!0:"middle"!==verticalAlign&&(this.extraTopMargin=!0))),proceed.call(this,H.merge(!0,options,{chart:{marginBottom:pick(options.chart&&options.chart.marginBottom,chart.margin.bottom),spacingBottom:pick(options.chart&&options.chart.spacingBottom,chart.spacing.bottom)}}),redraw,oneToOne)}),wrap(Chart.prototype,"redraw",function(proceed,options,callback){var verticalAlign,chart=this,rangeSelector=chart.rangeSelector;rangeSelector&&!rangeSelector.options.floating&&(rangeSelector.render(),verticalAlign=rangeSelector.options.verticalAlign,"bottom"===verticalAlign?this.extraBottomMargin=!0:"middle"!==verticalAlign&&(this.extraTopMargin=!0)),proceed.call(this,options,callback)}),Chart.prototype.adjustPlotArea=function(){var rangeSelectorHeight,chart=this,rangeSelector=chart.rangeSelector;this.rangeSelector&&(rangeSelectorHeight=rangeSelector.getHeight(),this.extraTopMargin&&(this.plotTop+=rangeSelectorHeight),this.extraBottomMargin&&(this.marginBottom+=rangeSelectorHeight))},Chart.prototype.callbacks.push(function(chart){function renderRangeSelector(){extremes=chart.xAxis[0].getExtremes(),isNumber(extremes.min)&&rangeSelector.render(extremes.min,extremes.max)}var extremes,unbindRender,unbindSetExtremes,rangeSelector=chart.rangeSelector;rangeSelector&&(unbindSetExtremes=addEvent(chart.xAxis[0],"afterSetExtremes",function(e){rangeSelector.render(e.min,e.max)}),unbindRender=addEvent(chart,"redraw",renderRangeSelector),renderRangeSelector()),addEvent(chart,"destroy",function(){rangeSelector&&(unbindRender(),unbindSetExtremes())})}),H.RangeSelector=RangeSelector}(Highcharts),function(H){var arrayMax=H.arrayMax,arrayMin=H.arrayMin,Axis=H.Axis,Chart=H.Chart,defined=H.defined,each=H.each,extend=H.extend,format=H.format,grep=H.grep,inArray=H.inArray,isNumber=H.isNumber,isString=H.isString,map=H.map,merge=H.merge,pick=H.pick,Point=H.Point,Renderer=H.Renderer,Series=H.Series,splat=H.splat,SVGRenderer=H.SVGRenderer,VMLRenderer=H.VMLRenderer,wrap=H.wrap,seriesProto=Series.prototype,seriesInit=seriesProto.init,seriesProcessData=seriesProto.processData,pointTooltipFormatter=Point.prototype.tooltipFormatter;H.StockChart=H.stockChart=function(a,b,c){var opposite,hasRenderToArg=isString(a)||a.nodeName,options=arguments[hasRenderToArg?1:0],seriesOptions=options.series,defaultOptions=H.getOptions(),navigatorEnabled=pick(options.navigator&&options.navigator.enabled,defaultOptions.navigator.enabled,!0),disableStartOnTick=navigatorEnabled?{startOnTick:!1,endOnTick:!1}:null,lineOptions={marker:{enabled:!1,radius:2}},columnOptions={shadow:!1,borderWidth:0};return options.xAxis=map(splat(options.xAxis||{}),function(xAxisOptions){return merge({minPadding:0,maxPadding:0,overscroll:0,ordinal:!0,title:{text:null},labels:{overflow:"justify"},showLastLabel:!0},defaultOptions.xAxis,xAxisOptions,{type:"datetime",categories:null},disableStartOnTick)}),options.yAxis=map(splat(options.yAxis||{}),function(yAxisOptions){return opposite=pick(yAxisOptions.opposite,!0),merge({labels:{y:-2},opposite:opposite,showLastLabel:!(!yAxisOptions.categories&&"category"!==yAxisOptions.type),title:{text:null}},defaultOptions.yAxis,yAxisOptions)}),options.series=null,options=merge({chart:{panning:!0,pinchType:"x"},navigator:{enabled:navigatorEnabled},scrollbar:{enabled:pick(defaultOptions.scrollbar.enabled,!0)},rangeSelector:{enabled:pick(defaultOptions.rangeSelector.enabled,!0)},title:{text:null},tooltip:{split:pick(defaultOptions.tooltip.split,!0),crosshairs:!0},legend:{enabled:!1},plotOptions:{line:lineOptions,spline:lineOptions,area:lineOptions,areaspline:lineOptions,arearange:lineOptions,areasplinerange:lineOptions,column:columnOptions,columnrange:columnOptions,candlestick:columnOptions,ohlc:columnOptions}},options,{isStock:!0}),options.series=seriesOptions,hasRenderToArg?new Chart(a,options,c):new Chart(options,b)},wrap(Axis.prototype,"autoLabelAlign",function(proceed){var key,chart=this.chart,options=this.options,panes=chart._labelPanes=chart._labelPanes||{},labelOptions=this.options.labels;return this.chart.options.isStock&&"yAxis"===this.coll&&(key=options.top+","+options.height,!panes[key]&&labelOptions.enabled)?(15===labelOptions.x&&(labelOptions.x=0),void 0===labelOptions.align&&(labelOptions.align="right"),panes[key]=this,"right"):proceed.apply(this,[].slice.call(arguments,1))}),wrap(Axis.prototype,"destroy",function(proceed){var chart=this.chart,key=this.options&&this.options.top+","+this.options.height;return key&&chart._labelPanes&&chart._labelPanes[key]===this&&delete chart._labelPanes[key],proceed.apply(this,Array.prototype.slice.call(arguments,1))}),wrap(Axis.prototype,"getPlotLinePath",function(proceed,value,lineWidth,old,force,translatedValue){function getAxis(coll){var otherColl="xAxis"===coll?"yAxis":"xAxis",opt=axis.options[otherColl];return isNumber(opt)?[chart[otherColl][opt]]:isString(opt)?[chart.get(opt)]:map(series,function(s){return s[otherColl]})}var x1,y1,x2,y2,axes2,uniqueAxes,transVal,axis=this,series=this.isLinked&&!this.series?this.linkedParent.series:this.series,chart=axis.chart,renderer=chart.renderer,axisLeft=axis.left,axisTop=axis.top,result=[],axes=[];return"xAxis"!==axis.coll&&"yAxis"!==axis.coll?proceed.apply(this,[].slice.call(arguments,1)):(axes=getAxis(axis.coll),axes2=axis.isXAxis?chart.yAxis:chart.xAxis,each(axes2,function(A){if(defined(A.options.id)?-1===A.options.id.indexOf("navigator"):!0){var a=A.isXAxis?"yAxis":"xAxis",rax=defined(A.options[a])?chart[a][A.options[a]]:chart[a][0];axis===rax&&axes.push(A)}}),uniqueAxes=axes.length?[]:[axis.isXAxis?chart.yAxis[0]:chart.xAxis[0]],each(axes,function(axis2){-1!==inArray(axis2,uniqueAxes)||H.find(uniqueAxes,function(unique){return unique.pos===axis2.pos&&unique.len&&axis2.len})||uniqueAxes.push(axis2)}),transVal=pick(translatedValue,axis.translate(value,null,null,old)),isNumber(transVal)&&(axis.horiz?each(uniqueAxes,function(axis2){var skip;y1=axis2.pos,y2=y1+axis2.len,x1=x2=Math.round(transVal+axis.transB),(axisLeft>x1||x1>axisLeft+axis.width)&&(force?x1=x2=Math.min(Math.max(axisLeft,x1),axisLeft+axis.width):skip=!0),skip||result.push("M",x1,y1,"L",x2,y2)}):each(uniqueAxes,function(axis2){var skip;x1=axis2.pos,x2=x1+axis2.len,y1=y2=Math.round(axisTop+axis.height-transVal),(axisTop>y1||y1>axisTop+axis.height)&&(force?y1=y2=Math.min(Math.max(axisTop,y1),axis.top+axis.height):skip=!0),skip||result.push("M",x1,y1,"L",x2,y2)})),result.length>0?renderer.crispPolyLine(result,lineWidth||1):null)}),SVGRenderer.prototype.crispPolyLine=function(points,width){var i;for(i=0;i<points.length;i+=6)points[i+1]===points[i+4]&&(points[i+1]=points[i+4]=Math.round(points[i+1])-width%2/2),points[i+2]===points[i+5]&&(points[i+2]=points[i+5]=Math.round(points[i+2])+width%2/2);return points},Renderer===VMLRenderer&&(VMLRenderer.prototype.crispPolyLine=SVGRenderer.prototype.crispPolyLine),wrap(Axis.prototype,"hideCrosshair",function(proceed,i){proceed.call(this,i),this.crossLabel&&(this.crossLabel=this.crossLabel.hide())}),wrap(Axis.prototype,"drawCrosshair",function(proceed,e,point){if(proceed.call(this,e,point),defined(this.crosshair.label)&&this.crosshair.label.enabled&&this.cross){var posx,posy,crossBox,limit,align,value,chart=this.chart,options=this.options.crosshair.label,horiz=this.horiz,opposite=this.opposite,left=this.left,top=this.top,crossLabel=this.crossLabel,formatOption=options.format,formatFormat="",tickInside="inside"===this.options.tickPosition,snap=this.crosshair.snap!==!1,offset=0;e||(e=this.cross&&this.cross.e),align=horiz?"center":opposite?"right"===this.labelAlign?"right":"left":"left"===this.labelAlign?"left":"center",crossLabel||(crossLabel=this.crossLabel=chart.renderer.label(null,null,null,options.shape||"callout").addClass("highcharts-crosshair-label"+(this.series[0]&&" highcharts-color-"+this.series[0].colorIndex)).attr({align:options.align||align,padding:pick(options.padding,8),r:pick(options.borderRadius,3),zIndex:2}).add(this.labelGroup),crossLabel.attr({fill:options.backgroundColor||this.series[0]&&this.series[0].color||"#666666",stroke:options.borderColor||"","stroke-width":options.borderWidth||0}).css(extend({color:"#ffffff",fontWeight:"normal",fontSize:"11px",textAlign:"center"},options.style))),horiz?(posx=snap?point.plotX+left:e.chartX,posy=top+(opposite?0:this.height)):(posx=opposite?this.width+left:0,posy=snap?point.plotY+top:e.chartY),formatOption||options.formatter||(this.isDatetimeAxis&&(formatFormat="%b %d, %Y"),formatOption="{value"+(formatFormat?":"+formatFormat:"")+"}"),value=snap?point[this.isXAxis?"x":"y"]:this.toValue(horiz?e.chartX:e.chartY),crossLabel.attr({text:formatOption?format(formatOption,{value:value},chart.time):options.formatter.call(this,value),x:posx,y:posy,visibility:value<this.min||value>this.max?"hidden":"visible"}),crossBox=crossLabel.getBBox(),horiz?(tickInside&&!opposite||!tickInside&&opposite)&&(posy=crossLabel.y-crossBox.height):posy=crossLabel.y-crossBox.height/2,limit=horiz?{left:left-crossBox.x,right:left+this.width-crossBox.x}:{left:"left"===this.labelAlign?left:0,right:"right"===this.labelAlign?left+this.width:chart.chartWidth},crossLabel.translateX<limit.left&&(offset=limit.left-crossLabel.translateX),crossLabel.translateX+crossBox.width>=limit.right&&(offset=-(crossLabel.translateX+crossBox.width-limit.right)),crossLabel.attr({x:posx+offset,y:posy,anchorX:horiz?posx:this.opposite?0:chart.chartWidth,anchorY:horiz?this.opposite?chart.chartHeight:0:posy+crossBox.height/2})}}),seriesProto.init=function(){seriesInit.apply(this,arguments),this.setCompare(this.options.compare)},seriesProto.setCompare=function(compare){this.modifyValue="value"===compare||"percent"===compare?function(value,point){var compareValue=this.compareValue;return void 0!==value&&void 0!==compareValue?("value"===compare?value-=compareValue:value=100*(value/compareValue)-(100===this.options.compareBase?0:100),point&&(point.change=value),value):void 0}:null,this.userOptions.compare=compare,this.chart.hasRendered&&(this.isDirty=!0)},seriesProto.processData=function(){var i,processedXData,processedYData,length,compareValue,series=this,keyIndex=-1,compareStart=series.options.compareStart===!0?0:1;if(seriesProcessData.apply(this,arguments),series.xAxis&&series.processedYData)for(processedXData=series.processedXData,processedYData=series.processedYData,length=processedYData.length,series.pointArrayMap&&(keyIndex=inArray("close",series.pointArrayMap),-1===keyIndex&&(keyIndex=inArray(series.pointValKey||"y",series.pointArrayMap))),i=0;length-compareStart>i;i++)if(compareValue=processedYData[i]&&keyIndex>-1?processedYData[i][keyIndex]:processedYData[i],isNumber(compareValue)&&processedXData[i+compareStart]>=series.xAxis.min&&0!==compareValue){series.compareValue=compareValue;
break}},wrap(seriesProto,"getExtremes",function(proceed){var extremes;proceed.apply(this,[].slice.call(arguments,1)),this.modifyValue&&(extremes=[this.modifyValue(this.dataMin),this.modifyValue(this.dataMax)],this.dataMin=arrayMin(extremes),this.dataMax=arrayMax(extremes))}),Axis.prototype.setCompare=function(compare,redraw){this.isXAxis||(each(this.series,function(series){series.setCompare(compare)}),pick(redraw,!0)&&this.chart.redraw())},Point.prototype.tooltipFormatter=function(pointFormat){var point=this;return pointFormat=pointFormat.replace("{point.change}",(point.change>0?"+":"")+H.numberFormat(point.change,pick(point.series.tooltipOptions.changeDecimals,2))),pointTooltipFormatter.apply(this,[pointFormat])},wrap(Series.prototype,"render",function(proceed){this.chart.is3d&&this.chart.is3d()||this.chart.polar||!this.xAxis||this.xAxis.isRadial||(!this.clipBox&&this.animate?(this.clipBox=merge(this.chart.clipBox),this.clipBox.width=this.xAxis.len,this.clipBox.height=this.yAxis.len):this.chart[this.sharedClipKey]?this.chart[this.sharedClipKey].attr({width:this.xAxis.len,height:this.yAxis.len}):this.clipBox&&(this.clipBox.width=this.xAxis.len,this.clipBox.height=this.yAxis.len)),proceed.call(this)}),wrap(Chart.prototype,"getSelectedPoints",function(proceed){var points=proceed.call(this);return each(this.series,function(serie){serie.hasGroupedData&&(points=points.concat(grep(serie.points||[],function(point){return point.selected})))}),points}),wrap(Chart.prototype,"update",function(proceed,options){return"scrollbar"in options&&this.navigator&&(merge(!0,this.options.scrollbar,options.scrollbar),this.navigator.update({},!1),delete options.scrollbar),proceed.apply(this,Array.prototype.slice.call(arguments,1))})}(Highcharts),Highcharts}),function(){var f,render;Highcharts.setOptions({global:{useUTC:!1}}),"zh-CN"===gon.local&&Highcharts.setOptions({lang:{months:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],shortMonths:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],weekdays:["星期日","星期一","星期二","星期三","星期四","星期五","星期六"]}}),render=Highcharts.RangeSelector.prototype.render,Highcharts.RangeSelector.prototype.render=function(min,max){var button,leftPosition,space,topPosition,_i,_len,_ref,_results;for(render.apply(this,[min,max]),leftPosition=this.chart.plotLeft,topPosition=this.chart.plotTop,space=10,this.zoomText.attr({x:leftPosition+2,y:topPosition+15,text:gon.i18n.chart.zoom}),leftPosition+=this.zoomText.getBBox().width+15,_ref=this.buttons,_results=[],_i=0,_len=_ref.length;_len>_i;_i++)button=_ref[_i],button.attr({x:leftPosition,y:topPosition}),_results.push(leftPosition+=button.width+space);return _results},f=function(){},Highcharts.wrap(Highcharts.Tooltip.prototype,"hide",f)}.call(this),function(H){function calcMACD(xData,yData){var shortEMA,longEMA,signalPeriod=9,MACD=[],xMACD=[],yMACD=[],signalLine=[],histogram=[];shortEMA=EMA(xData,yData,12),longEMA=EMA(xData,yData,26);for(var i=0;i<shortEMA.length;i++)null==longEMA[i][1]?MACD.push([xData[i],null]):MACD.push([xData[i],shortEMA[i][1]-longEMA[i][1]]);for(var i=0;i<MACD.length;i++)xMACD.push(MACD[i][0]),yMACD.push(MACD[i][1]);signalLine=EMA(xMACD,yMACD,signalPeriod);for(var i=0;i<MACD.length;i++)null==MACD[i][1]?histogram.push([MACD[i][0],null]):histogram.push([MACD[i][0],MACD[i][1]-signalLine[i][1]]);return[MACD,signalLine,histogram]}function linear(xData,yData){var step1,lineData=[],step2=0,step3=0,step3a=0,step3b=0,step4=0,step5=0,step5a=0,step6=0,step7=0,step8=0,step9=0;step1=xData.length;for(var i=0;step1>i;i++)step2+=xData[i]*yData[i],step3a+=xData[i],step3b+=yData[i],step4+=Math.pow(xData[i],2),step5a+=xData[i],step7+=yData[i];return step2=step1*step2,step3=step3a*step3b,step4=step1*step4,step5=Math.pow(step5a,2),step6=(step2-step3)/(step4-step5),step8=step6*step5a,step9=(step7-step8)/step1,lineData.push([xData[0],yData[0]]),step10=step6*xData[step1-1]+step9,lineData.push([xData[step1-1],step10]),lineData}function MA(xData,yData,periods){for(var maLine=[],periodArr=[],length=yData.length,i=0;length>i;i++)periodArr.push(yData[i]),i>=periods?(maLine.push([xData[i],arrayAvg(periodArr)]),periodArr.shift()):maLine.push([xData[i],null]);return maLine}function EMA(xData,yData,periods){for(var t,ema,y=!1,n=periods,k=2/(n+1),emLine=[],periodArr=[],length=yData.length,i=(xData[0],0);length>i;i++)yData[i-1]&&periodArr.push(yData[i]),n==periodArr.length?(t=yData[i],y?(ema=t*k+y*(1-k),y=ema):y=arrayAvg(periodArr),emLine.push([xData[i],y]),periodArr.splice(0,1)):emLine.push([xData[i],null]);return emLine}function SMA(xData,yData,periods){for(var periodArr=[],smLine=[],length=yData.length,i=(xData[0],0);length>i;i++)periodArr.push(yData[i]),periods==periodArr.length?(smLine.push([xData[i],arrayAvg(periodArr)]),periodArr.splice(0,1)):smLine.push([xData[i],null]);return smLine}function arrayAvg(arr){for(var sum=0,arrLength=arr.length,i=arrLength;i--;)sum+=arr[i];return sum/arrLength}var defaultOptions=H.getOptions(),defaultPlotOptions=defaultOptions.plotOptions,seriesTypes=H.seriesTypes;defaultPlotOptions.trendline=H.merge(defaultPlotOptions.line,{marker:{enabled:!1},tooltip:{valueDecimals:2}}),seriesTypes.trendline=H.extendClass(seriesTypes.line,{type:"trendline",animate:null,requiresSorting:!1,processData:function(){var data;this.linkedParent&&(data=[].concat(this.linkedParent.options.data),this.setData(this.runAlgorithm(),!1)),H.Series.prototype.processData.call(this)},runAlgorithm:function(){var xData=this.linkedParent.xData,yData=this.linkedParent.yData,periods=this.options.periods||100,algorithm=this.options.algorithm||"linear";return this[algorithm](xData,yData,periods)},MACD:function(xData,yData,periods){return calcMACD(xData,yData,periods)[0]},signalLine:function(xData,yData,periods){return calcMACD(xData,yData,periods)[1]},SMA:function(xData,yData,periods){return SMA(xData,yData,periods)},MA:function(xData,yData,periods){return MA(xData,yData,periods)},EMA:function(xData,yData,periods){return EMA(xData,yData,periods)},linear:function(xData,yData,periods){return linear(xData,yData,periods)}}),defaultPlotOptions.histogram=H.merge(defaultPlotOptions.column,{borderWidth:0,tooltip:{valueDecimals:2}}),seriesTypes.histogram=H.extendClass(seriesTypes.column,{type:"histogram",animate:null,requiresSorting:!1,processData:function(){var data;this.linkedParent&&(data=[].concat(this.linkedParent.options.data),this.setData(this.runAlgorithm(),!1)),H.Series.prototype.processData.call(this)},runAlgorithm:function(){var xData=this.linkedParent.xData,yData=this.linkedParent.yData,periods=this.options.periods||100,algorithm=this.options.algorithm||"histogram";return this[algorithm](xData,yData,periods)},histogram:function(xData,yData,periods){return calcMACD(xData,yData,periods)[2]}})}(Highcharts),function(){var Formatter;Formatter=function(){function Formatter(){}return Formatter.prototype.round=function(str,fixed){return BigNumber(str).round(fixed,BigNumber.ROUND_HALF_UP).toF(fixed)},Formatter.prototype.fix=function(type,str){return $.isNumeric(str)||(str="0"),"ask"===type?this.round(str,gon.market.ask.fixed):"bid"===type?this.round(str,gon.market.bid.fixed):void 0},Formatter.prototype.fixAsk=function(str){return this.fix("ask",str)},Formatter.prototype.fixBid=function(str){return this.fix("bid",str)},Formatter.prototype.fixPriceGroup=function(str){return gon.market.price_group_fixed?($.isNumeric(str)||(str="0"),this.round(str,gon.market.price_group_fixed)):this.fixBid(str)},Formatter.prototype.check_trend=function(type){if("up"===type||"buy"===type||"bid"===type||type===!0)return!0;if("down"===type||"sell"===type||(type="ask"))return!1;throw"unknown trend smybol "+type},Formatter.prototype.market=function(base,quote){return""+base.toUpperCase()+"/"+quote.toUpperCase()},Formatter.prototype.market_url=function(market,order_id){return null!=order_id?"/markets/"+market+"/orders/"+order_id:"/markets/"+market},Formatter.prototype.trade=function(ask_or_bid){return gon.i18n[ask_or_bid]},Formatter.prototype.short_trade=function(type){return"buy"===type||"bid"===type?gon.i18n.bid:"sell"===type||(type="ask")?gon.i18n.ask:"n/a"},Formatter.prototype.trade_time=function(timestamp){var m;return m=moment.unix(timestamp),""+m.format("HH:mm")+m.format(":ss")},Formatter.prototype.fulltime=function(timestamp){var m;return m=moment.unix(timestamp),""+m.format("MM/DD HH:mm")},Formatter.prototype.mask_price=function(price){return price.replace(/\..*/,"<g>$&</g>")},Formatter.prototype.mask_fixed_price=function(price){return this.mask_price(this.fixPriceGroup(price))},Formatter.prototype.ticker_fill=["","0","00","000","0000","00000","000000","0000000","00000000","000000000"],Formatter.prototype.ticker_price=function(price,fillTo){var fill,fill_length,left,result,right,right_length,_ref;return null==fillTo&&(fillTo=9),_ref=price.split("."),left=_ref[0],right=_ref[1],fill_length=8,right_length=right.length,right_length>fill_length&&(right_length=fill_length),result="",result=(fill=this.ticker_fill[fill_length-right_length])?""+left+".<g>"+right+"</g><span class='fill'>"+fill+"</span>":""+left+".<g>"+right.slice(0,fill_length)+"</g>",result+=fillTo-right.length===0?"<span class='satoshi'>"+right[fillTo-1]+"</span>":"<span class='satoshi-hide'>0</span>"},Formatter.prototype.price_change=function(p1,p2){var percent;return percent=p1?this.round(100*(p2-p1)/p1,2):"0.00",""+(p1>p2?"":"+")+percent},Formatter.prototype.long_time=function(timestamp){var m;return m=moment.unix(timestamp),""+m.format("YYYY/MM/DD HH:mm")},Formatter.prototype.mask_fixed_volume=function(volume){return this.fixAsk(volume).replace(/\..*/,"<g>$&</g>")},Formatter.prototype.fix_ask=function(volume){return this.fixAsk(volume)},Formatter.prototype.fix_bid=function(price){return this.fixBid(price)},Formatter.prototype.amount=function(amount,price){var val;return val=new BigNumber(amount).times(new BigNumber(price)),this.fixAsk(val).replace(/\..*/,"<g>$&</g>")},Formatter.prototype.trend=function(type){return this.check_trend(type)?"text-up":"text-down"},Formatter.prototype.trend_icon=function(type){return this.check_trend(type)?"<i class='fa fa-caret-up text-up'></i>":"<i class='fa fa-caret-down text-down'></i>"},Formatter.prototype.t=function(key){return gon.i18n[key]},Formatter}(),window.formatter=new Formatter}.call(this),function(){this.ItemListMixin=function(){return this.attributes({tbody:"table > tbody",empty:".empty-row"}),this.checkEmpty=function(){return 0===this.select("tbody").find("tr.order").length?this.select("empty").fadeIn():this.select("empty").fadeOut()},this.addOrUpdateItem=function(item){var existsItem,template;return template=this.getTemplate(item),existsItem=this.select("tbody").find("tr[data-id="+item.id+"][data-kind="+item.kind+"]"),existsItem.length?existsItem.html(template.html()):template.prependTo(this.select("tbody")).show("slow"),this.checkEmpty()},this.removeItem=function(id){var item;return item=this.select("tbody").find("tr[data-id="+id+"]"),item.hide("slow",function(_this){return function(){return item.remove(),_this.checkEmpty()}}(this))},this.populate=function(event,data){var item,_i,_len,_ref;if(!_.isEmpty(data.orders))for(_ref=data.orders,_i=0,_len=_ref.length;_len>_i;_i++)item=_ref[_i],this.addOrUpdateItem(item);return this.checkEmpty()}}}.call(this),function(){this.NotificationMixin=function(){return this.notify=function(body,title){var notification;return title||(title=gon.i18n.notification.title),notification=notifier.notify(title,body)}}}.call(this),function(){this.OrderInputMixin=function(){return this.attributes({form:null,type:null}),this.reset=function(){return this.text="",this.value=null},this.rollback=function(){return this.$node.val(this.text)},this.parseText=function(){var text,value;switch(text=this.$node.val(),value=BigNumber(text),!1){case text!==this.text:return!1;case""!==text:return this.reset(),this.trigger("place_order::reset",{variables:this.attr.variables}),!1;case!!$.isNumeric(text):return this.rollback(),!1;case!(value.c.length-value.e-1>this.attr.precision):return this.rollback(),!1;default:return this.text=text,this.value=value,!0}},this.roundValueToText=function(v){return v.round(this.attr.precision,BigNumber.ROUND_DOWN).toF(this.attr.precision)},this.setInputValue=function(v){return this.text=null!=v?this.roundValueToText(v):"",this.$node.val(this.text)},this.changeOrder=function(v){return this.trigger("place_order::input",{variables:this.attr.variables,value:v})},this.process=function(){return this.parseText()?this.validateRange(this.value)?this.changeOrder(this.value):this.setInputValue(this.value):void 0},this.validateRange=function(v){return this.max&&v.greaterThan(this.max)?(this.value=this.max,this.changeOrder(this.max),!1):v.lessThan(0)?(this.value=null,!1):(this.value=v,!0)},this.onInput=function(e,data){return this.$node.val(this.roundValueToText(data[this.attr.variables.input])),this.process()},this.onMax=function(e,data){return this.max=data.max},this.onReset=function(){return this.$node.val(""),this.reset()},this.onFocus=function(){return this.$node.focus()},this.after("initialize",function(){return this.orderType=this.attr.type,this.text="",this.value=null,this.on(this.$node,"change paste keyup",this.process),this.on(this.attr.form,"place_order::max::"+this.attr.variables.input,this.onMax),this.on(this.attr.form,"place_order::input::"+this.attr.variables.input,this.onInput),this.on(this.attr.form,"place_order::output::"+this.attr.variables.input,this.onOutput),this.on(this.attr.form,"place_order::reset::"+this.attr.variables.input,this.onReset),this.on(this.attr.form,"place_order::focus::"+this.attr.variables.input,this.onFocus)})}}.call(this),function(){window.GlobalData=flight.component(function(){return this.refreshDocumentTitle=function(event,data){var brand,price,symbol;return symbol=gon.currencies[gon.market.bid.currency].symbol,price=data.last,brand="AUTRADEX EXCHANGE",document.title=""+symbol+price+" "+market+" - "+brand},this.refreshDepth=function(data){var asks,asks_sum,bids,bids_sum,_ref;return asks=[],bids=[],_ref=[0,0],bids_sum=_ref[0],asks_sum=_ref[1],_.each(data.asks,function(_arg){var price,volume;return price=_arg[0],volume=_arg[1],asks.push([parseFloat(price),asks_sum+=parseFloat(volume)])}),_.each(data.bids,function(_arg){var price,volume;return price=_arg[0],volume=_arg[1],bids.push([parseFloat(price),bids_sum+=parseFloat(volume)])}),this.trigger("market::depth::response",{asks:asks,bids:bids})},this.refreshTicker=function(data){var buy,last,last_buy,last_last,last_sell,market,open,sell,ticker,tickers,tickers_sorted;if(!this.last_tickers){for(market in data)ticker=data[market],data[market].buy_trend=data[market].sell_trend=data[market].last_trend=!0;this.last_tickers=data}return tickers=function(){var _results;_results=[];for(market in data)ticker=data[market],buy=parseFloat(ticker.buy),sell=parseFloat(ticker.sell),last=parseFloat(ticker.last),last_buy=parseFloat(this.last_tickers[market].buy),last_sell=parseFloat(this.last_tickers[market].sell),last_last=parseFloat(this.last_tickers[market].last),open=parseFloat(ticker.open),ticker.volumeRelFloat=parseFloat(formatter.price_change(open,last)),ticker.lastFloat=last,ticker.volumeAbsFloat=parseFloat(ticker.volume2),buy!==last_buy?data[market].buy_trend=ticker.buy_trend=buy>last_buy:ticker.buy_trend=this.last_tickers[market].buy_trend,sell!==last_sell?data[market].sell_trend=ticker.sell_trend=sell>last_sell:ticker.sell_trend=this.last_tickers[market].sell_trend,last!==last_last?data[market].last_trend=ticker.last_trend=last>last_last:ticker.last_trend=this.last_tickers[market].last_trend,market===gon.market.id&&this.trigger("market::ticker",ticker),_results.push({market:market,data:ticker,unit:this.sort_unit,order:this.sort_order});return _results}.call(this),tickers_sorted=tickers.sort(this.sorter),this.trigger("market::tickers",{tickers:tickers_sorted,raw:data}),this.last_tickers=data},this.sorter=function(a,b){return"unsorted"===a.order||"empty"===a.unit?0:a.data[a.unit]<b.data[a.unit]?"asc"===a.order?-1:1:a.data[a.unit]>b.data[a.unit]?"asc"===a.order?1:-1:0},this.refreshTickers=function(){return this.last_tickers?this.refreshTicker(this.last_tickers):gon.tickers?this.refreshTicker(gon.tickers):void 0},this.sortTickers=function(event,data){return this.sort_unit=data.unit,"volume"===this.sort_unit?this.sort_unit="volumeRelFloat":"last"===this.sort_unit?this.sort_unit="lastFloat":"volume2"===this.sort_unit&&(this.sort_unit="volumeAbsFloat"),this.sort_order=data.order,this.last_tickers?this.refreshTicker(this.last_tickers):gon.tickers?this.refreshTicker(gon.tickers):void 0},this.after("initialize",function(){var global_channel,market_channel;return this.on(document,"market::ticker",this.refreshDocumentTitle),this.on(document,"market::tickers::force",this.refreshTickers),this.on(document,"market::tickers::sort",this.sortTickers),this.sort_unit="empty",this.sort_order="unsorted",this.last_tickers=null,global_channel=this.attr.pusher.subscribe("market-global"),market_channel=this.attr.pusher.subscribe("market-"+gon.market.id+"-global"),global_channel.bind("tickers",function(_this){return function(data){return _this.refreshTicker(data)}}(this)),market_channel.bind("update",function(_this){return function(data){return gon.asks=data.asks,gon.bids=data.bids,_this.trigger("market::order_book::update",{asks:data.asks,bids:data.bids}),_this.refreshDepth({asks:data.asks,bids:data.bids})}}(this)),market_channel.bind("trades",function(_this){return function(data){return _this.trigger("market::trades",{trades:data.trades})}}(this)),gon.ticker&&this.trigger("market::ticker",gon.ticker),gon.tickers&&this.refreshTicker(gon.tickers),gon.asks&&gon.bids&&(this.trigger("market::order_book::update",{asks:gon.asks,bids:gon.bids}),this.refreshDepth({asks:gon.asks,bids:gon.bids})),gon.trades?this.trigger("market::trades",{trades:gon.trades.reverse()}):void 0})})}.call(this),function(){this.MarketData=flight.component(function(){return this.load=function(event,data){return this.trigger("market::candlestick::request"),this.reqK(gon.market.id,data.x)},this.reqK=function(market,minutes,limit){var tid,url;return null==limit&&(limit=768),tid=gon.trades.length>0?gon.trades[0].tid:0,this.last_tid&&(tid=this.last_tid+1),url="/api/v2/k_with_pending_trades.json?market="+market+"&limit="+limit+"&period="+minutes+"&trade_id="+tid,$.getJSON(url,function(_this){return function(data){return _this.handleData(data,minutes)}}(this))},this.checkTrend=function(pre,cur){var cur_close,pre_close,_;return _=cur[0],_=cur[1],_=cur[2],_=cur[3],cur_close=cur[4],_=cur[5],_=pre[0],_=pre[1],_=pre[2],_=pre[3],pre_close=pre[4],_=pre[5],cur_close>=pre_close},this.createPoint=function(i,trade){var gap,p,v,x,_ref;if(gap=Math.floor((trade.date-this.next_ts)/(60*this.minutes)),gap>100)return console.log("failed to update, too wide gap."),window.clearInterval(this.interval),this.trigger("market::candlestick::request"),i;for(;trade.date>=this.next_ts;)x=1e3*this.next_ts,this.last_ts=this.next_ts,this.next_ts=this.last_ts+60*this.minutes,_ref=trade.date<this.next_ts?[parseFloat(trade.price),parseFloat(trade.amount)]:[this.points.close[i][1],0],p=_ref[0],v=_ref[1],this.points.close.push([x,p]),this.points.candlestick.push([x,p,p,p,p]),this.points.volume.push({x:x,y:v,color:p>=this.points.close[i][1]?"rgba(0, 255, 0, 0.5)":"rgba(255, 0, 0, 0.5)"}),i+=1;return i},this.updatePoint=function(i,trade){var p,v;return p=parseFloat(trade.price),v=parseFloat(trade.amount),this.points.close[i][1]=p,p>this.points.candlestick[i][2]?this.points.candlestick[i][2]=p:p<this.points.candlestick[i][3]&&(this.points.candlestick[i][3]=p),this.points.candlestick[i][4]=p,this.points.volume[i].y+=v,this.points.volume[i].color=i>0&&this.points.close[i][1]>=this.points.close[i-1][1]?"rgba(0, 255, 0, 0.5)":"rgba(255, 0, 0, 0.5)"},this.refreshUpdatedAt=function(){return this.updated_at=Math.round((new Date).valueOf()/1e3)},this.processTrades=function(){var i;return i=this.points.candlestick.length-1,$.each(this.tradesCache,function(_this){return function(ti,trade){return trade.tid>_this.last_tid?(_this.last_ts<=trade.date&&trade.date<_this.next_ts?_this.updatePoint(i,trade):_this.next_ts<=trade.date&&(i=_this.createPoint(i,trade)),_this.last_tid=trade.tid,_this.refreshUpdatedAt()):void 0}}(this)),this.tradesCache=[]},this.prepare=function(k){var candlestick,close,close_price,cur,high,i,low,open,time,trend,vol,volume,_i,_len,_ref;for(_ref=[[],[],[]],volume=_ref[0],candlestick=_ref[1],close_price=_ref[2],i=_i=0,_len=k.length;_len>_i;i=++_i)cur=k[i],time=cur[0],open=cur[1],high=cur[2],low=cur[3],close=cur[4],vol=cur[5],time=1e3*time,trend=i>=1?this.checkTrend(k[i-1],cur):!0,close_price.push([time,close]),candlestick.push([time,open,high,low,close]),volume.push({x:time,y:vol,color:trend?"rgba(0, 255, 0, 0.5)":"rgba(255, 0, 0, 0.5)"});return{minutes:this.minutes,candlestick:candlestick.slice(0,-1),volume:volume.slice(0,-1),close:close_price.slice(0,-1)}},this.handleData=function(data,minutes){return this.minutes=minutes,this.tradesCache=data.trades.concat(this.tradesCache),this.points=this.prepare(data.k),this.last_tid=0,this.last_ts=this.points.candlestick.length>0?this.points.candlestick[this.points.candlestick.length-1][0]/1e3:0,this.next_ts=this.last_ts+60*minutes,this.deliverTrades("market::candlestick::response")},this.deliverTrades=function(event){return this.processTrades(),this.trigger(event,{minutes:this.points.minutes,candlestick:this.points.candlestick.slice(1),close:this.points.close.slice(1),volume:this.points.volume.slice(1)}),this.points.close=this.points.close.slice(-2),this.points.candlestick=this.points.candlestick.slice(-2),this.points.volume=this.points.volume.slice(-2)},this.hardRefresh=function(threshold){var ts;return ts=Math.round((new Date).valueOf()/1e3),ts>this.updated_at+threshold?(this.refreshUpdatedAt(),this.reqK(gon.market.id,this.minutes)):void 0},this.startDeliver=function(){var deliver;return null!=this.interval&&window.clearInterval(this.interval),deliver=function(_this){return function(){return _this.tradesCache.length>0?_this.deliverTrades("market::candlestick::trades"):_this.hardRefresh(300)}}(this),this.interval=setInterval(deliver,999)},this.cacheTrades=function(event,data){return this.tradesCache=Array.prototype.concat(this.tradesCache,data.trades)},this.after("initialize",function(){return this.tradesCache=[],this.on(document,"market::trades",this.cacheTrades),this.on(document,"switch::range_switch",this.load),this.on(document,"market::candlestick::created",this.startDeliver)})})}.call(this),function(){this.MemberData=flight.component(function(){return this.after("initialize",function(){var channel;if(gon.current_user)return channel=this.attr.pusher.subscribe("private-"+gon.current_user.sn),channel.bind("account",function(_this){return function(data){return gon.accounts[data.currency]=data,_this.trigger("account::update",gon.accounts)}}(this)),channel.bind("order",function(_this){return function(data){return _this.trigger("order::"+data.state,data)}}(this)),channel.bind("trade",function(_this){return function(data){return _this.trigger("trade",data)}}(this)),this.trigger("account::update",gon.accounts),gon.my_orders&&this.trigger("order::wait::populate",{orders:gon.my_orders}),gon.my_trades?this.trigger("trade::populate",{trades:gon.my_trades}):void 0})})}.call(this),function(){this.PlaceOrderData=flight.component(function(){return this.onInput=function(event,data){var _ref;return _ref=data.variables,this.input=_ref.input,this.known=_ref.known,this.output=_ref.output,this.order[this.input]=data.value,this.order[this.input]&&this.order[this.known]?this.trigger("place_order::output::"+this.output,this.order):void 0},this.onReset=function(event,data){var _ref;return _ref=data.variables,this.input=_ref.input,this.known=_ref.known,this.output=_ref.output,this.order[this.input]=this.order[this.output]=null,this.trigger("place_order::reset::"+this.output),this.trigger("place_order::order::updated",this.order)},this.onUpdateOrder=function(event,data){return this.order=data},this.after("initialize",function(){return this.order={price:null,volume:null,total:null},this.on("place_order::input",this.onInput),this.on("place_order::reset",this.onReset),this.on("place_order::order::total",this.onUpdateOrder)})})}.call(this),function(){this.AccountBalanceUI=flight.component(function(){return this.updateAccount=function(event,data){var account,currency,symbol,total,_results;_results=[];for(currency in data)account=data[currency],symbol=gon.currencies[currency].symbol||"",this.$node.find(".account."+currency+" span.balance").text(""+account.balance),this.$node.find(".account."+currency+" span.locked").text(""+account.locked),total=new BigNumber(account.locked).plus(new BigNumber(account.balance)),_results.push(this.$node.find(".account."+currency+" span.total").text(""+symbol+formatter.round(total,2)));return _results},this.updateTotalAssets=function(event,data){var account,currency,fiatCurrency,sum,symbol,ticker;fiatCurrency=gon.fiat_currency,symbol=gon.currencies[fiatCurrency].symbol,sum=0;for(currency in data)account=data[currency],currency===fiatCurrency?(sum+=+account.balance,sum+=+account.locked):(ticker=gon.tickers[""+currency+fiatCurrency])&&(sum+=+account.balance*+ticker.last,sum+=+account.locked*+ticker.last);return this.$node.find(".total-assets").text(" ≈ "+symbol+" "+formatter.round(sum,2))},this.after("initialize",function(){return this.on(document,"account::update",this.updateAccount),this.on(document,"account::update",this.updateTotalAssets)})})}.call(this),function(){this.AccountSummaryUI=flight.component(function(){return this.attributes({total_assets:"#total_assets"}),this.updateAccount=function(event,data){var account,amount,currency,_results;_results=[];for(currency in data)account=data[currency],amount=new BigNumber(account.locked).plus(new BigNumber(account.balance)),this.$node.find("tr."+currency+" span.amount").text(formatter.round(amount,4)),_results.push(this.$node.find("tr."+currency+" span.locked").text(formatter.round(account.locked,4)));return _results},this.updateTotalAssets=function(){var account,available,currency,fiatCurrency,sum,symbol,ticker,_ref;fiatCurrency=gon.fiat_currency,symbol=gon.currencies[fiatCurrency].symbol,sum=0,available=0,_ref=this.accounts;for(currency in _ref)account=_ref[currency],currency===fiatCurrency?(available+=+account.balance,sum+=+account.balance,sum+=+account.locked):(ticker=this.tickers[""+currency+fiatCurrency])&&(available+=+account.balance*+ticker.last,sum+=+account.balance*+ticker.last,sum+=+account.locked*+ticker.last);return this.select("total_assets").text(""+formatter.round(sum,1)+"/"+formatter.round(available,1))},this.after("initialize",function(){return this.accounts=gon.accounts,this.tickers=gon.tickers,this.on(document,"account::update",this.updateAccount),this.on(document,"account::update",function(_this){return function(event,data){return _this.accounts=data,_this.updateTotalAssets()}}(this)),this.on(document,"market::tickers",function(_this){return function(event,data){return _this.tickers=data.raw,_this.updateTotalAssets()}}(this))})})}.call(this),function(){var BORDER_WIDTH,CANDLESTICK_MIN_HEIGHT,CANDLESTICK_MIN_HEIGHT_SPLIT,CANDLESTICK_MIN_WIDTH,GUTTER,ORDER_BOOK_MIN_HEIGHT,PANEL_MARKETS_SEARCH_HIGH,PANEL_PADDING,PANEL_TABLE_HEADER_HIGH,TOTAL_MIN_HEIGHT,TOTAL_MIN_HEIGHT_SPLIT,TOTAL_MIN_WIDTH,TOTAL_MIN_WIDTH_PINNED,TOTAL_MIN_WIDTH_SPLIT;GUTTER=2,PANEL_TABLE_HEADER_HIGH=37,PANEL_MARKETS_SEARCH_HIGH=42,PANEL_PADDING=8,BORDER_WIDTH=1,ORDER_BOOK_MIN_HEIGHT=214,CANDLESTICK_MIN_WIDTH=685,CANDLESTICK_MIN_HEIGHT=700,CANDLESTICK_MIN_HEIGHT_SPLIT=424,TOTAL_MIN_HEIGHT=850,TOTAL_MIN_HEIGHT_SPLIT=670,TOTAL_MIN_WIDTH=1440,TOTAL_MIN_WIDTH_SPLIT=1356,TOTAL_MIN_WIDTH_PINNED=1664,this.AutoWindowUI=flight.component(function(){return this.after("initialize",function(){var candlestick_min_height,candlestick_min_height_split,candlestick_min_width,gutter,gutter_2x,gutter_3x,gutter_4x,gutter_5x,gutter_6x,gutter_7x,gutter_8x,gutter_9x,order_book_min_height,panel_markets_search_high,panel_table_header_high,total_min_height,total_min_height_split,total_min_width,total_min_width_pinned,total_min_width_split;return gutter=GUTTER,gutter_2x=2*GUTTER,gutter_3x=3*GUTTER,gutter_4x=4*GUTTER,gutter_5x=5*GUTTER,gutter_6x=6*GUTTER,gutter_7x=7*GUTTER,gutter_8x=8*GUTTER,gutter_9x=9*GUTTER,panel_table_header_high=PANEL_TABLE_HEADER_HIGH,panel_markets_search_high=PANEL_MARKETS_SEARCH_HIGH,order_book_min_height=ORDER_BOOK_MIN_HEIGHT,candlestick_min_width=CANDLESTICK_MIN_WIDTH,candlestick_min_height=CANDLESTICK_MIN_HEIGHT,candlestick_min_height_split=CANDLESTICK_MIN_HEIGHT_SPLIT,total_min_height=TOTAL_MIN_HEIGHT,total_min_height_split=TOTAL_MIN_HEIGHT_SPLIT,total_min_width=TOTAL_MIN_WIDTH,total_min_width_pinned=TOTAL_MIN_WIDTH_PINNED,total_min_width_split=TOTAL_MIN_WIDTH_SPLIT,this.$node.resize(function(){var content_min_width,current_min_height,depths_h,entry_h,markets_h,markets_inner_h,markets_w,my_orders_h,navbar_h,need_rearrange,order_book_w,order_h,ticker_h,trades_h,trades_top,window_h,window_h_syntetic,window_w;return navbar_h=$(".navbar").height()+BORDER_WIDTH,markets_h=$("#market_list").height()+2*BORDER_WIDTH,entry_h=$("#ask_entry").height()+2*BORDER_WIDTH,depths_h=$("#depths_wrapper").height()+2*BORDER_WIDTH,my_orders_h=$("#my_orders").height()+2*BORDER_WIDTH,ticker_h=$("#ticker").height()+2*BORDER_WIDTH,content_min_width=total_min_width_split,"true"===gon.markets_pinned&&(total_min_width=total_min_width_pinned,content_min_width=total_min_width_pinned),$("#markets-show").css("min-width",content_min_width),$("#wrap").find(".content").css("min-width",content_min_width),window_h=$(this).height(),$(".content").height(window_h-navbar_h),current_min_height=total_min_height,order_h=order_book_min_height,$("#order_book").css("min-height",order_book_min_height),need_rearrange=!1,window.innerWidth<=total_min_width||window.innerHeight<total_min_height_split||window.innerHeight>=total_min_height_split&&window.innerHeight<total_min_height&&window.innerWidth>total_min_width?($("#my_orders").css("min-height",206),$("#my_orders").css("height",206),my_orders_h=$("#my_orders").height(),order_h=window_h-navbar_h-depths_h-my_orders_h-ticker_h-gutter_6x-2*BORDER_WIDTH,current_min_height=total_min_height_split,need_rearrange=!0):($("#my_orders").css("min-height",180),$("#my_orders").css("height",180),my_orders_h=$("#my_orders").height(),order_h=window_h-navbar_h-entry_h-depths_h-my_orders_h-ticker_h-gutter_6x-2*BORDER_WIDTH),order_book_min_height>order_h&&(order_h=order_book_min_height),$("#order_book").css("min-height",order_book_min_height),$("#order_book").height(order_h),$("#order_book .panel-body-content").height(order_h-panel_table_header_high-2*PANEL_PADDING),$("#ticker").css("top",order_h+gutter_3x),$("#depths_wrapper").css("top",order_h+ticker_h+gutter_4x),$("#my_orders").css("top",order_h+ticker_h+depths_h+gutter_5x),window_w=window.innerWidth,markets_w=$("#market_list").width(),order_book_w=$("#order_book").width(),$("#market_list .panel panel-default").width(markets_w),"false"===gon.markets_pinned?$("#candlestick").width(window_w-order_book_w-gutter_2x-20):$("#candlestick").width(window_w-order_book_w-markets_w-gutter_4x-20),$("#candlestick").css("min-width",candlestick_min_width),$("#candlestick").height(window_h-navbar_h-gutter_3x),need_rearrange?($("#candlestick").css("min-height",candlestick_min_height_split),$("#candlestick").css("height",$("#candlestick").height()-$(".entry-left").height()-gutter_2x),$(".entry-right").css("left",$("#candlestick").position().left+$("#candlestick").width()/2-$(".entry-right").width()),$(".entry-right").css("top",$("#candlestick").height()+gutter_3x),$(".entry-left").css("left",$(".entry-right").position().left+$(".entry-right").width()+gutter_2x),$(".entry-left").css("top",$("#candlestick").height()+gutter_3x),$("#my_orders_wrapper").find(".dropdown-wrapper").css("top",$("#candlestick").height()+gutter_3x)):window.innerHeight>=total_min_height_split&&($("#candlestick").css("min-height",candlestick_min_height),$(".entry-left").css("left",""),$(".entry-left").css("right",2),$(".entry-left").css("top",order_h+ticker_h+depths_h+my_orders_h+gutter_7x),$(".entry-right").css("left",""),$(".entry-right").css("right",$(".entry-left").width()+gutter_2x+2),$(".entry-right").css("top",order_h+ticker_h+depths_h+my_orders_h+gutter_7x),$("#my_orders_wrapper").find(".dropdown-wrapper").css("top",$("#depths_wrapper").position().top+$("#depths_wrapper").height()+gutter_2x)),window_h_syntetic=navbar_h+$("#candlestick").height()+$(".entry-left").height()+gutter_4x,need_rearrange||(window_h_syntetic=navbar_h+$("#candlestick").height()+gutter_3x),markets_h=(window_h_syntetic-navbar_h)/2,markets_inner_h=markets_h-(panel_table_header_high+panel_markets_search_high),$("#market_list").css("min-height",markets_h),$("#market_list").height(markets_h),$("#market_list").find(".panel-default").css("min-height",markets_h),$("#market_list").find(".panel-default").height(markets_h),$("#market_list").find(".panel-body-content").css("min-height",markets_inner_h),$("#market_list").find(".panel-body-content").height(markets_inner_h-16),markets_h=$("#market_list").height()+2*BORDER_WIDTH,trades_h=window_h_syntetic-navbar_h-markets_h-gutter_2x-2*BORDER_WIDTH,trades_top=markets_h+2*BORDER_WIDTH,"true"===gon.markets_pinned&&(trades_top+=2),$("#market_trades").css("top",trades_top),$("#market_trades").height(trades_h),$("#market_trades .panel").height(trades_h-2*BORDER_WIDTH),$("#market_trades .panel-body-content").height(trades_h-2*BORDER_WIDTH-panel_table_header_high-2*PANEL_PADDING),$("[href='#left_side_content']").css("right",200-((window_h_syntetic-navbar_h)/2+35)),"true"===gon.markets_pinned?$("#market_trades_wrapper").find(".dropdown-wrapper").css("top",trades_top+panel_table_header_high):$("#market_trades_wrapper").find(".dropdown-wrapper").css("top",trades_top+panel_table_header_high+35)
}),this.$node.resize()})})}.call(this),function(){var CANDLESTICK_IDX,CLOSE_IDX,COLOR,COLOR_OFF,COLOR_ON,DATETIME_LABEL_FORMAT,DATETIME_LABEL_FORMAT_FOR_TOOLTIP,EMA30_IDX,EMA7_IDX,HIST_IDX,HIST_INDICATOR,INDICATOR,LEGEND_INDICATOR,MA10_IDX,MA5_IDX,MACD_IDX,MACD_INDICATOR,RANGE_DEFAULT,SIG_IDX,SIG_INDICATOR,VOLUME_IDX;"zh-CN"===gon.local&&(DATETIME_LABEL_FORMAT_FOR_TOOLTIP={millisecond:["%m月%e日, %H:%M:%S.%L","%m月%e日, %H:%M:%S.%L","-%H:%M:%S.%L"],second:["%m月%e日, %H:%M:%S","%m月%e日, %H:%M:%S","-%H:%M:%S"],minute:["%m月%e日, %H:%M","%m月%e日, %H:%M","-%H:%M"],hour:["%m月%e日, %H:%M","%m月%e日, %H:%M","-%H:%M"],day:["%m月%e日, %H:%M","%m月%e日, %H:%M","-%H:%M"],week:["%Y年%m月%e日","%Y年%m月%e日","-%m月%e日"],month:["%Y年%m月","%Y年%m月","-%m"],year:["%Y","%Y","-%Y"]}),DATETIME_LABEL_FORMAT={second:"%H:%M:%S",minute:"%H:%M",hour:"%H:%M",day:"%m-%d",week:"%m-%d",month:"%Y-%m",year:"%Y"},RANGE_DEFAULT={fill:"none",stroke:"none","stroke-width":0,r:8,style:{color:"#333"},states:{hover:{fill:"#000",style:{color:"#ccc"}},select:{fill:"#000",style:{color:"#eee"}}}},COLOR_ON={candlestick:{color:"#990f0f",upColor:"#116d0d",lineColor:"#cc1414",upLineColor:"#49c043"},close:{color:null}},COLOR_OFF={candlestick:{color:"invalid",upColor:"invalid",lineColor:"invalid",upLineColor:"invalid"},close:{color:"invalid"}},COLOR={candlestick:_.extend({},COLOR_OFF.candlestick),close:_.extend({},COLOR_OFF.close)},INDICATOR={MA:!1,EMA:!1,OFF:!1},MACD_INDICATOR={MACD:!1,OFF:!1},SIG_INDICATOR={SIG:!1,OFF:!1},HIST_INDICATOR={HIST:!1,OFF:!1},LEGEND_INDICATOR={Legend:!1,OFF:!1},VOLUME_IDX=0,MA5_IDX=1,MA10_IDX=2,EMA7_IDX=3,EMA30_IDX=4,MACD_IDX=5,SIG_IDX=6,HIST_IDX=7,CANDLESTICK_IDX=8,CLOSE_IDX=9,this.CandlestickUI=flight.component(function(){return this.mask=function(){return this.$node.find(".mask").show()},this.unmask=function(){return this.$node.find(".mask").hide()},this.request=function(){return this.mask()},this.init=function(event,data){var _ref;return this.running=!0,null!=(_ref=this.$node.find("#candlestick_chart").highcharts())&&_ref.destroy(),this.initHighStock(data),this.adjustChart(),this.trigger("market::candlestick::created",data)},this.switchType=function(event,data){var chart,colors,key,s,type,val,_i,_len,_ref;for(key in COLOR)val=COLOR[key],_.extend(COLOR[key],COLOR_OFF[key]);if(_.extend(COLOR[data.x],COLOR_ON[data.x]),chart=this.$node.find("#candlestick_chart").highcharts()){for(type in COLOR)for(colors=COLOR[type],_ref=chart.series,_i=0,_len=_ref.length;_len>_i;_i++)s=_ref[_i],null==s.userOptions.algorithm&&s.userOptions.id===type&&s.update(colors,!1);return this.trigger("switch::main_indicator_switch::init")}},this.switchMainIndicator=function(event,data){var chart,indicator,key,s,val,visible,_i,_j,_len,_len1,_ref,_ref1;for(key in INDICATOR)val=INDICATOR[key],INDICATOR[key]=!1;if(INDICATOR[data.x]=!0,chart=this.$node.find("#candlestick_chart").highcharts()){for(_ref=chart.series,_i=0,_len=_ref.length;_len>_i;_i++)s=_ref[_i],"main"===s.userOptions.innerGroup&&s.setVisible(!0,!1);for(indicator in INDICATOR)for(visible=INDICATOR[indicator],_ref1=chart.series,_j=0,_len1=_ref1.length;_len1>_j;_j++)s=_ref1[_j],null!=s.userOptions.algorithm&&s.userOptions.algorithm===indicator&&s.setVisible(visible,!1);return chart.redraw()}},this.adjustChart=function(){var chart;return(chart=this.$node.find("#candlestick_chart").highcharts())?(MACD_INDICATOR.MACD?(chart.yAxis[2].update({height:"15%",top:"85%"}),chart.yAxis[1].update({height:"15%",top:"70%"}),chart.yAxis[0].update({height:"70%"})):(chart.yAxis[2].update({height:"0%"}),chart.yAxis[1].update({height:"15%",top:"85%"}),chart.yAxis[0].update({height:"85%"})),chart.redraw()):void 0},this.switchMACDIndicator=function(event,data){var chart,key,s,val,_i,_len,_ref,_results;for(key in MACD_INDICATOR)val=MACD_INDICATOR[key],MACD_INDICATOR[key]=!1;if(MACD_INDICATOR[data.x]=!0,chart=this.$node.find("#candlestick_chart").highcharts()){for(_ref=chart.series,_results=[],_i=0,_len=_ref.length;_len>_i;_i++)s=_ref[_i],"macd"===s.userOptions.innerGroup?(s.setVisible(MACD_INDICATOR.MACD,!1),_results.push(this.adjustChart())):_results.push(void 0);return _results}},this.switchLegendIndicator=function(event,data){var key,val;for(key in LEGEND_INDICATOR)val=LEGEND_INDICATOR[key],LEGEND_INDICATOR[key]=!1;return LEGEND_INDICATOR[data.x]=!0},this.default_range=function(unit){return 6e4*unit*100},this.initHighStock=function(data){var component,dataGrouping,range,timeUnits,title,tooltipTemplate,unit;return component=this,range=this.default_range(data.minutes),unit=$("[data-unit="+data.minutes+"]").text(),title=""+gon.market.base_unit.toUpperCase()+"/"+gon.market.quote_unit.toUpperCase()+" - "+unit,timeUnits={millisecond:1,second:1e3,minute:6e4,hour:36e5,day:864e5,week:6048e5,month:26784e5,year:31556952e3},dataGrouping={enabled:!1},tooltipTemplate=JST["templates/tooltip"],DATETIME_LABEL_FORMAT_FOR_TOOLTIP&&(dataGrouping.dateTimeLabelFormats=DATETIME_LABEL_FORMAT_FOR_TOOLTIP),this.$node.find("#candlestick_chart").highcharts("StockChart",{chart:{events:{load:function(_this){return function(){return _this.unmask()}}(this)},animation:!0,marginTop:95,backgroundColor:"rgba(0,0,0, 0.0)"},mapNavigation:{enableMouseWheelZoom:!0},credits:{enabled:!1},tooltip:{enabled:!0,valueDecimals:gon.market.bid.fixed,borderWidth:0,backgroundColor:"rgba(0,0,0,0)",borderRadius:2,shadow:!1,shared:!0,split:!1,positioner:function(){var chart_h,chart_w,grid_h,x,y;return chart_w=$(this.chart.renderTo).width(),chart_h=$(this.chart.renderTo).height(),grid_h=Math.min(20,Math.ceil(chart_h/10)),LEGEND_INDICATOR.Legend===!0?x=5:(x=-800,this.hide()),y=5,{x:x,y:y}},useHTML:!0,formatter:function(){var chart,dateFormat,dateTimeLabelFormats,fun,index,k,key,series,v;chart=this.points[0].series.chart,series=this.points[0].series,index=this.points[0].point.index,key=this.points[0].key;for(k in timeUnits)if(v=timeUnits[k],v>=series.xAxis.closestPointRange||v<=timeUnits.day&&key%v>0){dateFormat=dateTimeLabelFormats=series.options.dataGrouping.dateTimeLabelFormats[k][0],title=Highcharts.dateFormat(dateFormat,key);break}return fun=function(h,s){return h[s.options.id]=s.data[index],h},tooltipTemplate({title:title,indicator:INDICATOR,macd_indicator:MACD_INDICATOR,format:function(v,fixed){return null==fixed&&(fixed=3),formatter.fixPriceGroup(parseFloat(v))},format4:function(v,fixed){return null==fixed&&(fixed=4),fixed>4?formatter.round(v,4):formatter.round(v,fixed)},points:_.reduce(chart.series,fun,{})})}},plotOptions:{candlestick:{turboThreshold:0,followPointer:!0,color:"#990f0f",upColor:"#000000",lineColor:"#cc1414",upLineColor:"#49c043",dataGrouping:dataGrouping},column:{turboThreshold:0,dataGrouping:dataGrouping},trendline:{lineWidth:1},histogram:{lineWidth:1,tooltip:{pointFormat:"<li><span style='color: {series.color};'>{series.name}: <b>{point.y}</b></span></li>"}}},scrollbar:{buttonArrowColor:"#333",barBackgroundColor:"#202020",buttonBackgroundColor:"#202020",trackBackgroundColor:"#202020",barBorderColor:"#2a2a2a",buttonBorderColor:"#2a2a2a",trackBorderColor:"#2a2a2a"},rangeSelector:{enabled:!1},navigator:{maskFill:"rgba(32, 32, 32, 0.6)",outlineColor:"#333",outlineWidth:1,baseSeries:"candlestick",series:{color:"#306196"},xAxis:{dateTimeLabelFormats:DATETIME_LABEL_FORMAT}},xAxis:{type:"datetime",dateTimeLabelFormats:DATETIME_LABEL_FORMAT,lineColor:"#333",tickColor:"#333",tickWidth:2,range:range,maxPadding:1,crosshair:{snap:!1,width:.5,dashStyle:"solid",color:"#777",interpolate:!0,label:{enabled:!0,formatter:function(val){return Highcharts.dateFormat("%a %d %b %H:%M:%S",val)},backgroundColor:"#2b3434",style:{color:"#aaa"}}},events:{afterSetExtremes:function(e){return"navigator"===e.trigger&&"navigator-drag"===e.triggerOp&&component.liveRange(this.chart)&&!component.running?component.trigger("switch::range_switch::init"):void 0}}},yAxis:[{labels:{enabled:!0,align:"left",reserveSpace:!0,formatter:function(){return formatter.fixPriceGroup(this.value)},x:2,y:-5},gridLineColor:"#222",gridLineDashStyle:"ShortDot",top:"0%",height:"85%",lineColor:"#fff",min:null,tickPositioner:function(){var currentTick,dataMax,dataMin,i,maxDeviation,prevTick,step,threshold,tickArray,ticks,_i;for(maxDeviation=this.dataMax-this.dataMin,dataMin=this.dataMin,dataMax=this.dataMax,ticks=10,threshold=1e-8,threshold>=maxDeviation&&(maxDeviation=threshold,0>dataMin-maxDeviation/2?dataMin=0:dataMin+threshold>dataMax&&(dataMin-=(dataMin+threshold-dataMax)/2)),step=maxDeviation/ticks,tickArray=[],prevTick=0,currentTick=dataMin,i=_i=0;ticks>=0?ticks>=_i:_i>=ticks;i=ticks>=0?++_i:--_i)currentTick-prevTick>=5e-10&&(tickArray.push(currentTick),prevTick=currentTick),currentTick+=step;return tickArray},crosshair:{snap:!1,interpolate:!0,width:.5,dashStyle:"solid",color:"#777",label:{enabled:!0,formatter:function(v){return formatter.fixPriceGroup(parseFloat(v))},backgroundColor:"#2b3434",style:{color:"#aaa"}}}},{labels:{enabled:!0,align:"left",x:-73,y:-5},top:"85%",gridLineColor:"#222",gridLineDashStyle:"ShortDot",height:"15%",crosshair:{snap:!1,width:.5,dashStyle:"solid",color:"#777",label:{enabled:!0,format:"{value:.4f}",backgroundColor:"#2b3434",style:{color:"#aaa"}}}},{labels:{enabled:!1},top:"85%",gridLineColor:"#000",height:"0%"}],series:[{id:"volume",name:gon.i18n.chart.volume,yAxis:1,type:"column",data:data.volume,color:"#777",showInLegend:!1},{id:"ma5",name:"MA5",linkedTo:"close",innerGroup:"main",showInLegend:!0,type:"trendline",algorithm:"MA",periods:5,color:"#7c9aaa",visible:INDICATOR.MA,zIndex:1,marker:{radius:0}},{id:"ma10",name:"MA10",linkedTo:"close",innerGroup:"main",showInLegend:!0,type:"trendline",algorithm:"MA",periods:10,color:"#be8f53",visible:INDICATOR.MA,zIndex:2,marker:{radius:0}},{id:"ema7",name:"EMA7",linkedTo:"close",innerGroup:"main",showInLegend:!0,type:"trendline",algorithm:"EMA",periods:7,color:"#7c9aaa",visible:INDICATOR.EMA,zIndex:3,marker:{radius:0}},{id:"ema30",name:"EMA30",linkedTo:"close",innerGroup:"main",showInLegend:!0,type:"trendline",algorithm:"EMA",periods:30,color:"#be8f53",visible:INDICATOR.EMA,zIndex:4,marker:{radius:0}},{id:"macd",name:"MACD",linkedTo:"close",innerGroup:"macd",yAxis:2,showInLegend:!0,type:"trendline",algorithm:"MACD",color:"#7c9aaa",visible:MACD_INDICATOR.MACD,zIndex:5,marker:{radius:0}},{id:"sig",name:"SIG",linkedTo:"close",innerGroup:"macd",yAxis:2,showInLegend:!0,type:"trendline",algorithm:"signalLine",color:"#be8f53",visible:MACD_INDICATOR.MACD,zIndex:6,marker:{radius:0}},{id:"hist",name:"HIST",linkedTo:"close",innerGroup:"macd",yAxis:2,showInLegend:!0,type:"histogram",visible:MACD_INDICATOR.MACD,zIndex:7,color:"#990f0f"},_.extend({id:"candlestick",name:gon.i18n.chart.candlestick,type:"candlestick",data:data.candlestick,showInLegend:!1,zIndex:0},COLOR.candlestick),_.extend({id:"close",type:"spline",data:data.close,showInLegend:!1,marker:{radius:0}},COLOR.close)]})},this.formatPointArray=function(point){return{x:point[0],open:point[1],high:point[2],low:point[3],close:point[4]}},this.createPointOnSeries=function(chart,i,px,point){return chart.series[i].addPoint(point,!1,!0)},this.createPoint=function(chart,data,i){return this.createPointOnSeries(chart,CANDLESTICK_IDX,data.candlestick[i][0],data.candlestick[i]),this.createPointOnSeries(chart,CLOSE_IDX,data.close[i][0],data.close[i]),this.createPointOnSeries(chart,VOLUME_IDX,data.volume[i].x,data.volume[i]),chart.redraw(!0)},this.updatePointOnSeries=function(chart,i,px,point){var last;return chart.series[i].points?(last=chart.series[i].points[chart.series[i].points.length-1],px===last.x?last.update(point,!0):console.log("Error update on series "+i+": px="+px+" lastx="+last.x)):void 0},this.updatePoint=function(chart,data,i){return this.updatePointOnSeries(chart,CANDLESTICK_IDX,data.candlestick[i][0],data.candlestick[i]),this.updatePointOnSeries(chart,CLOSE_IDX,data.close[i][0],data.close[i][1]),this.updatePointOnSeries(chart,VOLUME_IDX,data.volume[i].x,data.volume[i]),chart.redraw(!0)},this.process=function(chart,data){var current,current_point,i,_i,_ref,_results;for(_results=[],i=_i=0,_ref=data.candlestick.length-1;_ref>=0?_ref>=_i:_i>=_ref;i=_ref>=0?++_i:--_i)current=chart.series[CANDLESTICK_IDX].points.length-1,current_point=chart.series[CANDLESTICK_IDX].points[current],data.candlestick[i][0]>current_point.x?_results.push(this.createPoint(chart,data,i)):_results.push(this.updatePoint(chart,data,i));return _results},this.updateByTrades=function(event,data){var chart;return chart=this.$node.find("#candlestick_chart").highcharts(),this.liveRange(chart)?this.process(chart,data):this.running=!1},this.liveRange=function(){return!0},this.after("initialize",function(){return this.on(document,"market::candlestick::request",this.request),this.on(document,"market::candlestick::response",this.init),this.on(document,"market::candlestick::trades",this.updateByTrades),this.on(document,"switch::legend_indicator_switch",this.switchLegendIndicator),this.on(document,"switch::main_indicator_switch",this.switchMainIndicator),this.on(document,"switch::indicator_switch",this.switchMACDIndicator),this.on(document,"switch::type_switch",this.switchType)})})}.call(this),function(){this.DepthUI=flight.component(function(){return this.attributes({chart:"#depths"}),this.refresh=function(event,data){var chart;return chart=this.select("chart").highcharts(),chart.series[0].setData(data.bids,!1),chart.series[1].setData(data.asks,!1),chart.redraw()},this.initChart=function(){return this.select("chart").highcharts({chart:{margin:0,height:148,backgroundColor:"rgba(0,0,0,0)",type:"area"},title:{text:""},credits:{enabled:!1},legend:{enabled:!1},rangeSelector:{enabled:!1},xAxis:[{type:"logarithmic",width:"50%",labels:{enabled:!1}},{type:"logarithmic",offset:0,left:"50%",labels:{enabled:!1},width:"50%"}],yAxis:{min:0,gridLineColor:"#333",gridLineDashStyle:"ShortDot",title:{text:""},labels:{enabled:!1}},plotOptions:{area:{softThreshold:!0,threshold:0}},tooltip:{valueDecimals:4,headerFormat:"<table class=depths-table><tr>\n  <th><span>{series.name}</span> "+gon.i18n.chart.price+"</th><th>"+gon.i18n.chart.depth+"</th>\n</tr>",pointFormatter:function(){return"<tr><td>"+this.x.toFixed(9)+"</td><td>"+this.y.toFixed(1)+"</td></tr>"},footerFormat:"</table>",borderWidth:0,backgroundColor:"rgba(0,0,0,0)",borderRadius:0,shadow:!1,useHTML:!0,shared:!0,positioner:function(){return{x:200,y:3}}},series:[{name:gon.i18n.bid,fillColor:"rgba(77, 215, 16, 0.5)",lineColor:"rgb(77, 215, 16)",color:"transparent",xAxis:0,animation:{duration:1e3}},{name:gon.i18n.ask,animation:{duration:1e3},fillColor:"rgba(208, 0, 23, 0.3)",lineColor:"rgb(208, 0, 23)",color:"transparent",xAxis:1}]})},this.after("initialize",function(){return this.initChart(),this.on(document,"market::depth::response",this.refresh),this.on(document,"market::depth::fade_toggle",function(){return this.$node.fadeToggle()}),this.on(this.select("close"),"click",function(_this){return function(){return _this.trigger("market::depth::fade_toggle")}}(this))})})}.call(this),function(){this.FlashMessageUI=flight.component(function(){return this.showMeg=function(data){var template;return this.$node.html(""),template=JST["templates/flash_message"](data),$(template).prependTo(this.$node)},this.info=function(event,data){return data.info=!0,this.showMeg(data)},this.notice=function(event,data){return data.notice=!0,this.showMeg(data)},this.alert=function(event,data){return data.alert=!0,this.showMeg(data)},this.after("initialize",function(){return this.on(document,"flash:info",this.info),this.on(document,"flash:notice",this.notice),this.on(document,"flash:alert",this.alert)})})}.call(this),function(){this.FloatUI=flight.component(function(){return this.attributes({action:"ul.nav.nav-tabs > li",close:"i.fa.fa-close"}),this.after("initialize",function(){return this.select("action").click(function(_this){return function(e){return _this.select("action").length>1?_this.$node.hasClass("hover")&&$(e.currentTarget).hasClass("active")?_this.select("close").click():_this.$node.addClass("hover"):_this.$node.hasClass("hover")?_this.select("close").click():_this.$node.addClass("hover")}}(this)),this.select("close").click(function(_this){return function(){return _this.$node.removeClass("hover"),_this.select("action").removeClass("active")}}(this))})})}.call(this),function(){this.HeaderUI=flight.component(function(){return this.attributes({vol:"span.vol",amount:"span.amount",high:"span.high",low:"span.low",change:"span.change",sound:'input[name="sound-checkbox"]'}),this.refresh=function(event,ticker){var p1,p2,trend;return this.select("vol").text(""+formatter.round(ticker.volume,1)+" / "+formatter.round(ticker.volume2,4)+" "+gon.market.quote_unit.toUpperCase()),this.select("high").text(ticker.high),this.select("low").text(ticker.low),p1=parseFloat(ticker.open),p2=parseFloat(ticker.last),trend=formatter.trend(p2>=p1),this.select("change").html("<span class='"+trend+"'>"+formatter.price_change(p1,p2)+"%</span>")},this.after("initialize",function(){var state,_ref;return this.on(document,"market::ticker",this.refresh),void 0===Cookies.get("sound")&&Cookies.set("sound",!0,30),state=null!=(_ref="true"===Cookies.get("sound"))?_ref:{"true":!1},this.select("sound").bootstrapSwitch({labelText:gon.i18n["switch"].sound,state:state,handleWidth:40,labelWidth:40,onSwitchChange:function(event,state){return Cookies.set("sound",state,30)}}),$("header .dropdown-menu").click(function(e){return e.stopPropagation()})})})}.call(this),function(){var ESC;ESC=27,this.KeyBindUI=flight.component(function(){return this.after("initialize",function(){var entry;return entry="#ask_entry",this.$node.on("keyup",function(e){return e.keyCode===ESC?(entry="#bid_entry"===entry?"#ask_entry":"#bid_entry",$(entry).trigger("place_order::clear")):void 0})})})}.call(this),function(){window.MarketSwitchUI=flight.component(function(){return this.attributes({table:"tbody",marketGroupName:".panel-body-head thead a.name",marketGroupItem:".dropdown-wrapper .dropdown-menu li a",marketGroups:".dropdown-wrapper .dropdown-menu",marketsTable:".table.markets",marketsFilter:"input",marketsList:"tr.market",switchUnit:"a.switch_unit",sortName:"a.sort_name",sortUnit:"a.sort_change",sortPrice:"a.sort_price",sortNameDirection:"span.name_sort_direction",sortUnitDirection:"span.change_sort_direction",sortPriceDirection:"span.price_sort_direction"}),this.setPinned=function(pinned){return"true"===pinned?($("[data-name='pin-unpin-markets']").find(".fa").removeClass("fa-flip-vertical"),$("[data-name='pin-unpin-markets']").find(".info").text("Unpin markets")):($("[data-name='pin-unpin-markets']").find(".fa").hasClass("fa-flip-vertical")||$("[data-name='pin-unpin-markets']").find(".fa").addClass("fa-flip-vertical"),$("[data-name='pin-unpin-markets']").find(".info").text("Pin markets"))},this.switchMarketGroup=function(event,item){var name;return item=$(event.target).closest("a"),name=item.data("name"),"pin-unpin-markets"===name?(this.markets_trades_pinned="true"===this.markets_trades_pinned?"false":"true",this.setPinned(this.markets_trades_pinned),this.switchMarketByMarket($(".highlight").data("market"))):(this.markets_filter=name,this.select("marketGroupItem").removeClass("active"),item.addClass("active"),this.select("marketGroupName").text(item.find("span").text()),this.select("marketsTable").attr("class","table table-hover markets "+name),this.select("marketsTable").attr("style","font-size: 12px"))},this.setMarketGroup=function(market_filter){var marketGroup;return this.select("marketGroupItem").removeClass("active"),marketGroup=this.select("marketGroups").find("a[data-name='"+market_filter+"']"),marketGroup.addClass("active"),this.select("marketGroupName").text(marketGroup.find("span").text()),this.select("marketsTable").attr("class","table table-hover markets "+market_filter),this.select("marketsTable").attr("style","font-size: 12px")},this.updateMarket=function(select,ticker){var curren_market,p1,p2,trend;return trend=formatter.trend(ticker.last_trend),curren_market=select[0],curren_market.attributes["class"].value="market quote-"+ticker.quote_unit,curren_market.attributes["data-market"].value=ticker.base_unit+ticker.quote_unit,curren_market.attributes.id.value="market-list-"+ticker.base_unit+ticker.quote_unit,this.markets_name_filter.length&&(curren_market.attributes["class"].value+=curren_market.attributes["data-market"].value.indexOf(this.markets_name_filter.toLowerCase())>=0?" visible":" hide"),select.find("td.name").html("<span class=''>"+ticker.name+"</span>"),select.find("td.price").attr("title",ticker.last).html("<span class='"+trend+"'>"+formatter.ticker_price(ticker.last)+"</span>"),"volume"===this.current_unit?(p1=parseFloat(ticker.open),p2=parseFloat(ticker.last),trend=formatter.trend(p2>=p1),select.find("td.change").html("<span class='"+trend+"'>"+formatter.price_change(p1,p2)+"%</span>")):select.find("td.change").html("<span class='"+trend+"'>"+formatter.round(ticker.volume2,4)+"</span>")},this.refresh=function(event,data){var local_index,records,recordsFound,table,ticker,_i,_j,_len,_len1,_ref,_ref1;for(table=this.select("table"),records=this.select("table").find("tr.market"),recordsFound=[],local_index=0,_ref=data.tickers,_i=0,_len=_ref.length;_len>_i;_i++)ticker=_ref[_i],recordsFound.push(table.find("tr#"+records[local_index++].attributes.id.value));for(local_index=0,_ref1=data.tickers,_j=0,_len1=_ref1.length;_len1>_j;_j++)ticker=_ref1[_j],this.updateMarket(recordsFound[local_index++],ticker.data);return this.select("table").find("tr#market-list-"+gon.market.id).addClass("highlight")},this.filterMarkets=function(filter){var local_markets,market,market_class,_i,_len,_results;for(this.markets_name_filter=filter,local_markets=this.select("marketsList"),_results=[],_i=0,_len=local_markets.length;_len>_i;_i++)market=local_markets[_i],market_class=market.attributes["class"].value,market.attributes["data-market"].value.indexOf(filter.toLowerCase())>=0||!filter.length?(market_class.indexOf("hide")>=0&&(market.attributes["class"].value=market_class.substr(0,market_class.indexOf("hide")-1)),-1===market_class.indexOf("visible")?_results.push(market.attributes["class"].value+=" visible"):_results.push(void 0)):(market_class.indexOf("visible")>=0&&(market.attributes["class"].value=market_class.substr(0,market_class.indexOf("visible")-1)),-1===market_class.indexOf("hide")?_results.push(market.attributes["class"].value+=" hide"):_results.push(void 0));return _results},this.filterEditing=function(e){var char,filter;return char=e.key,filter=e.currentTarget.value,1===char.length?filter+=char:"Backspace"===char?filter=filter.substring(0,filter.length-1):"Enter"!==char&&(e.currentTarget.value="",filter=""),this.filterMarkets(filter)},this.setUnit=function(unit_name){return this.unit=this.select("switchUnit"),this.selected=this.unit[0],this.unit.hasClass("fa-percent")&&"volume2"===unit_name?this.updateColumnTransation(this.selected,"fa-percent","fa-btc"):this.unit.hasClass("fa-btc")&&"volume"===unit_name?this.updateColumnTransation(this.selected,"fa-btc","fa-percent"):void 0},this.switchUnit=function(){var column,current_column,current_column_sort;return this.unit=this.select("switchUnit"),this.selected=this.unit[0],this.unit.hasClass("fa-percent")?this.updateColumnTransation(this.selected,"fa-percent","fa-btc"):this.updateColumnTransation(this.selected,"fa-btc","fa-percent"),current_column=this.getCurrentUnit(),"volume2"===this.current_column||"volume"===this.current_column?(current_column_sort="unsorted",column=this.select("sortUnit"),column.hasClass("desc")?current_column_sort="desc":column.hasClass("asc")&&(current_column_sort="asc")):(current_column_sort=this.columnOrder(this.current_column),current_column=this.current_column),this.trigger("market::tickers::sort",{unit:current_column,order:current_column_sort})},this.getCurrentUnit=function(){var selected,unit;return unit=this.select("switchUnit"),selected=unit[0],this.current_unit=unit.hasClass("fa-percent")?"volume":"volume2",this.current_unit},this.getColumn=function(column_name){var column;return"volume"===column_name||"volume2"===column_name?column=this.select("sortUnit"):"last"===column_name?column=this.select("sortPrice"):"name"===column_name&&(column=this.select("sortName")),column},this.getColumnDirection=function(column_name){var direction;return direction=null,"volume"===column_name||"volume2"===column_name?direction=this.select("sortUnitDirection")[0]:"last"===column_name?direction=this.select("sortPriceDirection")[0]:"name"===column_name&&(direction=this.select("sortNameDirection")[0]),direction},this.columnOrder=function(column_name){var column;return column=this.getColumn(column_name),"none"===column_name?"unsorted":column.hasClass("desc")?"desc":column.hasClass("asc")?"asc":"unsorted"},this.resetSort=function(column_name){var column,direction;return direction=this.getColumnDirection(column_name),column=this.getColumn(column_name),"none"!==column_name?column.hasClass("desc")?(this.updateColumnTransation(column[0],"desc","unsorted"),this.updateColumnTransation(direction,"fa-sort-desc","fa-unsorted")):column.hasClass("asc")?(this.updateColumnTransation(column[0],"asc","unsorted"),this.updateColumnTransation(direction,"fa-sort-asc","fa-unsorted")):void 0:void 0},this.sortColumn=function(column_name,column_order){var column,current_column_sort,direction,prev_column_sort;if("none"!==column_name)return column_name!==this.current_column&&this.resetSort(this.current_column),direction=this.getColumnDirection(column_name),column=this.getColumn(column_name),prev_column_sort="unsorted",current_column_sort="unsorted","none"!==column_order?(this.resetSort(column_name),this.updateColumnTransation(column[0],"unsorted",column_order),current_column_sort=column_order):column.hasClass("unsorted")?(this.updateColumnTransation(column[0],"unsorted","desc"),current_column_sort="desc"):column.hasClass("desc")?(this.updateColumnTransation(column[0],"desc","asc"),current_column_sort="asc",prev_column_sort="desc"):column.hasClass("asc")&&(this.updateColumnTransation(column[0],"asc","desc"),current_column_sort="desc",prev_column_sort="asc"),"unsorted"===prev_column_sort&&"desc"===current_column_sort?this.updateColumnTransation(direction,"fa-unsorted","fa-sort-desc"):"unsorted"===prev_column_sort&&"asc"===current_column_sort?this.updateColumnTransation(direction,"fa-unsorted","fa fa-sort-asc"):"desc"===prev_column_sort&&"asc"===current_column_sort?this.updateColumnTransation(direction,"fa-sort-desc","fa-sort-asc"):"asc"===prev_column_sort&&"desc"===current_column_sort&&this.updateColumnTransation(direction,"fa-sort-asc","fa-sort-desc"),this.current_column=column_name,this.trigger("market::tickers::sort",{unit:this.current_column,order:current_column_sort})},this.sortUnit=function(){return this.sortColumn(this.getCurrentUnit(),"none")},this.sortPrice=function(){return this.sortColumn("last","none")},this.sortName=function(){return this.sortColumn("name","none")},this.updateColumnTransation=function(selected,from,to){return selected.attributes["class"].value.indexOf(from)>0?(selected.attributes["class"].value=selected.attributes["class"].value.substr(0,selected.attributes["class"].value.indexOf(from)-1),selected.attributes["class"].value+=" "+to):void 0},this.switchMarketByMarket=function(market){var parameters;return parameters="?markets="+this.markets_filter+"&column="+this.current_column+"&order="+this.columnOrder(this.current_column)+"&unit="+this.current_unit+"&pinned="+this.markets_trades_pinned,window.location.href=window.formatter.market_url(market+parameters)},this.switchMarket=function(e){return"I"!==e.target.nodeName?this.switchMarketByMarket($(e.target).closest("tr").data("market")):void 0},this.after("initialize",function(){return this.on(document,"market::tickers",this.refresh),this.on(this.select("marketGroupItem"),"click",this.switchMarketGroup),this.on(this.select("marketsFilter"),"keydown",this.filterEditing),this.on(this.select("switchUnit"),"click",this.switchUnit),this.on(this.select("sortUnit"),"click",this.sortUnit),this.on(this.select("sortPrice"),"click",this.sortPrice),this.on(this.select("sortName"),"click",this.sortName),this.on(this.select("table"),"click",this.switchMarket),this.markets_filter=gon.markets_filter,this.current_column=gon.markets_column,this.current_unit=gon.markets_unit,this.markets_trades_pinned=gon.markets_pinned,this.markets_name_filter="",this.setPinned(this.markets_trades_pinned),this.resetSort("name"),this.setMarketGroup(this.markets_filter),this.sortColumn(this.current_column,gon.markets_column_order),this.setUnit(this.current_unit),this.hide_accounts=$("tr.hide"),$(".view_all_accounts").on("click",function(_this){return function(e){var $el,acc,_i,_j,_len,_len1,_ref,_ref1,_results,_results1;if($el=$(e.currentTarget),_this.hide_accounts.hasClass("show1")){for($el.text($el.data("show-text")),_ref=_this.hide_accounts,_results=[],_i=0,_len=_ref.length;_len>_i;_i++)acc=_ref[_i],"0.0000"!==acc.lastChild.firstChild.textContent?acc.attributes["class"].value.indexOf("show1")>0?(acc.attributes["class"].value=acc.attributes["class"].value.substr(0,acc.attributes["class"].value.indexOf("show1")-1),_results.push(acc.attributes["class"].value+=" hide")):_results.push(void 0):_results.push(void 0);return _results}if(_this.hide_accounts.hasClass("hide")){for($el.text($el.data("hide-text")),_ref1=_this.hide_accounts,_results1=[],_j=0,_len1=_ref1.length;_len1>_j;_j++)acc=_ref1[_j],"0.0000"!==acc.lastChild.firstChild.textContent?acc.attributes["class"].value.indexOf("hide")>0?(acc.attributes["class"].value=acc.attributes["class"].value.substr(0,acc.attributes["class"].value.indexOf("hide")-1),_results1.push(acc.attributes["class"].value+=" show1")):_results1.push(void 0):_results1.push(void 0);return _results1}}}(this))})})}.call(this),function(){window.MarketTickerUI=flight.component(function(){return this.attributes({askSelector:".ask .price",bidSelector:".bid .price",lastSelector:".last .price",priceSelector:".price"}),this.updatePrice=function(selector,price,trend){return selector.removeClass("text-up").removeClass("text-down").addClass(formatter.trend(trend)),selector.html(formatter.fixBid(price))},this.refresh=function(event,ticker){return this.updatePrice(this.select("askSelector"),ticker.sell,ticker.sell_trend),this.updatePrice(this.select("bidSelector"),ticker.buy,ticker.buy_trend),this.updatePrice(this.select("lastSelector"),ticker.last,ticker.last_trend)},this.after("initialize",function(){return this.on(document,"market::ticker",this.refresh)})})}.call(this),function(){window.MarketTradesUI=flight.component(function(){return flight.compose.mixin(this,[NotificationMixin]),this.attributes({defaultHeight:156,tradeSelector:"tr",newTradeSelector:"tr.new",allSelector:"a.all",mySelector:"a.my",allTableSelector:"table.all-trades tbody",myTableSelector:"table.my-trades tbody",newMarketTradeContent:"table.all-trades tr.new div",newMyTradeContent:"table.my-trades tr.new div",tradesLimit:80}),this.showAllTrades=function(){return this.select("mySelector").removeClass("active"),this.select("allSelector").addClass("active"),this.select("myTableSelector").hide(),this.select("allTableSelector").show()},this.showMyTrades=function(){return this.select("allSelector").removeClass("active"),this.select("mySelector").addClass("active"),this.select("allTableSelector").hide(),this.select("myTableSelector").show()},this.bufferMarketTrades=function(event,data){return this.marketTrades=this.marketTrades.concat(data.trades)},this.clearMarkers=function(table){return table.find("tr.new").removeClass("new"),table.find("tr").slice(this.attr.tradesLimit).remove()},this.notifyMyTrade=function(trade){var market,message;return market=gon.markets[trade.market],message=gon.i18n.notification.new_trade.replace(/%{kind}/g,gon.i18n[trade.kind]).replace(/%{id}/g,trade.id).replace(/%{price}/g,trade.price).replace(/%{volume}/g,trade.volume).replace(/%{base_unit}/g,market.base_unit.toUpperCase()).replace(/%{quote_unit}/g,market.quote_unit.toUpperCase()),this.notify(message)},this.isMine=function(trade){var t,_i,_len,_ref;if(0===this.myTrades.length)return!1;for(_ref=this.myTrades,_i=0,_len=_ref.length;_len>_i;_i++){if(t=_ref[_i],trade.tid===t.id)return!0;if(trade.tid>t.id)return!1}},this.handleMarketTrades=function(event,data){var el,trade,_i,_len,_ref;for(_ref=data.trades,_i=0,_len=_ref.length;_len>_i;_i++)trade=_ref[_i],this.marketTrades.unshift(trade),trade.classes="new",this.isMine(trade)&&(trade.classes+=" mine"),el=this.select("allTableSelector").prepend(JST["templates/market_trade"](trade));return this.marketTrades=this.marketTrades.slice(0,this.attr.tradesLimit),this.select("newMarketTradeContent").slideDown("slow"),setTimeout(function(_this){return function(){return _this.clearMarkers(_this.select("allTableSelector"))
}}(this),900)},this.handleMyTrades=function(event,data,notify){var el,trade,_i,_len,_ref;for(null==notify&&(notify=!0),_ref=data.trades,_i=0,_len=_ref.length;_len>_i;_i++)trade=_ref[_i],trade.market===gon.market.id&&(this.myTrades.unshift(trade),trade.classes="new",el=this.select("myTableSelector").prepend(JST["templates/my_trade"](trade)),this.select("allTableSelector").find("tr#market-trade-"+trade.id).addClass("mine")),notify&&this.notifyMyTrade(trade);return this.myTrades.length>this.attr.tradesLimit&&(this.myTrades=this.myTrades.slice(0,this.attr.tradesLimit)),this.select("newMyTradeContent").slideDown("slow"),setTimeout(function(_this){return function(){return _this.clearMarkers(_this.select("myTableSelector"))}}(this),900)},this.after("initialize",function(){return this.marketTrades=[],this.myTrades=[],this.on(document,"trade::populate",function(_this){return function(event,data){return _this.handleMyTrades(event,{trades:data.trades.reverse()},!1)}}(this)),this.on(document,"trade",function(_this){return function(event,trade){return _this.handleMyTrades(event,{trades:[trade]})}}(this)),this.on(document,"market::trades",this.handleMarketTrades),this.on(this.select("allSelector"),"click",this.showAllTrades),this.on(this.select("mySelector"),"click",this.showMyTrades)})})}.call(this),function(){this.MyOrdersUI=flight.component(function(){return flight.compose.mixin(this,[ItemListMixin]),this.getTemplate=function(order){return $(JST["templates/order_active"](order))},this.orderHandler=function(event,order){if(order.market===gon.market.id)switch(order.state){case"wait":return this.addOrUpdateItem(order);case"cancel":return this.removeItem(order.id);case"done":return this.removeItem(order.id)}},this.cancelOrder=function(event){var tr;return tr=$(event.target).parents("tr"),confirm(formatter.t("place_order").confirm_cancel)?$.ajax({url:formatter.market_url(gon.market.id,tr.data("id")),method:"delete"}):void 0},this.after("initialize",function(){return this.on(document,"order::wait::populate",this.populate),this.on(document,"order::wait order::cancel order::done",this.orderHandler),this.on(this.select("tbody"),"click",this.cancelOrder)})})}.call(this),function(){this.OrderBookUI=flight.component(function(){return this.attributes({bookLimit:30,askBookSel:"table.asks",bidBookSel:"table.bids",seperatorSelector:"table.seperator",fade_toggle_depth:"#fade_toggle_depth"}),this.update=function(event,data){return this.updateOrders(this.select("bidBookSel"),_.first(data.bids,this.attr.bookLimit),"bid"),this.updateOrders(this.select("askBookSel"),_.first(data.asks,this.attr.bookLimit),"ask")},this.appendRow=function(book,template,data){return data.classes="new",book.append(template(data))},this.insertRow=function(book,row,template,data){return data.classes="new",row.before(template(data))},this.updateRow=function(row,order,index,v1,v2){return row.data("order",index),v1.equals(v2)?void 0:(v2.greaterThan(v1)?row.addClass("text-up"):row.addClass("text-down"),row.data("volume",order[1]),row.find("td.volume").html(formatter.mask_fixed_volume(order[1])),row.find("td.amount").html(formatter.amount(order[1],order[0])))},this.mergeUpdate=function(bid_or_ask,book,orders,template){var $row,i,j,order,p1,p2,row,rows,v1,v2,_results;for(rows=book.find("tr"),i=j=0,_results=[];;)if(row=rows[i],order=orders[j],$row=$(row),row&&order)p1=new BigNumber($row.data("price")),v1=new BigNumber($row.data("volume")),p2=new BigNumber(order[0]),v2=new BigNumber(order[1]),"ask"===bid_or_ask&&p2.lessThan(p1)||"bid"===bid_or_ask&&p2.greaterThan(p1)?(this.insertRow(book,$row,template,{price:order[0],volume:order[1],index:j}),_results.push(j+=1)):p1.equals(p2)?(this.updateRow($row,order,j,v1,v2),i+=1,_results.push(j+=1)):($row.addClass("obsolete"),_results.push(i+=1));else if(row)$row.addClass("obsolete"),_results.push(i+=1);else{if(!order)break;this.appendRow(book,template,{price:order[0],volume:order[1],index:j}),_results.push(j+=1)}return _results},this.clearMarkers=function(book){var obsolete,obsolete_divs;return book.find("tr.new").removeClass("new"),book.find("tr.text-up").removeClass("text-up"),book.find("tr.text-down").removeClass("text-down"),obsolete=book.find("tr.obsolete"),obsolete_divs=book.find("tr.obsolete div"),obsolete_divs.slideUp("slow",function(){return obsolete.remove()})},this.updateOrders=function(table,orders,bid_or_ask){var book;return book=this.select(""+bid_or_ask+"BookSel"),this.mergeUpdate(bid_or_ask,book,orders,JST["templates/order_book_"+bid_or_ask]),book.find("tr.new div").slideDown("slow"),setTimeout(function(_this){return function(){return _this.clearMarkers(_this.select(""+bid_or_ask+"BookSel"))}}(this),900)},this.computeDeep=function(event,orders,type){var balance,done,index,origVolume,price,subamount,total,total_fun,volume,volume_fun;return balance=BigNumber(this.getBalance(type)),index=Number($(event.currentTarget).data("order")),orders=_.take(orders,index+1),volume_fun=function(memo,num){return memo.plus(BigNumber(num[1]))},volume=_.reduce(orders,volume_fun,BigNumber(0)),"bid"===type&&(done=!1,total_fun=function(memo,num){var diff,part,subtotal;return done?memo:(part=BigNumber(num[0]).times(BigNumber(num[1])),subtotal=memo.plus(part),subtotal.greaterThan(balance)&&(diff=subtotal.minus(balance).dividedBy(BigNumber(num[1])),volume=volume.minus(diff),subtotal=memo.plus(BigNumber(num[0]).minus(diff).times(BigNumber(num[1]))),done=!0),subtotal)}),"ask"===type&&(done=!1,subamount=BigNumber(0),total_fun=function(memo,num){var diff,part,subtotal;return done?memo:(subamount=subamount.plus(BigNumber(num[1])),part=BigNumber(num[0]).times(BigNumber(num[1])),subtotal=memo.plus(part),subamount.greaterThan(balance)&&(diff=subamount.minus(balance),volume=subamount.minus(diff),subtotal=memo.plus(BigNumber(num[1]).minus(diff).times(BigNumber(num[0]))),done=!0),subtotal)}),total=_.reduce(orders,total_fun,BigNumber(0)),price=BigNumber(_.last(orders)[0]),origVolume=_.last(orders)[1],{price:price,volume:volume,origVolume:origVolume,total:total}},this.placeOrder=function(target,data){return this.trigger(target,"place_order::order::total",data)},this.placeOtherOrder=function(target,data){return this.trigger(target,"place_order::input::price",data),this.trigger(target,"place_order::input::volume",data)},this.getBalance=function(type){return"bid"===type?this.balance_bid:this.balance_ask},this.onBidBalanceChange=function(e,data){return this.balance_bid=data.balance},this.onAskBalanceChange=function(e,data){return this.balance_ask=data.balance},this.after("initialize",function(){var _ref,_ref1;return this.on(document,"market::order_book::update",this.update),this.on(document,"place_order::balance::change::bid",this.onBidBalanceChange),this.on(document,"place_order::balance::change::ask",this.onAskBalanceChange),void 0!==gon.accounts&&void 0!==gon.market.ask&&void 0!==gon.market.bid?(this.balance_ask=(null!=(_ref=gon.accounts[gon.market.ask.currency])?_ref.balance:void 0)||0,this.balance_bid=(null!=(_ref1=gon.accounts[gon.market.bid.currency])?_ref1.balance:void 0)||0):(this.balance_ask=0,this.balance_bid=0),this.on(this.select("fade_toggle_depth"),"click",function(_this){return function(){return _this.trigger("market::depth::fade_toggle")}}(this)),$(".asks").on("click","tr",function(_this){return function(e){var i;return i=$(e.target).closest("tr").data("order"),_this.placeOrder($("#bid_entry"),_.extend(_this.computeDeep(e,gon.asks,"bid"),{type:"ask"})),_this.placeOtherOrder($("#ask_entry"),{price:BigNumber(gon.asks[i][0]),volume:BigNumber(gon.asks[i][1]),total:BigNumber(gon.asks[i][0]).times(BigNumber(gon.asks[i][1]))})}}(this)),$(".bids").on("click","tr",function(_this){return function(e){var i;return i=$(e.target).closest("tr").data("order"),_this.placeOrder($("#ask_entry"),_.extend(_this.computeDeep(e,gon.bids,"ask"),{type:"bid"})),_this.placeOtherOrder($("#bid_entry"),{price:BigNumber(gon.bids[i][0]),volume:BigNumber(gon.bids[i][1]),total:BigNumber(gon.bids[i][0]).times(BigNumber(gon.bids[i][1]))})}}(this))})})}.call(this),function(){this.OrderPriceUI=flight.component(function(){return flight.compose.mixin(this,[OrderInputMixin]),this.attributes({precision:gon.market.bid.fixed,variables:{input:"price",known:"volume",output:"total"}}),this.getLastPrice=function(){return Number(gon.ticker.last)},this.toggleAlert=function(){var lastPrice;switch(lastPrice=this.getLastPrice(),!1){case!!this.value:return this.trigger("place_order::price_alert::hide");case!(this.value>1.1*lastPrice):return this.trigger("place_order::price_alert::show",{label:"price_high"});case!(this.value<.9*lastPrice):return this.trigger("place_order::price_alert::show",{label:"price_low"});default:return this.trigger("place_order::price_alert::hide")}},this.onOutput=function(event,order){var price;return price=order.total.div(order.volume),this.$node.val(price)},this.after("initialize",function(){return this.on("focusout",this.toggleAlert)})})}.call(this),function(){this.OrderTotalUI=flight.component(function(){return flight.compose.mixin(this,[OrderInputMixin]),this.attributes({precision:gon.market.bid.fixed,variables:{input:"total",known:"price",output:"volume"}}),this.onOutput=function(event,order){var total;return total=order.price.times(order.volume),this.validateRange(total)||this.changeOrder(this.value),this.setInputValue(this.value),order.total=this.value,this.trigger("place_order::order::updated",order)}})}.call(this),function(){this.OrderVolumeUI=flight.component(function(){return flight.compose.mixin(this,[OrderInputMixin]),this.attributes({precision:gon.market.ask.fixed,variables:{input:"volume",known:"price",output:"total"}}),this.onOutput=function(event,order){var volume;if(!order.price.equals(0))return volume=order.total.div(order.price),this.validateRange(volume)||this.changeOrder(this.value),this.setInputValue(this.value),order.volume=this.value,this.trigger("place_order::order::updated",order)}})}.call(this),function(){this.PlaceOrderUI=flight.component(function(){return this.attributes({formSel:"form",successSel:".status-success",infoSel:".status-info",feeSel:".status-fee",dangerSel:".status-danger",priceAlertSel:".hint-price-disadvantage",positionsLabelSel:".hint-positions",feeLabelSel:".hint-fee",feeLabelInfo:".fee-info",feeLabelDiscountInfo:".fee-discount-info",priceSel:"input[id$=price]",volumeSel:"input[id$=volume]",totalSel:"input[id$=total]",bidSel:"input[id='calculate_bid']",askSel:"input[id='calculate_ask']",currentBalanceSel:"span.current-balance",submitButton:":submit"}),this.panelType=function(){switch(this.$node.attr("id")){case"bid_entry":return"bid";case"ask_entry":return"ask"}},this.cleanMsg=function(){return this.select("successSel").text(""),this.select("infoSel").text(""),this.select("dangerSel").text(""),this.select("feeSel").text("")},this.resetForm=function(){return this.trigger("place_order::reset::price"),this.trigger("place_order::reset::volume"),this.trigger("place_order::reset::total"),this.priceAlertHide()},this.disableSubmit=function(){return this.select("submitButton").addClass("disabled").attr("disabled","disabled")},this.enableSubmit=function(){return this.select("submitButton").removeClass("disabled").removeAttr("disabled")},this.confirmDialogMsg=function(){var confirmType,price,sum,volume;return confirmType=this.select("submitButton").text(),price=this.select("priceSel").val(),volume=this.select("volumeSel").val(),sum=this.select("totalSel").val(),""+gon.i18n.place_order.confirm_submit+' "'+confirmType+'"?\n\n'+gon.i18n.place_order.price+": "+price+"\n"+gon.i18n.place_order.volume+": "+volume+"\n"+gon.i18n.place_order.sum+": "+sum},this.beforeSend=function(event,jqXHR){return this.disableSubmit()},this.handleSuccess=function(event,data){return this.cleanMsg(),this.select("successSel").append(JST["templates/hint_order_success"]({msg:data.message})).show(),this.resetForm(event),window.sfx_success(),this.enableSubmit()},this.handleError=function(event,data){var ef_class,json;return this.cleanMsg(),ef_class="shake shake-constant hover-stop",json=JSON.parse(data.responseText),console.log(json),this.select("dangerSel").append(JST["templates/hint_order_warning"]({msg:json.message})).show().addClass(ef_class).wait(500).removeClass(ef_class),window.sfx_warning(),this.enableSubmit()},this.getBalance=function(){return BigNumber(this.select("currentBalanceSel").data("balance"))},this.getLastPrice=function(){return BigNumber(gon.ticker.last)},this.allIn=function(){switch(this.panelType()){case"ask":return this.trigger("place_order::input::volume",{volume:this.getBalance()});case"bid":return this.trigger("place_order::input::total",{total:this.getBalance()})}},this.refreshBalance=function(){var balance,currency,type,_ref;return type=this.panelType(),currency=gon.market[type].currency,balance=(null!=(_ref=gon.accounts[currency])?_ref.balance:void 0)||0,this.select("currentBalanceSel").data("balance",balance),this.select("currentBalanceSel").text(formatter.fix(type,balance)),this.trigger("place_order::balance::change",{balance:BigNumber(balance)}),this.trigger("place_order::max::"+this.usedInput,{max:BigNumber(balance)}),this.trigger("place_order::balance::change::"+type,{balance:BigNumber(balance)})},this.roundValueToText=function(v,precision){return v.round(precision,BigNumber.ROUND_DOWN).toF(precision)},this.updateOrder=function(event,data){return this.select("priceSel").val(BigNumber(data.price).round(gon.market.bid.fixed,BigNumber.ROUND_DOWN).toF(gon.market.bid.fixed)),this.select("volumeSel").val(BigNumber(data.volume).round(gon.market.ask.fixed,BigNumber.ROUND_DOWN).toF(gon.market.ask.fixed)),this.select("totalSel").val(BigNumber(data.total).round(gon.market.bid.fixed,BigNumber.ROUND_DOWN).toF(gon.market.bid.fixed)),this.updateAvailable(event,data)},this.updateAvailable=function(event,order){var available,fee,fee_actual_percent,node,spero_account,spero_discount_flag,type;return this.current_order=order,type=this.panelType(),node=this.select("currentBalanceSel"),order[this.usedInput]||(order[this.usedInput]=0),available=formatter.fix(type,this.getBalance().minus(order[this.usedInput])),fee=0,fee_actual_percent=0,fee="ask"===type?gon.market.ask.fee:gon.market.bid.fee,spero_discount_flag=-1,spero_account=gon.accounts.spero,spero_account.hasOwnProperty("spero_discount")&&(spero_account.spero_discount===!0&&(spero_discount_flag=1),spero_account.spero_discount===!1&&(spero_discount_flag=0)),fee_actual_percent=fee,1===spero_discount_flag&&(fee_actual_percent=fee/2),order.fee=order.hasOwnProperty("total")?order.total*fee:order[this.usedInput]*fee,order.fee_percent=100*fee,order.fee_actual_percent=100*fee_actual_percent,order.spero_discount_flag=spero_discount_flag,0!==this.select("priceSel").val()&&""!==this.select("priceSel").val()?(this.select("feeLabelSel").hide().text(formatter.fixPriceGroup(order.fee)).fadeIn(),this.select("feeLabelInfo").hide().text(formatter.round(order.fee_actual_percent,2)+"%").fadeIn()):(this.select("feeLabelSel").fadeOut().text(""),this.select("feeLabelInfo").fadeOut().text("")),1===order.spero_discount_flag?this.select("feeLabelDiscountInfo").fadeOut().text(""):this.select("feeLabelDiscountInfo").hide().text("").fadeIn(),BigNumber(available).lessThan(1e-9)?this.select("positionsLabelSel").hide().text(gon.i18n.place_order["full_"+type]).fadeIn():this.select("positionsLabelSel").fadeOut().text(""),node.text(available)},this.priceAlertHide=function(){return this.select("priceAlertSel").fadeOut(function(){return $(this).text("")})},this.priceAlertShow=function(event,data){return this.select("priceAlertSel").hide().text(gon.i18n.place_order[data.label]).fadeIn()},this.clear=function(e){return e.currentTarget.checked?(this.disableSubmit(),this.refreshBalance(null,null),this.trigger("place_order::max::"+this.usedInput,{max:BigNumber("1000000000000.0")}),this.trigger("place_order::balance::change::"+this.panelType(),{balance:BigNumber("1000000000000.0")})):(this.enableSubmit(),this.refreshBalance(null,null)),this.resetForm(e),this.select("feeLabelSel").fadeOut().text(""),this.select("feeLabelInfo").fadeOut().text(""),this.trigger("place_order::focus::price")},this.calculatorClick=function(e){return this.clear(e)},this.after("initialize",function(){var type;return type=this.panelType(),this.usedInput="ask"===type?"volume":"total",this.current_order=null,PlaceOrderData.attachTo(this.$node),OrderPriceUI.attachTo(this.select("priceSel"),{form:this.$node,type:type}),OrderVolumeUI.attachTo(this.select("volumeSel"),{form:this.$node,type:type}),OrderTotalUI.attachTo(this.select("totalSel"),{form:this.$node,type:type}),this.on("place_order::price_alert::hide",this.priceAlertHide),this.on("place_order::price_alert::show",this.priceAlertShow),this.on("place_order::order::updated",this.updateAvailable),this.on("place_order::clear",this.clear),this.on("place_order::order::total",this.updateOrder),this.on(document,"account::update",this.refreshBalance),this.on(this.select("formSel"),"ajax:beforeSend",this.beforeSend),this.on(this.select("formSel"),"ajax:success",this.handleSuccess),this.on(this.select("formSel"),"ajax:error",this.handleError),this.on(this.select("currentBalanceSel"),"click",this.allIn),"bid"===this.panelType()?this.on(this.select("bidSel"),"click",this.calculatorClick):this.on(this.select("askSel"),"click",this.calculatorClick)})})}.call(this),function(){this.PushButton=flight.component(function(){return this.attributes({buttons:".type-toggle button"}),this.setActiveButton=function(event){return this.select("buttons").removeClass("active"),$(event.target).closest("button").addClass("active")},this.after("initialize",function(){return this.on(this.select("buttons"),"click",this.setActiveButton)})})}.call(this),function(){}.call(this),function(){this.SettingsUI=flight.component(function(){return this.attributes({spero_discount_mark:"#spero_discount_mark"}),this.updateDiscounts=function(){var account,currency,spero_discount_flag,spero_discount_mark_node,_ref;spero_discount_flag=-1,_ref=this.accounts;for(currency in _ref)account=_ref[currency],"spero"===account.currency&&account.hasOwnProperty("spero_discount")&&(account.spero_discount===!0&&(spero_discount_flag=1),account.spero_discount===!1&&(spero_discount_flag=0));return spero_discount_mark_node=this.select("spero_discount_mark"),1===spero_discount_flag?(spero_discount_mark_node.attr("class","fa fa-star"),spero_discount_mark_node.attr("style","color: #e6b800")):0===spero_discount_flag?(spero_discount_mark_node.attr("class","_empty"),spero_discount_mark_node.attr("style","_empty")):void 0},this.after("initialize",function(){return this.accounts=gon.accounts,this.on(document,"account::update",function(_this){return function(event,data){return _this.accounts=data,_this.updateDiscounts()}}(this)),this.on(document,"market::tickers",function(_this){return function(event,data){return _this.tickers=data.raw,_this.updateDiscounts()}}(this))})})}.call(this),function(){this.SmsAuthVerifyUI=flight.component(function(){return this.countDown=0,this.attributes({phoneNumberInput:"#token_sms_token_phone_number",verifyCodeInput:"#token_sms_token_verify_code",sendCodeButton:"button[value=send_code]"}),this.verifyPhoneNumber=function(event){return this.select("phoneNumberInput").parent().removeClass("has-error"),""===this.select("phoneNumberInput").val()?(this.select("phoneNumberInput").parent().addClass("has-error"),event.preventDefault()):setTimeout(function(_this){return function(){return _this.countDownSendCodeButton()}}(this),0)},this.countDownSendCodeButton=function(){var altName,countDownTimer,origName;return origName=this.select("sendCodeButton").data("orig-name"),altName=this.select("sendCodeButton").data("alt-name"),this.countDown=30,this.select("sendCodeButton").attr("disabled","disabled").addClass("disabled"),(countDownTimer=function(_this){return function(){return setTimeout(function(){return 0!==_this.countDown?(_this.countDown--,_this.select("sendCodeButton").text(altName.replace("COUNT",_this.countDown)),countDownTimer()):_this.select("sendCodeButton").removeAttr("disabled").removeClass("disabled").text(origName)},1e3)}}(this))()},this.beforeSend=function(event,jqXHR,settings){var input;if(!settings.data.match("send_code"))return input=this.select("verifyCodeInput"),input.parent().removeClass("has-error"),""===input.val()?(input.parent().addClass("has-error"),jqXHR.abort()):void 0},this.handleSuccess=function(event,text){var data;return data=JSON.parse(text),data.reload&&window.location.reload(),this.trigger("flash:notice",{msg:data.text})},this.handleError=function(event,jqXHR){var data;return data=JSON.parse(jqXHR.responseText),this.countDown=0,this.trigger("flash:alert",{msg:data.text})},this.after("initialize",function(){return this.on(this.select("sendCodeButton"),"click",this.verifyPhoneNumber),this.on("ajax:beforeSend",this.beforeSend),this.on("ajax:success",this.handleSuccess),this.on("ajax:error",this.handleError)})})}.call(this),function(){this.SwitchUI=flight.component(function(){return this.attributes({"switch":"li > a"}),this.getX=function(){return Cookies.get(this.name())?Cookies.get(this.name()):this.setX(this.defaultX())},this.setX=function(x){return Cookies.set(this.name(),x),x},this.name=function(){return this.$node.attr("id")},this.defaultX=function(){return this.$node.data("x")},this.init=function(){return this.$node.find("[data-x="+this.getX()+"]").click()},this.after("initialize",function(){return this.on(this.select("switch"),"click",function(_this){return function(e){var x;return _this.select("switch").removeClass("active"),$(e.currentTarget).addClass("active"),x=$(e.currentTarget).data("x"),_this.setX(x),_this.trigger("switch::"+_this.name(),{x:x})}}(this)),this.on(document,"switch::"+this.name()+"::init",this.init),this.init()})})}.call(this),function(){this.TwoFactorAuth=flight.component(function(){return this.attributes({switchName:"span.switch-name",switchItem:".dropdown-menu a",switchItemApp:'.dropdown-menu a[data-type="app"]',switchItemSms:'.dropdown-menu a[data-type="sms"]',sendCodeButtonContainer:".send-code-button",sendCodeButton:"button[value=send_code]",authType:".two_factor_auth_type",appHint:"span.hint.app",smsHint:"span.hint.sms",chapterWrap:".captcha-wrap"}),this.setActiveItem=function(event){switch($(event.target).data("type")){case"app":return this.switchToApp();case"sms":return this.switchToSms()}},this.switchToApp=function(){return this.select("switchName").text(this.select("switchItemApp").text()),this.select("sendCodeButtonContainer").addClass("hide"),this.select("authType").val("app"),this.select("smsHint").addClass("hide"),this.select("appHint").removeClass("hide")},this.switchToSms=function(){return this.select("switchName").text(this.select("switchItemSms").text()),this.select("sendCodeButtonContainer").removeClass("hide"),this.select("authType").val("sms"),this.select("smsHint").removeClass("hide"),this.select("appHint").addClass("hide")},this.countDownSendCodeButton=function(){var altName,countDown,countDownTimer,origName;return origName=this.select("sendCodeButton").data("orig-name"),altName=this.select("sendCodeButton").data("alt-name"),countDown=30,this.select("sendCodeButton").attr("disabled","disabled").addClass("disabled"),(countDownTimer=function(_this){return function(){return setTimeout(function(){return 0!==countDown?(countDown--,_this.select("sendCodeButton").text(altName.replace("COUNT",countDown)),countDownTimer()):_this.select("sendCodeButton").removeAttr("disabled").removeClass("disabled").text(origName)},1e3)}}(this))()},this.sendCode=function(event){return event.preventDefault(),this.countDownSendCodeButton(),$.get("/two_factors/sms?refresh=true")},this.checkCaptchaRequired=function(){return this.select("chapterWrap").load("/two_factors/app",function(html){return $(this).html(html)})},this.after("initialize",function(){return this.checkCaptchaRequired(),$.subscribe("withdraw:form:submitted",function(_this){return function(){return _this.checkCaptchaRequired()}}(this)),this.on(this.select("switchItem"),"click",this.setActiveItem),this.on(this.select("sendCodeButton"),"click",this.sendCode)})})}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/flash_message"]=function(__obj){__obj||(__obj={});var __safe,__out=[],__sanitize=function(value){return value&&value.ecoSafe?value:"undefined"!=typeof value&&null!=value?__escape(value):""},__objSafe=__obj.safe,__escape=__obj.escape;return __safe=__obj.safe=function(value){if(value&&value.ecoSafe)return value;("undefined"==typeof value||null==value)&&(value="");var result=new String(value);return result.ecoSafe=!0,result},__escape||(__escape=__obj.escape=function(value){return(""+value).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}),function(){(function(){this.notice&&(__out.push('\n<div class="alert alert-dismissable alert-success" id="notice">\n  <button aria-hidden="true" class="close" data-dismiss="alert" type="button">×</button>\n  <h5><i class="fa fa-bullhorn"></i><span>'),__out.push(__sanitize(this.msg)),__out.push("</span></h5>\n</div>\n")),__out.push("\n"),this.alert&&(__out.push('\n<div class="alert alert-dismissable alert-warning" id="alert">\n  <button aria-hidden="true" class="close" data-dismiss="alert" type="button">×</button>\n  <h5><i class="fa fa-info-circle"></i><span>'),__out.push(__sanitize(this.msg)),__out.push("</span></h5>\n</div>\n")),__out.push("\n"),this.info&&(__out.push('\n<div class="alert alert-dismissable alert-info" id="info">\n  <button aria-hidden="true" class="close" data-dismiss="alert" type="button">×</button>\n  <h5><i class="fa fa-info-circle"></i><span>'),__out.push(__sanitize(this.msg)),__out.push("</span></h5>\n</div>\n")),__out.push("\n")}).call(this)}.call(__obj),__obj.safe=__objSafe,__obj.escape=__escape,__out.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/hint_order_success"]=function(__obj){__obj||(__obj={});var __safe,__out=[],__sanitize=function(value){return value&&value.ecoSafe?value:"undefined"!=typeof value&&null!=value?__escape(value):""},__objSafe=__obj.safe,__escape=__obj.escape;return __safe=__obj.safe=function(value){if(value&&value.ecoSafe)return value;("undefined"==typeof value||null==value)&&(value="");var result=new String(value);return result.ecoSafe=!0,result},__escape||(__escape=__obj.escape=function(value){return(""+value).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}),function(){(function(){__out.push('<i class="fa fa-check text-default">\n  '),__out.push(__sanitize(this.msg)),__out.push("\n</i>\n")}).call(this)}.call(__obj),__obj.safe=__objSafe,__obj.escape=__escape,__out.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/hint_order_warning"]=function(__obj){__obj||(__obj={});var __safe,__out=[],__sanitize=function(value){return value&&value.ecoSafe?value:"undefined"!=typeof value&&null!=value?__escape(value):""},__objSafe=__obj.safe,__escape=__obj.escape;return __safe=__obj.safe=function(value){if(value&&value.ecoSafe)return value;("undefined"==typeof value||null==value)&&(value="");var result=new String(value);return result.ecoSafe=!0,result},__escape||(__escape=__obj.escape=function(value){return(""+value).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}),function(){(function(){__out.push('<i class="fa fa-times text-default">\n  '),__out.push(__sanitize(this.msg)),__out.push("\n</i>\n")}).call(this)}.call(__obj),__obj.safe=__objSafe,__obj.escape=__escape,__out.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/market_trade"]=function(__obj){__obj||(__obj={});var __safe,__out=[],__sanitize=function(value){return value&&value.ecoSafe?value:"undefined"!=typeof value&&null!=value?__escape(value):""},__objSafe=__obj.safe,__escape=__obj.escape;return __safe=__obj.safe=function(value){if(value&&value.ecoSafe)return value;("undefined"==typeof value||null==value)&&(value="");var result=new String(value);return result.ecoSafe=!0,result},__escape||(__escape=__obj.escape=function(value){return(""+value).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}),function(){(function(){var trend;trend=formatter.trend(this.type),__out.push("\n\n<tr id='market-trade-"),__out.push(__sanitize(this.tid)),__out.push("' class='"),__out.push(__sanitize(this.classes)),__out.push('\'>\n  <td class="time text-left col-xs-4" style="font-size: 12px"><div>\n    '),__out.push(formatter.trade_time(this.date)),__out.push('\n  </div></td>\n  <td class="my text-left col-xs-1" style="font-size: 12px; padding: 0 20px 0 0"><div>\n    <i class=\'fa fa-star\'></i>\n  </div></td>\n  <td class=\'price text-right col-xs-5 '),__out.push(__sanitize(trend)),__out.push("' style='font-size: 12px; padding: 0 0 0 0; font-weight: bold'><div>\n    "),__out.push(formatter.ticker_price(this.price)),__out.push("\n  </div></td>\n  <td class='volume text-right col-xs-7' title='"),__out.push(__sanitize(formatter.fix_bid(this.price*this.amount))),__out.push("' style='font-size: 12px; font-weight: bold'><div>\n    "),__out.push(formatter.mask_fixed_volume(this.amount)),__out.push("\n  </div></td>\n</tr>\n")}).call(this)}.call(__obj),__obj.safe=__objSafe,__obj.escape=__escape,__out.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/my_trade"]=function(__obj){__obj||(__obj={});var __safe,__out=[],__sanitize=function(value){return value&&value.ecoSafe?value:"undefined"!=typeof value&&null!=value?__escape(value):""},__objSafe=__obj.safe,__escape=__obj.escape;return __safe=__obj.safe=function(value){if(value&&value.ecoSafe)return value;("undefined"==typeof value||null==value)&&(value="");var result=new String(value);return result.ecoSafe=!0,result},__escape||(__escape=__obj.escape=function(value){return(""+value).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}),function(){(function(){var trend;trend=formatter.trend(this.kind),__out.push("\n\n<tr class='"),__out.push(__sanitize(this.classes)),__out.push('\'>\n  <td colspan=2 class="time text-left col-xs-8" style="font-size: 12px"><div>\n    '),__out.push(formatter.fulltime(this.at)),__out.push("\n  </div></td>\n  <td class='price text-right col-xs-6 "),__out.push(__sanitize(trend)),__out.push("' style='font-size: 12px; font-weight: bold'><div>\n    "),__out.push(formatter.mask_fixed_price(this.price)),__out.push("\n  </div></td>\n  <td class='volume text-right col-xs-6' style='font-size: 12px; font-weight: bold'><div>\n    "),__out.push(formatter.mask_fixed_volume(this.volume)),__out.push("\n  </div></td>\n</tr>\n")}).call(this)}.call(__obj),__obj.safe=__objSafe,__obj.escape=__escape,__out.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/order_active"]=function(__obj){__obj||(__obj={});var __safe,__out=[],__sanitize=function(value){return value&&value.ecoSafe?value:"undefined"!=typeof value&&null!=value?__escape(value):""},__objSafe=__obj.safe,__escape=__obj.escape;return __safe=__obj.safe=function(value){if(value&&value.ecoSafe)return value;("undefined"==typeof value||null==value)&&(value="");var result=new String(value);return result.ecoSafe=!0,result},__escape||(__escape=__obj.escape=function(value){return(""+value).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}),function(){(function(){var trade_state;trade_state=this.origin_volume===this.volume?"new":"partial",__out.push('\n\n<tr data-id="'),__out.push(__sanitize(this.id)),__out.push('" data-kind="'),__out.push(__sanitize(this.kind)),__out.push('" class="order '),__out.push(__sanitize(this.kind)),__out.push("\">\n  <td class='time text-left col-xs-6'>\n    <span>"),__out.push(formatter.fulltime(this.at)),__out.push("</span>\n  </td>\n  <td class='kind text-left col-xs-6' style='padding: 0 50px 0 0'>\n    <span class='label label-"),__out.push(__sanitize(this.kind)),__out.push("'>"),__out.push(__sanitize(formatter.short_trade(this.kind))),__out.push("</span><span class='label label-"),__out.push(__sanitize(trade_state)),__out.push("'>"),__out.push(__sanitize(gon.i18n.trade_state[trade_state])),__out.push("</span>\n  </td>\n  <td class='price text-right col-xs-4 "),__out.push(__sanitize(formatter.trend(this.kind))),__out.push("' style='padding: 0 30px 0 0' >\n    <span>"),__out.push(formatter.mask_fixed_price(this.price)),__out.push("</span>\n  </td>\n  <td class='volume text-right col-xs-4' style='padding: 0 70px 0 0' >\n    <span>"),__out.push(formatter.mask_fixed_volume(this.volume)),__out.push("</span>\n  </td>\n  <td class='amount text-right col-xs-5' style='padding: 0 70px 0 0' >\n    <span>"),__out.push(formatter.amount(this.volume,this.price)),__out.push("</span>\n  </td>\n</tr>\n")
}).call(this)}.call(__obj),__obj.safe=__objSafe,__obj.escape=__escape,__out.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/order_book_ask"]=function(__obj){__obj||(__obj={});var __safe,__out=[],__sanitize=function(value){return value&&value.ecoSafe?value:"undefined"!=typeof value&&null!=value?__escape(value):""},__objSafe=__obj.safe,__escape=__obj.escape;return __safe=__obj.safe=function(value){if(value&&value.ecoSafe)return value;("undefined"==typeof value||null==value)&&(value="");var result=new String(value);return result.ecoSafe=!0,result},__escape||(__escape=__obj.escape=function(value){return(""+value).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}),function(){(function(){__out.push("<tr data-order='"),__out.push(__sanitize(this.index)),__out.push("' data-price='"),__out.push(__sanitize(this.price)),__out.push("' data-volume='"),__out.push(__sanitize(this.volume)),__out.push("' class='"),__out.push(__sanitize(this.classes)),__out.push("'>\n  <td class='price col-xs-7 text-down'><div>\n    "),__out.push(formatter.ticker_price(this.price)),__out.push("\n  </div></td>\n  <td class='volume col-xs-8'><div>\n    "),__out.push(formatter.mask_fixed_volume(this.volume)),__out.push("\n  </div></td>\n  <td class='amount col-xs-10'><div>\n    "),__out.push(formatter.amount(this.volume,this.price)),__out.push("\n  </div></td>\n</tr>\n")}).call(this)}.call(__obj),__obj.safe=__objSafe,__obj.escape=__escape,__out.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/order_book_bid"]=function(__obj){__obj||(__obj={});var __safe,__out=[],__sanitize=function(value){return value&&value.ecoSafe?value:"undefined"!=typeof value&&null!=value?__escape(value):""},__objSafe=__obj.safe,__escape=__obj.escape;return __safe=__obj.safe=function(value){if(value&&value.ecoSafe)return value;("undefined"==typeof value||null==value)&&(value="");var result=new String(value);return result.ecoSafe=!0,result},__escape||(__escape=__obj.escape=function(value){return(""+value).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}),function(){(function(){__out.push("<tr data-order='"),__out.push(__sanitize(this.index)),__out.push("' data-price='"),__out.push(__sanitize(this.price)),__out.push("' data-volume='"),__out.push(__sanitize(this.volume)),__out.push("' class='"),__out.push(__sanitize(this.classes)),__out.push("'>\n  <td class='amount col-xs-10' style='padding: 0 30px 0 0' ><div>\n    "),__out.push(formatter.amount(this.volume,this.price)),__out.push("\n  </div></td>\n  <td class='volume col-xs-8' style='padding: 0 30px 0 0' ><div>\n    "),__out.push(formatter.mask_fixed_volume(this.volume)),__out.push("\n  </div></td>\n  <td class='price col-xs-7 text-up'><div>\n    "),__out.push(formatter.ticker_price(this.price)),__out.push("\n  </div></td>\n</tr>\n")}).call(this)}.call(__obj),__obj.safe=__objSafe,__obj.escape=__escape,__out.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/order_done"]=function(__obj){__obj||(__obj={});var __safe,__out=[],__sanitize=function(value){return value&&value.ecoSafe?value:"undefined"!=typeof value&&null!=value?__escape(value):""},__objSafe=__obj.safe,__escape=__obj.escape;return __safe=__obj.safe=function(value){if(value&&value.ecoSafe)return value;("undefined"==typeof value||null==value)&&(value="");var result=new String(value);return result.ecoSafe=!0,result},__escape||(__escape=__obj.escape=function(value){return(""+value).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}),function(){(function(){__out.push("<tr data-id='"),__out.push(__sanitize(this.id)),__out.push("' data-kind='"),__out.push(__sanitize(this.kind)),__out.push("' class='order "),__out.push(__sanitize(this.kind)),__out.push("'>\n  <td class='time text-left col-xs-6'>\n    "),__out.push(formatter.fulltime(this.at)),__out.push("\n  </td>\n  <td class='kind text-left col-xs-6 "),__out.push(formatter.trend(this.kind)),__out.push("' style='padding: 0 50px 0 0'>\n    "),__out.push(formatter.short_trade(this.kind)),__out.push("\n  </td>\n  <td class='price text-right col-xs-4' style='padding: 0 30px 0 0'>\n    "),__out.push(__sanitize(formatter.fix_bid(this.price))),__out.push("\n  </td>\n  <td class='volume text-right col-xs-4' style='padding: 0 70px 0 0'>\n    "),__out.push(__sanitize(formatter.fix_ask(this.volume))),__out.push("\n  </td>\n  <td class='amount text-right col-xs-5' style='padding: 0 70px 0 0'>\n    "),__out.push(formatter.amount(this.volume,this.price)),__out.push("\n  </td>\n  <td class='col-xs-3'></td>\n</tr>\n")}).call(this)}.call(__obj),__obj.safe=__objSafe,__obj.escape=__escape,__out.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/tooltip"]=function(__obj){__obj||(__obj={});var __safe,__out=[],__sanitize=function(value){return value&&value.ecoSafe?value:"undefined"!=typeof value&&null!=value?__escape(value):""},__objSafe=__obj.safe,__escape=__obj.escape;return __safe=__obj.safe=function(value){if(value&&value.ecoSafe)return value;("undefined"==typeof value||null==value)&&(value="");var result=new String(value);return result.ecoSafe=!0,result},__escape||(__escape=__obj.escape=function(value){return(""+value).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}),function(){(function(){__out.push("<div class='chart-ticker'>\n  <span class='tooltip-title'>"),__out.push(__sanitize(this.title)),__out.push("</span>\n\n  <br />\n\n  <div class='tooltip-ticker'>\n    <span class=t-title>"),__out.push(__sanitize(gon.i18n.chart.open)),__out.push("</span>\n    <span class=t-value>"),__out.push(__sanitize(this.format(this.points.candlestick.open,gon.market.bid.fixed))),__out.push("</span>\n  </div>\n  <div class='tooltip-ticker'>\n    <span class=t-title>"),__out.push(__sanitize(gon.i18n.chart.close)),__out.push("</span>\n    <span class=t-value>"),__out.push(__sanitize(this.format(this.points.candlestick.close,gon.market.bid.fixed))),__out.push("</span>\n  </div>\n  <div class='tooltip-ticker'>\n    <span class=t-title>"),__out.push(__sanitize(gon.i18n.chart.high)),__out.push("</span>\n    <span class=t-value>"),__out.push(__sanitize(this.format(this.points.candlestick.high,gon.market.bid.fixed))),__out.push("</span>\n  </div>\n  <div class='tooltip-ticker'>\n    <span class=t-title>"),__out.push(__sanitize(gon.i18n.chart.low)),__out.push("</span>\n    <span class=t-value>"),__out.push(__sanitize(this.format(this.points.candlestick.low,gon.market.bid.fixed))),__out.push("</span>\n  </div>\n  <div class='tooltip-ticker'>\n    <span class=t-title>"),__out.push(__sanitize(gon.i18n.chart.volume)),__out.push("</span>\n    <span class=t-value>"),__out.push(__sanitize(this.format4(this.points.volume.y,4))),__out.push("</span>\n  </div>\n\n  <ul class='list-inline'>\n    "),this.indicator.MA&&(__out.push("\n      <li>\n        <span style='color: "),__out.push(__sanitize(this.points.ma5.series.color)),__out.push(";'>"),__out.push(__sanitize(this.points.ma5.series.name)),__out.push(": <b>"),__out.push(__sanitize(this.format(this.points.ma5.y,gon.market.bid.fixed))),__out.push("</b></span>\n      </li>\n      <li>\n        <span style='color: "),__out.push(__sanitize(this.points.ma10.series.color)),__out.push(";'>"),__out.push(__sanitize(this.points.ma10.series.name)),__out.push(": <b>"),__out.push(__sanitize(this.format(this.points.ma10.y,gon.market.bid.fixed))),__out.push("</b></span>\n      </li>\n    ")),__out.push("\n    "),this.indicator.EMA&&(__out.push("\n      <li>\n        <span style='color: "),__out.push(__sanitize(this.points.ema7.series.color)),__out.push(";'>"),__out.push(__sanitize(this.points.ema7.series.name)),__out.push(": <b>"),__out.push(__sanitize(this.format(this.points.ema7.y,gon.market.bid.fixed))),__out.push("</b></span>\n      </li>\n      <li>\n        <span style='color: "),__out.push(__sanitize(this.points.ema30.series.color)),__out.push(";'>"),__out.push(__sanitize(this.points.ema30.series.name)),__out.push(": <b>"),__out.push(__sanitize(this.format(this.points.ema30.y,gon.market.bid.fixed))),__out.push("</b></span>\n      </li>\n    ")),__out.push("\n  </ul>\n  <ul class='list-inline'>\n    "),this.macd_indicator.MACD&&(__out.push("\n      <li>\n        <span style='color: "),__out.push(__sanitize(this.points.macd.series.color)),__out.push(";'>"),__out.push(__sanitize(this.points.macd.series.name)),__out.push(": <b>"),__out.push(__sanitize(this.format(this.points.macd.y))),__out.push("</b></span>\n      </li>\n      <li>\n        <span style='color: "),__out.push(__sanitize(this.points.sig.series.color)),__out.push(";'>"),__out.push(__sanitize(this.points.sig.series.name)),__out.push(": <b>"),__out.push(__sanitize(this.format(this.points.sig.y))),__out.push("</b></span>\n      </li>\n      <li>\n        <span style='color: "),__out.push(__sanitize(this.points.hist.series.color)),__out.push(";'>"),__out.push(__sanitize(this.points.hist.series.name)),__out.push(": <b>"),__out.push(__sanitize(this.format(this.points.hist.y))),__out.push("</b></span>\n      </li>\n    ")),__out.push("\n  </ul>\n\n</div>\n")}).call(this)}.call(__obj),__obj.safe=__objSafe,__obj.escape=__escape,__out.join("")}}.call(this),function(){$(function(){return window.notifier=new Notifier,window.onresize=function(){return"false"===gon.markets_pinned?(this.markets_height=$("[id='market_list']").css("height"),this.trades_height=$("[id='market_trades']").css("height"),this.total_height=parseInt(this.markets_height,10)+parseInt(this.trades_height,10),$("left_side_tabs_wrapper").css("height",this.total_height)):void 0},BigNumber.config({ERRORS:!1}),window.innerWidth<=1440&&(this.current_url=window.location.href,-1===this.current_url.indexOf("pinned=false")&&(this.current_url.indexOf("pinned=true")>=0?this.current_url=this.current_url.replace("pinned=true","pinned=false"):-1===this.current_url.indexOf("pinned=")&&(this.current_url+=-1===this.current_url.indexOf("?")?"?pinned=false":"&pinned=false"),window.location.href=this.current_url)),HeaderUI.attachTo("header"),AccountSummaryUI.attachTo("#account_summary"),SettingsUI.attachTo("#settings"),FloatUI.attachTo(".float"),KeyBindUI.attachTo(document),PlaceOrderUI.attachTo("#bid_entry"),PlaceOrderUI.attachTo("#ask_entry"),OrderBookUI.attachTo("#order_book"),DepthUI.attachTo("#depths_wrapper"),MyOrdersUI.attachTo("#my_orders"),MarketTickerUI.attachTo("#ticker"),MarketTradesUI.attachTo("#market_trades_wrapper"),MarketData.attachTo(document),GlobalData.attachTo(document,{pusher:window.pusher}),MarketSwitchUI.attachTo("#market_list_wrapper"),gon.accounts&&MemberData.attachTo(document,{pusher:window.pusher}),CandlestickUI.attachTo("#candlestick"),SwitchUI.attachTo("#range_switch, #indicator_switch, #main_indicator_switch, #type_switch, #legend_indicator_switch"),this.markets_height=$("[id='market_list']").css("height"),"false"===gon.markets_pinned&&($("[id='market_list']").css("left","-1px"),$("[id='market_trades']").css("left","-1px"),$("[id='market_list']").css("top","-1px"),$("[id='market_trades']").css("top",parseInt(this.markets_height,10)+3),this.markets_menu_left=$("[id='market_list_wrapper']").find(".dropdown-wrapper").css("left"),$("[id='market_list_wrapper']").find(".dropdown-wrapper").css("left",parseInt(this.markets_menu_left,10)-3),this.markets_menu_top=$("[id='market_list_wrapper']").find(".dropdown-wrapper").css("top"),$("[id='market_list_wrapper']").find(".dropdown-wrapper").css("top",parseInt(this.markets_menu_top,10)-3),this.trades_menu_left=$("[id='market_trades_wrapper']").find(".dropdown-wrapper").css("left"),$("[id='market_trades_wrapper']").find(".dropdown-wrapper").css("left",parseInt(this.trades_menu_left,10)-3),this.trades_menu_top=$("[id='market_trades_wrapper']").find(".dropdown-wrapper").css("top"),$("[id='market_trades_wrapper']").find(".dropdown-wrapper").css("top",parseInt(this.trades_menu_top,10)-3),$("left_side_dock").css("background-color","transparent"),$("left_side_dock").css("border-color","transparent"),$("[id='candlestick']").css("left","1px")),window.onresize(null),AutoWindowUI.attachTo(window),$(".panel-body-content").niceScroll({autohidemode:!0,cursorborder:"none"})})}.call(this);